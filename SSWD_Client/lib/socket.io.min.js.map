{"version":3,"sources":["socket.io.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","lookup","uri","opts","_typeof","undefined","io","parsed","url","source","path","sameNamespace","cache","nsps","newConnection","forceNew","multiplex","debug","Manager","query","encodeQueryString","socket","obj","str","hasOwnProperty","push","encodeURIComponent","join","Symbol","iterator","constructor","prototype","parser","managers","protocol","connect","Socket","global","loc","location","host","charAt","test","parseuri","port","ipv6","indexOf","href","re","parts","src","b","e","substring","replace","length","exec","i","authority","ipv6uri","process","useColors","document","documentElement","style","window","console","firebug","exception","table","navigator","userAgent","toLowerCase","match","parseInt","RegExp","$1","formatArgs","args","arguments","namespace","humanize","diff","color","concat","Array","slice","index","lastC","splice","log","Function","apply","save","namespaces","storage","removeItem","load","env","DEBUG","chrome","local","localStorage","colors","formatters","j","v","JSON","stringify","err","message","enable","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","selectColor","prevColor","disabled","enabled","self","curr","Date","ms","prevTime","prev","coerce","format","formatter","val","bind","fn","split","skips","substr","names","disable","stack","parse","String","n","parseFloat","y","d","h","s","fmtShort","Math","round","fmtLong","plural","floor","ceil","options","type","isNaN","long","Encoder","encodeAsString","nsp","BINARY_EVENT","BINARY_ACK","attachments","data","json","encodeAsBinary","callback","writeEncoding","bloblessData","deconstruction","binary","deconstructPacket","pack","packet","buffers","unshift","removeBlobs","Decoder","reconstructor","decodeString","Number","types","error","buf","next","tryParse","BinaryReconstructor","reconPack","ERROR","Emitter","isBuf","CONNECT","DISCONNECT","EVENT","ACK","encode","add","base64","takeBinaryData","destroy","finishedReconstruction","binData","reconstructPacket","r","short","runInContext","context","has","undef","isSupported","value","serialized","stringifySupported","isExtended","toJSON","getClass","a","parseSupported","Object","SyntaxError","TypeError","nativeJSON","isProperty","forEach","objectProto","toString","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","Months","getDay","year","month","property","members","__proto__","original","result","parent","object","Properties","size","valueOf","isFunction","isConstructor","hasProperty","objectTypes","Escapes","92","34","8","12","10","13","9","toPaddedString","width","quote","useCharIndex","symbols","charCode","charCodeAt","serialize","properties","whitespace","indentation","className","date","time","hours","minutes","seconds","milliseconds","results","element","prefix","pop","filter","Index","Source","fromCharCode","Unescapes","47","98","116","110","102","114","abort","lex","begin","position","isSigned","get","hasMembers","update","walk","isLoader","function","freeExports","nodeType","freeGlobal","previousJSON","isRestored","JSON3","noConflict","webpackPolyfill","deprecate","paths","children","mixin","key","addEventListener","event","_callbacks","removeEventListener","callbacks","cb","listeners","hasListeners","isArray","_deconstructPacket","placeholder","_placeholder","num","newData","packetData","_reconstructPacket","_removeBlobs","curKey","containingObject","Blob","File","pendingBlobs","fileReader","FileReader","onload","readAsArrayBuffer","arr","Buffer","isBuffer","ArrayBuffer","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","min","max","jitter","readyState","connecting","lastPing","encoding","packetBuffer","encoder","decoder","autoConnect","open","eio","emitAll","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","onopen","errorSub","cleanup","timer","close","onping","onpong","ondata","ondecoded","onerror","onConnecting","encodedPackets","write","processPacketQueue","shift","subsLength","disconnect","reset","onclose","reason","delay","duration","onreconnect","attempt","hostname","secure","agent","parseqs","decode","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","extraHeaders","keys","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","clone","o","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","send","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","to","onOpen","l","onHandshake","setPing","code","filterUpgrades","onHeartbeat","ping","sendPacket","writable","compress","cleanupAndClose","waitForUpgrade","desc","filteredUpgrades","polling","xd","xs","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","hasCORS","XDomainRequest","empty","Polling","requestTimeout","Request","method","async","isBinary","create","unloadHandler","requests","inherit","request","doWrite","req","sendXhr","doPoll","onData","pollXhr","xhr","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","onLoad","responseText","onreadystatechange","status","requestsCount","onSuccess","fromError","contentType","getResponseHeader","response","Uint8Array","ui8Arr","dataArray","idx","attachEvent","hasXHR2","yeast","doOpen","poll","onPause","total","decodePayload","doClose","packets","callbackfn","encodePayload","schema","b64","description","decodePacket","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","byteLength","buffer","encodeBlobAsArrayBuffer","fr","encodePacket","encodeBlob","dontSendBlobs","tryDecode","utf8","map","ary","each","done","after","el","base64encoder","hasBinary","sliceBuffer","isAndroid","isPhantomJS","pong","packetslist","utf8encode","encoded","readAsDataURL","b64data","typed","basic","btoa","utf8decode","decodeBase64Packet","asArray","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","decodePayloadAsBinary","chr","totalLength","reduce","acc","resultArray","bufferIndex","isString","ab","view","lenStr","binaryIdentifier","lengthAry","blob","bufferTail","numberTooLong","tailArray","msgLength","_hasBinary","arraybuffer","start","end","bytes","abv","ii","count","err_cb","proxy","bail","__WEBPACK_AMD_DEFINE_RESULT__","ucs2decode","string","extra","output","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","symbol","wtf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","wtf8decode","tmp","wtf8","chars","encoded1","encoded2","encoded3","encoded4","bufferLength","mapArrayBufferViews","chunk","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobBuilder","append","getBlob","BlobConstructor","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobSupportsArrayBufferView","blobBuilderSupported","qs","qry","pairs","pair","decodeURIComponent","alphabet","decoded","now","seed","JSONPPolling","___eio","script","parentNode","removeChild","form","iframe","createElement","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","complete","initIframe","html","iframeId","area","top","left","target","setAttribute","action","submit","WS","usingBrowserWebSocket","BrowserWebSocket","WebSocket","NodeWebSocket","MozWebSocket","check","headers","ws","supports","addEventListeners","onmessage","ev","rvalidchars","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","toArray","hasBin","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","parserType","flags","onpacket","onconnect","onevent","onack","ondisconnect","ack","sent","emitBuffered","list","factor","pow","rand","random","deviation"],"mappings":"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","file":"socket.io.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"io\"] = factory();\r\n\telse\r\n\t\troot[\"io\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId])\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\texports: {},\r\n/******/ \t\t\tid: moduleId,\r\n/******/ \t\t\tloaded: false\r\n/******/ \t\t};\r\n\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.loaded = true;\r\n\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n\r\n\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar url = __webpack_require__(1);\r\n\tvar parser = __webpack_require__(7);\r\n\tvar Manager = __webpack_require__(17);\r\n\tvar debug = __webpack_require__(3)('socket.io-client');\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = exports = lookup;\r\n\r\n\t/**\r\n\t * Managers cache.\r\n\t */\r\n\r\n\tvar cache = exports.managers = {};\r\n\r\n\t/**\r\n\t * Looks up an existing `Manager` for multiplexing.\r\n\t * If the user summons:\r\n\t *\r\n\t *   `io('http://localhost/a');`\r\n\t *   `io('http://localhost/b');`\r\n\t *\r\n\t * We reuse the existing instance based on same scheme/port/host,\r\n\t * and we initialize sockets for each namespace.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction lookup(uri, opts) {\r\n\t  if ((typeof uri === 'undefined' ? 'undefined' : _typeof(uri)) === 'object') {\r\n\t    opts = uri;\r\n\t    uri = undefined;\r\n\t  }\r\n\r\n\t  opts = opts || {};\r\n\r\n\t  var parsed = url(uri);\r\n\t  var source = parsed.source;\r\n\t  var id = parsed.id;\r\n\t  var path = parsed.path;\r\n\t  var sameNamespace = cache[id] && path in cache[id].nsps;\r\n\t  var newConnection = opts.forceNew || opts['force new connection'] || false === opts.multiplex || sameNamespace;\r\n\r\n\t  var io;\r\n\r\n\t  if (newConnection) {\r\n\t    debug('ignoring socket cache for %s', source);\r\n\t    io = Manager(source, opts);\r\n\t  } else {\r\n\t    if (!cache[id]) {\r\n\t      debug('new io instance for %s', source);\r\n\t      cache[id] = Manager(source, opts);\r\n\t    }\r\n\t    io = cache[id];\r\n\t  }\r\n\t  if (parsed.query && !opts.query) {\r\n\t    opts.query = parsed.query;\r\n\t  } else if (opts && 'object' === _typeof(opts.query)) {\r\n\t    opts.query = encodeQueryString(opts.query);\r\n\t  }\r\n\t  return io.socket(parsed.path, opts);\r\n\t}\r\n\t/**\r\n\t *  Helper method to parse query objects to string.\r\n\t * @param {object} query\r\n\t * @returns {string}\r\n\t */\r\n\tfunction encodeQueryString(obj) {\r\n\t  var str = [];\r\n\t  for (var p in obj) {\r\n\t    if (obj.hasOwnProperty(p)) {\r\n\t      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\r\n\t    }\r\n\t  }\r\n\t  return str.join('&');\r\n\t}\r\n\t/**\r\n\t * Protocol version.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.protocol = parser.protocol;\r\n\r\n\t/**\r\n\t * `connect`.\r\n\t *\r\n\t * @param {String} uri\r\n\t * @api public\r\n\t */\r\n\r\n\texports.connect = lookup;\r\n\r\n\t/**\r\n\t * Expose constructors for standalone build.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.Manager = __webpack_require__(17);\r\n\texports.Socket = __webpack_require__(44);\r\n\r\n/***/ },\r\n/* 1 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar parseuri = __webpack_require__(2);\r\n\tvar debug = __webpack_require__(3)('socket.io-client:url');\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = url;\r\n\r\n\t/**\r\n\t * URL parser.\r\n\t *\r\n\t * @param {String} url\r\n\t * @param {Object} An object meant to mimic window.location.\r\n\t *                 Defaults to window.location.\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction url(uri, loc) {\r\n\t  var obj = uri;\r\n\r\n\t  // default to window.location\r\n\t  loc = loc || global.location;\r\n\t  if (null == uri) uri = loc.protocol + '//' + loc.host;\r\n\r\n\t  // relative path support\r\n\t  if ('string' === typeof uri) {\r\n\t    if ('/' === uri.charAt(0)) {\r\n\t      if ('/' === uri.charAt(1)) {\r\n\t        uri = loc.protocol + uri;\r\n\t      } else {\r\n\t        uri = loc.host + uri;\r\n\t      }\r\n\t    }\r\n\r\n\t    if (!/^(https?|wss?):\\/\\//.test(uri)) {\r\n\t      debug('protocol-less url %s', uri);\r\n\t      if ('undefined' !== typeof loc) {\r\n\t        uri = loc.protocol + '//' + uri;\r\n\t      } else {\r\n\t        uri = 'https://' + uri;\r\n\t      }\r\n\t    }\r\n\r\n\t    // parse\r\n\t    debug('parse %s', uri);\r\n\t    obj = parseuri(uri);\r\n\t  }\r\n\r\n\t  // make sure we treat `localhost:80` and `localhost` equally\r\n\t  if (!obj.port) {\r\n\t    if (/^(http|ws)$/.test(obj.protocol)) {\r\n\t      obj.port = '80';\r\n\t    } else if (/^(http|ws)s$/.test(obj.protocol)) {\r\n\t      obj.port = '443';\r\n\t    }\r\n\t  }\r\n\r\n\t  obj.path = obj.path || '/';\r\n\r\n\t  var ipv6 = obj.host.indexOf(':') !== -1;\r\n\t  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\r\n\r\n\t  // define unique id\r\n\t  obj.id = obj.protocol + '://' + host + ':' + obj.port;\r\n\t  // define href\r\n\t  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : ':' + obj.port);\r\n\r\n\t  return obj;\r\n\t}\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 2 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * Parses an URI\r\n\t *\r\n\t * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n\t * @api private\r\n\t */\r\n\r\n\tvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\n\tvar parts = [\r\n\t    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n\t];\r\n\r\n\tmodule.exports = function parseuri(str) {\r\n\t    var src = str,\r\n\t        b = str.indexOf('['),\r\n\t        e = str.indexOf(']');\r\n\r\n\t    if (b != -1 && e != -1) {\r\n\t        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n\t    }\r\n\r\n\t    var m = re.exec(str || ''),\r\n\t        uri = {},\r\n\t        i = 14;\r\n\r\n\t    while (i--) {\r\n\t        uri[parts[i]] = m[i] || '';\r\n\t    }\r\n\r\n\t    if (b != -1 && e != -1) {\r\n\t        uri.source = src;\r\n\t        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n\t        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n\t        uri.ipv6uri = true;\r\n\t    }\r\n\r\n\t    return uri;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 3 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(process) {\r\n\t/**\r\n\t * This is the web browser implementation of `debug()`.\r\n\t *\r\n\t * Expose `debug()` as the module.\r\n\t */\r\n\r\n\texports = module.exports = __webpack_require__(5);\r\n\texports.log = log;\r\n\texports.formatArgs = formatArgs;\r\n\texports.save = save;\r\n\texports.load = load;\r\n\texports.useColors = useColors;\r\n\texports.storage = 'undefined' != typeof chrome\r\n\t               && 'undefined' != typeof chrome.storage\r\n\t                  ? chrome.storage.local\r\n\t                  : localstorage();\r\n\r\n\t/**\r\n\t * Colors.\r\n\t */\r\n\r\n\texports.colors = [\r\n\t  'lightseagreen',\r\n\t  'forestgreen',\r\n\t  'goldenrod',\r\n\t  'dodgerblue',\r\n\t  'darkorchid',\r\n\t  'crimson'\r\n\t];\r\n\r\n\t/**\r\n\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t * and the Firebug extension (any Firefox version) are known\r\n\t * to support \"%c\" CSS customizations.\r\n\t *\r\n\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t */\r\n\r\n\tfunction useColors() {\r\n\t  // is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t  return (typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style) ||\r\n\t    // is firebug? http://stackoverflow.com/a/398120/376773\r\n\t    (window.console && (console.firebug || (console.exception && console.table))) ||\r\n\t    // is firefox >= v31?\r\n\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\r\n\t}\r\n\r\n\t/**\r\n\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t */\r\n\r\n\texports.formatters.j = function(v) {\r\n\t  try {\r\n\t    return JSON.stringify(v);\r\n\t  } catch (err) {\r\n\t    return '[UnexpectedJSONParseError]: ' + err.message;\r\n\t  }\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Colorize log arguments if enabled.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction formatArgs() {\r\n\t  var args = arguments;\r\n\t  var useColors = this.useColors;\r\n\r\n\t  args[0] = (useColors ? '%c' : '')\r\n\t    + this.namespace\r\n\t    + (useColors ? ' %c' : ' ')\r\n\t    + args[0]\r\n\t    + (useColors ? '%c ' : ' ')\r\n\t    + '+' + exports.humanize(this.diff);\r\n\r\n\t  if (!useColors) return args;\r\n\r\n\t  var c = 'color: ' + this.color;\r\n\t  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\r\n\r\n\t  // the final \"%c\" is somewhat tricky, because there could be other\r\n\t  // arguments passed either before or after the %c, so we need to\r\n\t  // figure out the correct index to insert the CSS into\r\n\t  var index = 0;\r\n\t  var lastC = 0;\r\n\t  args[0].replace(/%[a-z%]/g, function(match) {\r\n\t    if ('%%' === match) return;\r\n\t    index++;\r\n\t    if ('%c' === match) {\r\n\t      // we only are interested in the *last* %c\r\n\t      // (the user may have provided their own)\r\n\t      lastC = index;\r\n\t    }\r\n\t  });\r\n\r\n\t  args.splice(lastC, 0, c);\r\n\t  return args;\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `console.log()` when available.\r\n\t * No-op when `console.log` is not a \"function\".\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction log() {\r\n\t  // this hackery is required for IE8/9, where\r\n\t  // the `console.log` function doesn't have 'apply'\r\n\t  return 'object' === typeof console\r\n\t    && console.log\r\n\t    && Function.prototype.apply.call(console.log, console, arguments);\r\n\t}\r\n\r\n\t/**\r\n\t * Save `namespaces`.\r\n\t *\r\n\t * @param {String} namespaces\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction save(namespaces) {\r\n\t  try {\r\n\t    if (null == namespaces) {\r\n\t      exports.storage.removeItem('debug');\r\n\t    } else {\r\n\t      exports.storage.debug = namespaces;\r\n\t    }\r\n\t  } catch(e) {}\r\n\t}\r\n\r\n\t/**\r\n\t * Load `namespaces`.\r\n\t *\r\n\t * @return {String} returns the previously persisted debug modes\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction load() {\r\n\t  var r;\r\n\t  try {\r\n\t    return exports.storage.debug;\r\n\t  } catch(e) {}\r\n\r\n\t  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\t  if (typeof process !== 'undefined' && 'env' in process) {\r\n\t    return process.env.DEBUG;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Enable namespaces listed in `localStorage.debug` initially.\r\n\t */\r\n\r\n\texports.enable(load());\r\n\r\n\t/**\r\n\t * Localstorage attempts to return the localstorage.\r\n\t *\r\n\t * This is necessary because safari throws\r\n\t * when a user disables cookies/localstorage\r\n\t * and you attempt to access it.\r\n\t *\r\n\t * @return {LocalStorage}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction localstorage(){\r\n\t  try {\r\n\t    return window.localStorage;\r\n\t  } catch (e) {}\r\n\t}\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\r\n\r\n/***/ },\r\n/* 4 */\r\n/***/ function(module, exports) {\r\n\r\n\t// shim for using process in browser\r\n\tvar process = module.exports = {};\r\n\r\n\t// cached from whatever global is present so that test runners that stub it\r\n\t// don't break things.  But we need to wrap it in a try catch in case it is\r\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\r\n\t// function because try/catches deoptimize in certain engines.\r\n\r\n\tvar cachedSetTimeout;\r\n\tvar cachedClearTimeout;\r\n\r\n\tfunction defaultSetTimout() {\r\n\t    throw new Error('setTimeout has not been defined');\r\n\t}\r\n\tfunction defaultClearTimeout () {\r\n\t    throw new Error('clearTimeout has not been defined');\r\n\t}\r\n\t(function () {\r\n\t    try {\r\n\t        if (typeof setTimeout === 'function') {\r\n\t            cachedSetTimeout = setTimeout;\r\n\t        } else {\r\n\t            cachedSetTimeout = defaultSetTimout;\r\n\t        }\r\n\t    } catch (e) {\r\n\t        cachedSetTimeout = defaultSetTimout;\r\n\t    }\r\n\t    try {\r\n\t        if (typeof clearTimeout === 'function') {\r\n\t            cachedClearTimeout = clearTimeout;\r\n\t        } else {\r\n\t            cachedClearTimeout = defaultClearTimeout;\r\n\t        }\r\n\t    } catch (e) {\r\n\t        cachedClearTimeout = defaultClearTimeout;\r\n\t    }\r\n\t} ())\r\n\tfunction runTimeout(fun) {\r\n\t    if (cachedSetTimeout === setTimeout) {\r\n\t        //normal enviroments in sane situations\r\n\t        return setTimeout(fun, 0);\r\n\t    }\r\n\t    // if setTimeout wasn't available but was latter defined\r\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\r\n\t        cachedSetTimeout = setTimeout;\r\n\t        return setTimeout(fun, 0);\r\n\t    }\r\n\t    try {\r\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\r\n\t        return cachedSetTimeout(fun, 0);\r\n\t    } catch(e){\r\n\t        try {\r\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\r\n\t            return cachedSetTimeout.call(null, fun, 0);\r\n\t        } catch(e){\r\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\r\n\t            return cachedSetTimeout.call(this, fun, 0);\r\n\t        }\r\n\t    }\r\n\r\n\r\n\t}\r\n\tfunction runClearTimeout(marker) {\r\n\t    if (cachedClearTimeout === clearTimeout) {\r\n\t        //normal enviroments in sane situations\r\n\t        return clearTimeout(marker);\r\n\t    }\r\n\t    // if clearTimeout wasn't available but was latter defined\r\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\r\n\t        cachedClearTimeout = clearTimeout;\r\n\t        return clearTimeout(marker);\r\n\t    }\r\n\t    try {\r\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\r\n\t        return cachedClearTimeout(marker);\r\n\t    } catch (e){\r\n\t        try {\r\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\r\n\t            return cachedClearTimeout.call(null, marker);\r\n\t        } catch (e){\r\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\r\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\r\n\t            return cachedClearTimeout.call(this, marker);\r\n\t        }\r\n\t    }\r\n\r\n\r\n\r\n\t}\r\n\tvar queue = [];\r\n\tvar draining = false;\r\n\tvar currentQueue;\r\n\tvar queueIndex = -1;\r\n\r\n\tfunction cleanUpNextTick() {\r\n\t    if (!draining || !currentQueue) {\r\n\t        return;\r\n\t    }\r\n\t    draining = false;\r\n\t    if (currentQueue.length) {\r\n\t        queue = currentQueue.concat(queue);\r\n\t    } else {\r\n\t        queueIndex = -1;\r\n\t    }\r\n\t    if (queue.length) {\r\n\t        drainQueue();\r\n\t    }\r\n\t}\r\n\r\n\tfunction drainQueue() {\r\n\t    if (draining) {\r\n\t        return;\r\n\t    }\r\n\t    var timeout = runTimeout(cleanUpNextTick);\r\n\t    draining = true;\r\n\r\n\t    var len = queue.length;\r\n\t    while(len) {\r\n\t        currentQueue = queue;\r\n\t        queue = [];\r\n\t        while (++queueIndex < len) {\r\n\t            if (currentQueue) {\r\n\t                currentQueue[queueIndex].run();\r\n\t            }\r\n\t        }\r\n\t        queueIndex = -1;\r\n\t        len = queue.length;\r\n\t    }\r\n\t    currentQueue = null;\r\n\t    draining = false;\r\n\t    runClearTimeout(timeout);\r\n\t}\r\n\r\n\tprocess.nextTick = function (fun) {\r\n\t    var args = new Array(arguments.length - 1);\r\n\t    if (arguments.length > 1) {\r\n\t        for (var i = 1; i < arguments.length; i++) {\r\n\t            args[i - 1] = arguments[i];\r\n\t        }\r\n\t    }\r\n\t    queue.push(new Item(fun, args));\r\n\t    if (queue.length === 1 && !draining) {\r\n\t        runTimeout(drainQueue);\r\n\t    }\r\n\t};\r\n\r\n\t// v8 likes predictible objects\r\n\tfunction Item(fun, array) {\r\n\t    this.fun = fun;\r\n\t    this.array = array;\r\n\t}\r\n\tItem.prototype.run = function () {\r\n\t    this.fun.apply(null, this.array);\r\n\t};\r\n\tprocess.title = 'browser';\r\n\tprocess.browser = true;\r\n\tprocess.env = {};\r\n\tprocess.argv = [];\r\n\tprocess.version = ''; // empty string to avoid regexp issues\r\n\tprocess.versions = {};\r\n\r\n\tfunction noop() {}\r\n\r\n\tprocess.on = noop;\r\n\tprocess.addListener = noop;\r\n\tprocess.once = noop;\r\n\tprocess.off = noop;\r\n\tprocess.removeListener = noop;\r\n\tprocess.removeAllListeners = noop;\r\n\tprocess.emit = noop;\r\n\r\n\tprocess.binding = function (name) {\r\n\t    throw new Error('process.binding is not supported');\r\n\t};\r\n\r\n\tprocess.cwd = function () { return '/' };\r\n\tprocess.chdir = function (dir) {\r\n\t    throw new Error('process.chdir is not supported');\r\n\t};\r\n\tprocess.umask = function() { return 0; };\r\n\r\n\r\n/***/ },\r\n/* 5 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\t/**\r\n\t * This is the common logic for both the Node.js and web browser\r\n\t * implementations of `debug()`.\r\n\t *\r\n\t * Expose `debug()` as the module.\r\n\t */\r\n\r\n\texports = module.exports = debug.debug = debug;\r\n\texports.coerce = coerce;\r\n\texports.disable = disable;\r\n\texports.enable = enable;\r\n\texports.enabled = enabled;\r\n\texports.humanize = __webpack_require__(6);\r\n\r\n\t/**\r\n\t * The currently active debug mode names, and names to skip.\r\n\t */\r\n\r\n\texports.names = [];\r\n\texports.skips = [];\r\n\r\n\t/**\r\n\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t *\r\n\t * Valid key names are a single, lowercased letter, i.e. \"n\".\r\n\t */\r\n\r\n\texports.formatters = {};\r\n\r\n\t/**\r\n\t * Previously assigned color.\r\n\t */\r\n\r\n\tvar prevColor = 0;\r\n\r\n\t/**\r\n\t * Previous log timestamp.\r\n\t */\r\n\r\n\tvar prevTime;\r\n\r\n\t/**\r\n\t * Select a color.\r\n\t *\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction selectColor() {\r\n\t  return exports.colors[prevColor++ % exports.colors.length];\r\n\t}\r\n\r\n\t/**\r\n\t * Create a debugger with the given `namespace`.\r\n\t *\r\n\t * @param {String} namespace\r\n\t * @return {Function}\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction debug(namespace) {\r\n\r\n\t  // define the `disabled` version\r\n\t  function disabled() {\r\n\t  }\r\n\t  disabled.enabled = false;\r\n\r\n\t  // define the `enabled` version\r\n\t  function enabled() {\r\n\r\n\t    var self = enabled;\r\n\r\n\t    // set `diff` timestamp\r\n\t    var curr = +new Date();\r\n\t    var ms = curr - (prevTime || curr);\r\n\t    self.diff = ms;\r\n\t    self.prev = prevTime;\r\n\t    self.curr = curr;\r\n\t    prevTime = curr;\r\n\r\n\t    // add the `color` if not set\r\n\t    if (null == self.useColors) self.useColors = exports.useColors();\r\n\t    if (null == self.color && self.useColors) self.color = selectColor();\r\n\r\n\t    var args = new Array(arguments.length);\r\n\t    for (var i = 0; i < args.length; i++) {\r\n\t      args[i] = arguments[i];\r\n\t    }\r\n\r\n\t    args[0] = exports.coerce(args[0]);\r\n\r\n\t    if ('string' !== typeof args[0]) {\r\n\t      // anything else let's inspect with %o\r\n\t      args = ['%o'].concat(args);\r\n\t    }\r\n\r\n\t    // apply any `formatters` transformations\r\n\t    var index = 0;\r\n\t    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\r\n\t      // if we encounter an escaped % then don't increase the array index\r\n\t      if (match === '%%') return match;\r\n\t      index++;\r\n\t      var formatter = exports.formatters[format];\r\n\t      if ('function' === typeof formatter) {\r\n\t        var val = args[index];\r\n\t        match = formatter.call(self, val);\r\n\r\n\t        // now we need to remove `args[index]` since it's inlined in the `format`\r\n\t        args.splice(index, 1);\r\n\t        index--;\r\n\t      }\r\n\t      return match;\r\n\t    });\r\n\r\n\t    // apply env-specific formatting\r\n\t    args = exports.formatArgs.apply(self, args);\r\n\r\n\t    var logFn = enabled.log || exports.log || console.log.bind(console);\r\n\t    logFn.apply(self, args);\r\n\t  }\r\n\t  enabled.enabled = true;\r\n\r\n\t  var fn = exports.enabled(namespace) ? enabled : disabled;\r\n\r\n\t  fn.namespace = namespace;\r\n\r\n\t  return fn;\r\n\t}\r\n\r\n\t/**\r\n\t * Enables a debug mode by namespaces. This can include modes\r\n\t * separated by a colon and wildcards.\r\n\t *\r\n\t * @param {String} namespaces\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction enable(namespaces) {\r\n\t  exports.save(namespaces);\r\n\r\n\t  var split = (namespaces || '').split(/[\\s,]+/);\r\n\t  var len = split.length;\r\n\r\n\t  for (var i = 0; i < len; i++) {\r\n\t    if (!split[i]) continue; // ignore empty strings\r\n\t    namespaces = split[i].replace(/[\\\\^$+?.()|[\\]{}]/g, '\\\\$&').replace(/\\*/g, '.*?');\r\n\t    if (namespaces[0] === '-') {\r\n\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n\t    } else {\r\n\t      exports.names.push(new RegExp('^' + namespaces + '$'));\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Disable debug output.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction disable() {\r\n\t  exports.enable('');\r\n\t}\r\n\r\n\t/**\r\n\t * Returns true if the given mode name is enabled, false otherwise.\r\n\t *\r\n\t * @param {String} name\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction enabled(name) {\r\n\t  var i, len;\r\n\t  for (i = 0, len = exports.skips.length; i < len; i++) {\r\n\t    if (exports.skips[i].test(name)) {\r\n\t      return false;\r\n\t    }\r\n\t  }\r\n\t  for (i = 0, len = exports.names.length; i < len; i++) {\r\n\t    if (exports.names[i].test(name)) {\r\n\t      return true;\r\n\t    }\r\n\t  }\r\n\t  return false;\r\n\t}\r\n\r\n\t/**\r\n\t * Coerce `val`.\r\n\t *\r\n\t * @param {Mixed} val\r\n\t * @return {Mixed}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction coerce(val) {\r\n\t  if (val instanceof Error) return val.stack || val.message;\r\n\t  return val;\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 6 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * Helpers.\r\n\t */\r\n\r\n\tvar s = 1000\r\n\tvar m = s * 60\r\n\tvar h = m * 60\r\n\tvar d = h * 24\r\n\tvar y = d * 365.25\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} options\r\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tmodule.exports = function (val, options) {\r\n\t  options = options || {}\r\n\t  var type = typeof val\r\n\t  if (type === 'string' && val.length > 0) {\r\n\t    return parse(val)\r\n\t  } else if (type === 'number' && isNaN(val) === false) {\r\n\t    return options.long ?\r\n\t\t\t\tfmtLong(val) :\r\n\t\t\t\tfmtShort(val)\r\n\t  }\r\n\t  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\r\n\t}\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = String(str)\r\n\t  if (str.length > 10000) {\r\n\t    return\r\n\t  }\r\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\r\n\t  if (!match) {\r\n\t    return\r\n\t  }\r\n\t  var n = parseFloat(match[1])\r\n\t  var type = (match[2] || 'ms').toLowerCase()\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n\r\n\t    default:\r\n\t      return undefined\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtShort(ms) {\r\n\t  if (ms >= d) {\r\n\t    return Math.round(ms / d) + 'd'\r\n\t  }\r\n\t  if (ms >= h) {\r\n\t    return Math.round(ms / h) + 'h'\r\n\t  }\r\n\t  if (ms >= m) {\r\n\t    return Math.round(ms / m) + 'm'\r\n\t  }\r\n\t  if (ms >= s) {\r\n\t    return Math.round(ms / s) + 's'\r\n\t  }\r\n\t  return ms + 'ms'\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtLong(ms) {\r\n\t  return plural(ms, d, 'day') ||\r\n\t    plural(ms, h, 'hour') ||\r\n\t    plural(ms, m, 'minute') ||\r\n\t    plural(ms, s, 'second') ||\r\n\t    ms + ' ms'\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, n, name) {\r\n\t  if (ms < n) {\r\n\t    return\r\n\t  }\r\n\t  if (ms < n * 1.5) {\r\n\t    return Math.floor(ms / n) + ' ' + name\r\n\t  }\r\n\t  return Math.ceil(ms / n) + ' ' + name + 's'\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 7 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar debug = __webpack_require__(8)('socket.io-parser');\r\n\tvar json = __webpack_require__(11);\r\n\tvar Emitter = __webpack_require__(13);\r\n\tvar binary = __webpack_require__(14);\r\n\tvar isBuf = __webpack_require__(16);\r\n\r\n\t/**\r\n\t * Protocol version.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.protocol = 4;\r\n\r\n\t/**\r\n\t * Packet types.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.types = [\r\n\t  'CONNECT',\r\n\t  'DISCONNECT',\r\n\t  'EVENT',\r\n\t  'ACK',\r\n\t  'ERROR',\r\n\t  'BINARY_EVENT',\r\n\t  'BINARY_ACK'\r\n\t];\r\n\r\n\t/**\r\n\t * Packet type `connect`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.CONNECT = 0;\r\n\r\n\t/**\r\n\t * Packet type `disconnect`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.DISCONNECT = 1;\r\n\r\n\t/**\r\n\t * Packet type `event`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.EVENT = 2;\r\n\r\n\t/**\r\n\t * Packet type `ack`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.ACK = 3;\r\n\r\n\t/**\r\n\t * Packet type `error`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.ERROR = 4;\r\n\r\n\t/**\r\n\t * Packet type 'binary event'\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.BINARY_EVENT = 5;\r\n\r\n\t/**\r\n\t * Packet type `binary ack`. For acks with binary arguments.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.BINARY_ACK = 6;\r\n\r\n\t/**\r\n\t * Encoder constructor.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.Encoder = Encoder;\r\n\r\n\t/**\r\n\t * Decoder constructor.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\texports.Decoder = Decoder;\r\n\r\n\t/**\r\n\t * A socket.io Encoder instance\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Encoder() {}\r\n\r\n\t/**\r\n\t * Encode a packet as a single string if non-binary, or as a\r\n\t * buffer sequence, depending on packet type.\r\n\t *\r\n\t * @param {Object} obj - packet object\r\n\t * @param {Function} callback - function to handle encodings (likely engine.write)\r\n\t * @return Calls callback with Array of encodings\r\n\t * @api public\r\n\t */\r\n\r\n\tEncoder.prototype.encode = function(obj, callback){\r\n\t  debug('encoding packet %j', obj);\r\n\r\n\t  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\r\n\t    encodeAsBinary(obj, callback);\r\n\t  }\r\n\t  else {\r\n\t    var encoding = encodeAsString(obj);\r\n\t    callback([encoding]);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Encode packet as string.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @return {String} encoded\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction encodeAsString(obj) {\r\n\t  var str = '';\r\n\t  var nsp = false;\r\n\r\n\t  // first is type\r\n\t  str += obj.type;\r\n\r\n\t  // attachments if we have them\r\n\t  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\r\n\t    str += obj.attachments;\r\n\t    str += '-';\r\n\t  }\r\n\r\n\t  // if we have a namespace other than `/`\r\n\t  // we append it followed by a comma `,`\r\n\t  if (obj.nsp && '/' != obj.nsp) {\r\n\t    nsp = true;\r\n\t    str += obj.nsp;\r\n\t  }\r\n\r\n\t  // immediately followed by the id\r\n\t  if (null != obj.id) {\r\n\t    if (nsp) {\r\n\t      str += ',';\r\n\t      nsp = false;\r\n\t    }\r\n\t    str += obj.id;\r\n\t  }\r\n\r\n\t  // json data\r\n\t  if (null != obj.data) {\r\n\t    if (nsp) str += ',';\r\n\t    str += json.stringify(obj.data);\r\n\t  }\r\n\r\n\t  debug('encoded %j as %s', obj, str);\r\n\t  return str;\r\n\t}\r\n\r\n\t/**\r\n\t * Encode packet as 'buffer sequence' by removing blobs, and\r\n\t * deconstructing packet into object with placeholders and\r\n\t * a list of buffers.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @return {Buffer} encoded\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction encodeAsBinary(obj, callback) {\r\n\r\n\t  function writeEncoding(bloblessData) {\r\n\t    var deconstruction = binary.deconstructPacket(bloblessData);\r\n\t    var pack = encodeAsString(deconstruction.packet);\r\n\t    var buffers = deconstruction.buffers;\r\n\r\n\t    buffers.unshift(pack); // add packet info to beginning of data list\r\n\t    callback(buffers); // write all the buffers\r\n\t  }\r\n\r\n\t  binary.removeBlobs(obj, writeEncoding);\r\n\t}\r\n\r\n\t/**\r\n\t * A socket.io Decoder instance\r\n\t *\r\n\t * @return {Object} decoder\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Decoder() {\r\n\t  this.reconstructor = null;\r\n\t}\r\n\r\n\t/**\r\n\t * Mix in `Emitter` with Decoder.\r\n\t */\r\n\r\n\tEmitter(Decoder.prototype);\r\n\r\n\t/**\r\n\t * Decodes an ecoded packet string into packet JSON.\r\n\t *\r\n\t * @param {String} obj - encoded packet\r\n\t * @return {Object} packet\r\n\t * @api public\r\n\t */\r\n\r\n\tDecoder.prototype.add = function(obj) {\r\n\t  var packet;\r\n\t  if ('string' == typeof obj) {\r\n\t    packet = decodeString(obj);\r\n\t    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\r\n\t      this.reconstructor = new BinaryReconstructor(packet);\r\n\r\n\t      // no attachments, labeled binary but no binary data to follow\r\n\t      if (this.reconstructor.reconPack.attachments === 0) {\r\n\t        this.emit('decoded', packet);\r\n\t      }\r\n\t    } else { // non-binary full packet\r\n\t      this.emit('decoded', packet);\r\n\t    }\r\n\t  }\r\n\t  else if (isBuf(obj) || obj.base64) { // raw binary data\r\n\t    if (!this.reconstructor) {\r\n\t      throw new Error('got binary data when not reconstructing a packet');\r\n\t    } else {\r\n\t      packet = this.reconstructor.takeBinaryData(obj);\r\n\t      if (packet) { // received final buffer\r\n\t        this.reconstructor = null;\r\n\t        this.emit('decoded', packet);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t  else {\r\n\t    throw new Error('Unknown type: ' + obj);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Decode a packet String (JSON data)\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction decodeString(str) {\r\n\t  var p = {};\r\n\t  var i = 0;\r\n\r\n\t  // look up type\r\n\t  p.type = Number(str.charAt(0));\r\n\t  if (null == exports.types[p.type]) return error();\r\n\r\n\t  // look up attachments if type binary\r\n\t  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\r\n\t    var buf = '';\r\n\t    while (str.charAt(++i) != '-') {\r\n\t      buf += str.charAt(i);\r\n\t      if (i == str.length) break;\r\n\t    }\r\n\t    if (buf != Number(buf) || str.charAt(i) != '-') {\r\n\t      throw new Error('Illegal attachments');\r\n\t    }\r\n\t    p.attachments = Number(buf);\r\n\t  }\r\n\r\n\t  // look up namespace (if any)\r\n\t  if ('/' == str.charAt(i + 1)) {\r\n\t    p.nsp = '';\r\n\t    while (++i) {\r\n\t      var c = str.charAt(i);\r\n\t      if (',' == c) break;\r\n\t      p.nsp += c;\r\n\t      if (i == str.length) break;\r\n\t    }\r\n\t  } else {\r\n\t    p.nsp = '/';\r\n\t  }\r\n\r\n\t  // look up id\r\n\t  var next = str.charAt(i + 1);\r\n\t  if ('' !== next && Number(next) == next) {\r\n\t    p.id = '';\r\n\t    while (++i) {\r\n\t      var c = str.charAt(i);\r\n\t      if (null == c || Number(c) != c) {\r\n\t        --i;\r\n\t        break;\r\n\t      }\r\n\t      p.id += str.charAt(i);\r\n\t      if (i == str.length) break;\r\n\t    }\r\n\t    p.id = Number(p.id);\r\n\t  }\r\n\r\n\t  // look up json data\r\n\t  if (str.charAt(++i)) {\r\n\t    p = tryParse(p, str.substr(i));\r\n\t  }\r\n\r\n\t  debug('decoded %s as %j', str, p);\r\n\t  return p;\r\n\t}\r\n\r\n\tfunction tryParse(p, str) {\r\n\t  try {\r\n\t    p.data = json.parse(str);\r\n\t  } catch(e){\r\n\t    return error();\r\n\t  }\r\n\t  return p; \r\n\t};\r\n\r\n\t/**\r\n\t * Deallocates a parser's resources\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tDecoder.prototype.destroy = function() {\r\n\t  if (this.reconstructor) {\r\n\t    this.reconstructor.finishedReconstruction();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * A manager of a binary event's 'buffer sequence'. Should\r\n\t * be constructed whenever a packet of type BINARY_EVENT is\r\n\t * decoded.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @return {BinaryReconstructor} initialized reconstructor\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction BinaryReconstructor(packet) {\r\n\t  this.reconPack = packet;\r\n\t  this.buffers = [];\r\n\t}\r\n\r\n\t/**\r\n\t * Method to be called when binary data received from connection\r\n\t * after a BINARY_EVENT packet.\r\n\t *\r\n\t * @param {Buffer | ArrayBuffer} binData - the raw binary data received\r\n\t * @return {null | Object} returns null if more binary data is expected or\r\n\t *   a reconstructed packet object if all buffers have been received.\r\n\t * @api private\r\n\t */\r\n\r\n\tBinaryReconstructor.prototype.takeBinaryData = function(binData) {\r\n\t  this.buffers.push(binData);\r\n\t  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\r\n\t    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\r\n\t    this.finishedReconstruction();\r\n\t    return packet;\r\n\t  }\r\n\t  return null;\r\n\t};\r\n\r\n\t/**\r\n\t * Cleans up binary packet reconstruction variables.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tBinaryReconstructor.prototype.finishedReconstruction = function() {\r\n\t  this.reconPack = null;\r\n\t  this.buffers = [];\r\n\t};\r\n\r\n\tfunction error(data){\r\n\t  return {\r\n\t    type: exports.ERROR,\r\n\t    data: 'parser error'\r\n\t  };\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 8 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\t/**\r\n\t * This is the web browser implementation of `debug()`.\r\n\t *\r\n\t * Expose `debug()` as the module.\r\n\t */\r\n\r\n\texports = module.exports = __webpack_require__(9);\r\n\texports.log = log;\r\n\texports.formatArgs = formatArgs;\r\n\texports.save = save;\r\n\texports.load = load;\r\n\texports.useColors = useColors;\r\n\texports.storage = 'undefined' != typeof chrome\r\n\t               && 'undefined' != typeof chrome.storage\r\n\t                  ? chrome.storage.local\r\n\t                  : localstorage();\r\n\r\n\t/**\r\n\t * Colors.\r\n\t */\r\n\r\n\texports.colors = [\r\n\t  'lightseagreen',\r\n\t  'forestgreen',\r\n\t  'goldenrod',\r\n\t  'dodgerblue',\r\n\t  'darkorchid',\r\n\t  'crimson'\r\n\t];\r\n\r\n\t/**\r\n\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t * and the Firebug extension (any Firefox version) are known\r\n\t * to support \"%c\" CSS customizations.\r\n\t *\r\n\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t */\r\n\r\n\tfunction useColors() {\r\n\t  // is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t  return ('WebkitAppearance' in document.documentElement.style) ||\r\n\t    // is firebug? http://stackoverflow.com/a/398120/376773\r\n\t    (window.console && (console.firebug || (console.exception && console.table))) ||\r\n\t    // is firefox >= v31?\r\n\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\r\n\t}\r\n\r\n\t/**\r\n\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t */\r\n\r\n\texports.formatters.j = function(v) {\r\n\t  return JSON.stringify(v);\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Colorize log arguments if enabled.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction formatArgs() {\r\n\t  var args = arguments;\r\n\t  var useColors = this.useColors;\r\n\r\n\t  args[0] = (useColors ? '%c' : '')\r\n\t    + this.namespace\r\n\t    + (useColors ? ' %c' : ' ')\r\n\t    + args[0]\r\n\t    + (useColors ? '%c ' : ' ')\r\n\t    + '+' + exports.humanize(this.diff);\r\n\r\n\t  if (!useColors) return args;\r\n\r\n\t  var c = 'color: ' + this.color;\r\n\t  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\r\n\r\n\t  // the final \"%c\" is somewhat tricky, because there could be other\r\n\t  // arguments passed either before or after the %c, so we need to\r\n\t  // figure out the correct index to insert the CSS into\r\n\t  var index = 0;\r\n\t  var lastC = 0;\r\n\t  args[0].replace(/%[a-z%]/g, function(match) {\r\n\t    if ('%%' === match) return;\r\n\t    index++;\r\n\t    if ('%c' === match) {\r\n\t      // we only are interested in the *last* %c\r\n\t      // (the user may have provided their own)\r\n\t      lastC = index;\r\n\t    }\r\n\t  });\r\n\r\n\t  args.splice(lastC, 0, c);\r\n\t  return args;\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `console.log()` when available.\r\n\t * No-op when `console.log` is not a \"function\".\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction log() {\r\n\t  // this hackery is required for IE8/9, where\r\n\t  // the `console.log` function doesn't have 'apply'\r\n\t  return 'object' === typeof console\r\n\t    && console.log\r\n\t    && Function.prototype.apply.call(console.log, console, arguments);\r\n\t}\r\n\r\n\t/**\r\n\t * Save `namespaces`.\r\n\t *\r\n\t * @param {String} namespaces\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction save(namespaces) {\r\n\t  try {\r\n\t    if (null == namespaces) {\r\n\t      exports.storage.removeItem('debug');\r\n\t    } else {\r\n\t      exports.storage.debug = namespaces;\r\n\t    }\r\n\t  } catch(e) {}\r\n\t}\r\n\r\n\t/**\r\n\t * Load `namespaces`.\r\n\t *\r\n\t * @return {String} returns the previously persisted debug modes\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction load() {\r\n\t  var r;\r\n\t  try {\r\n\t    r = exports.storage.debug;\r\n\t  } catch(e) {}\r\n\t  return r;\r\n\t}\r\n\r\n\t/**\r\n\t * Enable namespaces listed in `localStorage.debug` initially.\r\n\t */\r\n\r\n\texports.enable(load());\r\n\r\n\t/**\r\n\t * Localstorage attempts to return the localstorage.\r\n\t *\r\n\t * This is necessary because safari throws\r\n\t * when a user disables cookies/localstorage\r\n\t * and you attempt to access it.\r\n\t *\r\n\t * @return {LocalStorage}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction localstorage(){\r\n\t  try {\r\n\t    return window.localStorage;\r\n\t  } catch (e) {}\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 9 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\t/**\r\n\t * This is the common logic for both the Node.js and web browser\r\n\t * implementations of `debug()`.\r\n\t *\r\n\t * Expose `debug()` as the module.\r\n\t */\r\n\r\n\texports = module.exports = debug;\r\n\texports.coerce = coerce;\r\n\texports.disable = disable;\r\n\texports.enable = enable;\r\n\texports.enabled = enabled;\r\n\texports.humanize = __webpack_require__(10);\r\n\r\n\t/**\r\n\t * The currently active debug mode names, and names to skip.\r\n\t */\r\n\r\n\texports.names = [];\r\n\texports.skips = [];\r\n\r\n\t/**\r\n\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t *\r\n\t * Valid key names are a single, lowercased letter, i.e. \"n\".\r\n\t */\r\n\r\n\texports.formatters = {};\r\n\r\n\t/**\r\n\t * Previously assigned color.\r\n\t */\r\n\r\n\tvar prevColor = 0;\r\n\r\n\t/**\r\n\t * Previous log timestamp.\r\n\t */\r\n\r\n\tvar prevTime;\r\n\r\n\t/**\r\n\t * Select a color.\r\n\t *\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction selectColor() {\r\n\t  return exports.colors[prevColor++ % exports.colors.length];\r\n\t}\r\n\r\n\t/**\r\n\t * Create a debugger with the given `namespace`.\r\n\t *\r\n\t * @param {String} namespace\r\n\t * @return {Function}\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction debug(namespace) {\r\n\r\n\t  // define the `disabled` version\r\n\t  function disabled() {\r\n\t  }\r\n\t  disabled.enabled = false;\r\n\r\n\t  // define the `enabled` version\r\n\t  function enabled() {\r\n\r\n\t    var self = enabled;\r\n\r\n\t    // set `diff` timestamp\r\n\t    var curr = +new Date();\r\n\t    var ms = curr - (prevTime || curr);\r\n\t    self.diff = ms;\r\n\t    self.prev = prevTime;\r\n\t    self.curr = curr;\r\n\t    prevTime = curr;\r\n\r\n\t    // add the `color` if not set\r\n\t    if (null == self.useColors) self.useColors = exports.useColors();\r\n\t    if (null == self.color && self.useColors) self.color = selectColor();\r\n\r\n\t    var args = Array.prototype.slice.call(arguments);\r\n\r\n\t    args[0] = exports.coerce(args[0]);\r\n\r\n\t    if ('string' !== typeof args[0]) {\r\n\t      // anything else let's inspect with %o\r\n\t      args = ['%o'].concat(args);\r\n\t    }\r\n\r\n\t    // apply any `formatters` transformations\r\n\t    var index = 0;\r\n\t    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\r\n\t      // if we encounter an escaped % then don't increase the array index\r\n\t      if (match === '%%') return match;\r\n\t      index++;\r\n\t      var formatter = exports.formatters[format];\r\n\t      if ('function' === typeof formatter) {\r\n\t        var val = args[index];\r\n\t        match = formatter.call(self, val);\r\n\r\n\t        // now we need to remove `args[index]` since it's inlined in the `format`\r\n\t        args.splice(index, 1);\r\n\t        index--;\r\n\t      }\r\n\t      return match;\r\n\t    });\r\n\r\n\t    if ('function' === typeof exports.formatArgs) {\r\n\t      args = exports.formatArgs.apply(self, args);\r\n\t    }\r\n\t    var logFn = enabled.log || exports.log || console.log.bind(console);\r\n\t    logFn.apply(self, args);\r\n\t  }\r\n\t  enabled.enabled = true;\r\n\r\n\t  var fn = exports.enabled(namespace) ? enabled : disabled;\r\n\r\n\t  fn.namespace = namespace;\r\n\r\n\t  return fn;\r\n\t}\r\n\r\n\t/**\r\n\t * Enables a debug mode by namespaces. This can include modes\r\n\t * separated by a colon and wildcards.\r\n\t *\r\n\t * @param {String} namespaces\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction enable(namespaces) {\r\n\t  exports.save(namespaces);\r\n\r\n\t  var split = (namespaces || '').split(/[\\s,]+/);\r\n\t  var len = split.length;\r\n\r\n\t  for (var i = 0; i < len; i++) {\r\n\t    if (!split[i]) continue; // ignore empty strings\r\n\t    namespaces = split[i].replace(/\\*/g, '.*?');\r\n\t    if (namespaces[0] === '-') {\r\n\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n\t    } else {\r\n\t      exports.names.push(new RegExp('^' + namespaces + '$'));\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Disable debug output.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction disable() {\r\n\t  exports.enable('');\r\n\t}\r\n\r\n\t/**\r\n\t * Returns true if the given mode name is enabled, false otherwise.\r\n\t *\r\n\t * @param {String} name\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction enabled(name) {\r\n\t  var i, len;\r\n\t  for (i = 0, len = exports.skips.length; i < len; i++) {\r\n\t    if (exports.skips[i].test(name)) {\r\n\t      return false;\r\n\t    }\r\n\t  }\r\n\t  for (i = 0, len = exports.names.length; i < len; i++) {\r\n\t    if (exports.names[i].test(name)) {\r\n\t      return true;\r\n\t    }\r\n\t  }\r\n\t  return false;\r\n\t}\r\n\r\n\t/**\r\n\t * Coerce `val`.\r\n\t *\r\n\t * @param {Mixed} val\r\n\t * @return {Mixed}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction coerce(val) {\r\n\t  if (val instanceof Error) return val.stack || val.message;\r\n\t  return val;\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 10 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * Helpers.\r\n\t */\r\n\r\n\tvar s = 1000;\r\n\tvar m = s * 60;\r\n\tvar h = m * 60;\r\n\tvar d = h * 24;\r\n\tvar y = d * 365.25;\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} options\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tmodule.exports = function(val, options){\r\n\t  options = options || {};\r\n\t  if ('string' == typeof val) return parse(val);\r\n\t  return options.long\r\n\t    ? long(val)\r\n\t    : short(val);\r\n\t};\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = '' + str;\r\n\t  if (str.length > 10000) return;\r\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\r\n\t  if (!match) return;\r\n\t  var n = parseFloat(match[1]);\r\n\t  var type = (match[2] || 'ms').toLowerCase();\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y;\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d;\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h;\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m;\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s;\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction short(ms) {\r\n\t  if (ms >= d) return Math.round(ms / d) + 'd';\r\n\t  if (ms >= h) return Math.round(ms / h) + 'h';\r\n\t  if (ms >= m) return Math.round(ms / m) + 'm';\r\n\t  if (ms >= s) return Math.round(ms / s) + 's';\r\n\t  return ms + 'ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction long(ms) {\r\n\t  return plural(ms, d, 'day')\r\n\t    || plural(ms, h, 'hour')\r\n\t    || plural(ms, m, 'minute')\r\n\t    || plural(ms, s, 'second')\r\n\t    || ms + ' ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, n, name) {\r\n\t  if (ms < n) return;\r\n\t  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\r\n\t  return Math.ceil(ms / n) + ' ' + name + 's';\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 11 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(module, global) {/*** IMPORTS FROM imports-loader ***/\r\n\tvar define = false;\r\n\r\n\t/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\r\n\t;(function () {\r\n\t  // Detect the `define` function exposed by asynchronous module loaders. The\r\n\t  // strict `define` check is necessary for compatibility with `r.js`.\r\n\t  var isLoader = typeof define === \"function\" && define.amd;\r\n\r\n\t  // A set of types used to distinguish objects from primitives.\r\n\t  var objectTypes = {\r\n\t    \"function\": true,\r\n\t    \"object\": true\r\n\t  };\r\n\r\n\t  // Detect the `exports` object exposed by CommonJS implementations.\r\n\t  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\r\n\r\n\t  // Use the `global` object exposed by Node (including Browserify via\r\n\t  // `insert-module-globals`), Narwhal, and Ringo as the default context,\r\n\t  // and the `window` object in browsers. Rhino exports a `global` function\r\n\t  // instead.\r\n\t  var root = objectTypes[typeof window] && window || this,\r\n\t      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\r\n\r\n\t  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\r\n\t    root = freeGlobal;\r\n\t  }\r\n\r\n\t  // Public: Initializes JSON 3 using the given `context` object, attaching the\r\n\t  // `stringify` and `parse` functions to the specified `exports` object.\r\n\t  function runInContext(context, exports) {\r\n\t    context || (context = root[\"Object\"]());\r\n\t    exports || (exports = root[\"Object\"]());\r\n\r\n\t    // Native constructor aliases.\r\n\t    var Number = context[\"Number\"] || root[\"Number\"],\r\n\t        String = context[\"String\"] || root[\"String\"],\r\n\t        Object = context[\"Object\"] || root[\"Object\"],\r\n\t        Date = context[\"Date\"] || root[\"Date\"],\r\n\t        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\r\n\t        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\r\n\t        Math = context[\"Math\"] || root[\"Math\"],\r\n\t        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\r\n\r\n\t    // Delegate to the native `stringify` and `parse` implementations.\r\n\t    if (typeof nativeJSON == \"object\" && nativeJSON) {\r\n\t      exports.stringify = nativeJSON.stringify;\r\n\t      exports.parse = nativeJSON.parse;\r\n\t    }\r\n\r\n\t    // Convenience aliases.\r\n\t    var objectProto = Object.prototype,\r\n\t        getClass = objectProto.toString,\r\n\t        isProperty, forEach, undef;\r\n\r\n\t    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\r\n\t    var isExtended = new Date(-3509827334573292);\r\n\t    try {\r\n\t      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\r\n\t      // results for certain dates in Opera >= 10.53.\r\n\t      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\r\n\t        // Safari < 2.0.2 stores the internal millisecond time value correctly,\r\n\t        // but clips the values returned by the date methods to the range of\r\n\t        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\r\n\t        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\r\n\t    } catch (exception) {}\r\n\r\n\t    // Internal: Determines whether the native `JSON.stringify` and `parse`\r\n\t    // implementations are spec-compliant. Based on work by Ken Snyder.\r\n\t    function has(name) {\r\n\t      if (has[name] !== undef) {\r\n\t        // Return cached feature test result.\r\n\t        return has[name];\r\n\t      }\r\n\t      var isSupported;\r\n\t      if (name == \"bug-string-char-index\") {\r\n\t        // IE <= 7 doesn't support accessing string characters using square\r\n\t        // bracket notation. IE 8 only supports this for primitives.\r\n\t        isSupported = \"a\"[0] != \"a\";\r\n\t      } else if (name == \"json\") {\r\n\t        // Indicates whether both `JSON.stringify` and `JSON.parse` are\r\n\t        // supported.\r\n\t        isSupported = has(\"json-stringify\") && has(\"json-parse\");\r\n\t      } else {\r\n\t        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\r\n\t        // Test `JSON.stringify`.\r\n\t        if (name == \"json-stringify\") {\r\n\t          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\r\n\t          if (stringifySupported) {\r\n\t            // A test function object with a custom `toJSON` method.\r\n\t            (value = function () {\r\n\t              return 1;\r\n\t            }).toJSON = value;\r\n\t            try {\r\n\t              stringifySupported =\r\n\t                // Firefox 3.1b1 and b2 serialize string, number, and boolean\r\n\t                // primitives as object literals.\r\n\t                stringify(0) === \"0\" &&\r\n\t                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\r\n\t                // literals.\r\n\t                stringify(new Number()) === \"0\" &&\r\n\t                stringify(new String()) == '\"\"' &&\r\n\t                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\r\n\t                // does not define a canonical JSON representation (this applies to\r\n\t                // objects with `toJSON` properties as well, *unless* they are nested\r\n\t                // within an object or array).\r\n\t                stringify(getClass) === undef &&\r\n\t                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\r\n\t                // FF 3.1b3 pass this test.\r\n\t                stringify(undef) === undef &&\r\n\t                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\r\n\t                // respectively, if the value is omitted entirely.\r\n\t                stringify() === undef &&\r\n\t                // FF 3.1b1, 2 throw an error if the given value is not a number,\r\n\t                // string, array, object, Boolean, or `null` literal. This applies to\r\n\t                // objects with custom `toJSON` methods as well, unless they are nested\r\n\t                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\r\n\t                // methods entirely.\r\n\t                stringify(value) === \"1\" &&\r\n\t                stringify([value]) == \"[1]\" &&\r\n\t                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\r\n\t                // `\"[null]\"`.\r\n\t                stringify([undef]) == \"[null]\" &&\r\n\t                // YUI 3.0.0b1 fails to serialize `null` literals.\r\n\t                stringify(null) == \"null\" &&\r\n\t                // FF 3.1b1, 2 halts serialization if an array contains a function:\r\n\t                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\r\n\t                // elides non-JSON values from objects and arrays, unless they\r\n\t                // define custom `toJSON` methods.\r\n\t                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\r\n\t                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\r\n\t                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\r\n\t                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\r\n\t                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\r\n\t                stringify(null, value) === \"1\" &&\r\n\t                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\r\n\t                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\r\n\t                // serialize extended years.\r\n\t                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\r\n\t                // The milliseconds are optional in ES 5, but required in 5.1.\r\n\t                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\r\n\t                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\r\n\t                // four-digit years instead of six-digit years. Credits: @Yaffle.\r\n\t                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\r\n\t                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\r\n\t                // values less than 1000. Credits: @Yaffle.\r\n\t                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\r\n\t            } catch (exception) {\r\n\t              stringifySupported = false;\r\n\t            }\r\n\t          }\r\n\t          isSupported = stringifySupported;\r\n\t        }\r\n\t        // Test `JSON.parse`.\r\n\t        if (name == \"json-parse\") {\r\n\t          var parse = exports.parse;\r\n\t          if (typeof parse == \"function\") {\r\n\t            try {\r\n\t              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\r\n\t              // Conforming implementations should also coerce the initial argument to\r\n\t              // a string prior to parsing.\r\n\t              if (parse(\"0\") === 0 && !parse(false)) {\r\n\t                // Simple parsing test.\r\n\t                value = parse(serialized);\r\n\t                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\r\n\t                if (parseSupported) {\r\n\t                  try {\r\n\t                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\r\n\t                    parseSupported = !parse('\"\\t\"');\r\n\t                  } catch (exception) {}\r\n\t                  if (parseSupported) {\r\n\t                    try {\r\n\t                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\r\n\t                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\r\n\t                      // certain octal literals.\r\n\t                      parseSupported = parse(\"01\") !== 1;\r\n\t                    } catch (exception) {}\r\n\t                  }\r\n\t                  if (parseSupported) {\r\n\t                    try {\r\n\t                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\r\n\t                      // points. These environments, along with FF 3.1b1 and 2,\r\n\t                      // also allow trailing commas in JSON objects and arrays.\r\n\t                      parseSupported = parse(\"1.\") !== 1;\r\n\t                    } catch (exception) {}\r\n\t                  }\r\n\t                }\r\n\t              }\r\n\t            } catch (exception) {\r\n\t              parseSupported = false;\r\n\t            }\r\n\t          }\r\n\t          isSupported = parseSupported;\r\n\t        }\r\n\t      }\r\n\t      return has[name] = !!isSupported;\r\n\t    }\r\n\r\n\t    if (!has(\"json\")) {\r\n\t      // Common `[[Class]]` name aliases.\r\n\t      var functionClass = \"[object Function]\",\r\n\t          dateClass = \"[object Date]\",\r\n\t          numberClass = \"[object Number]\",\r\n\t          stringClass = \"[object String]\",\r\n\t          arrayClass = \"[object Array]\",\r\n\t          booleanClass = \"[object Boolean]\";\r\n\r\n\t      // Detect incomplete support for accessing string characters by index.\r\n\t      var charIndexBuggy = has(\"bug-string-char-index\");\r\n\r\n\t      // Define additional utility methods if the `Date` methods are buggy.\r\n\t      if (!isExtended) {\r\n\t        var floor = Math.floor;\r\n\t        // A mapping between the months of the year and the number of days between\r\n\t        // January 1st and the first of the respective month.\r\n\t        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\r\n\t        // Internal: Calculates the number of days between the Unix epoch and the\r\n\t        // first day of the given month.\r\n\t        var getDay = function (year, month) {\r\n\t          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\r\n\t        };\r\n\t      }\r\n\r\n\t      // Internal: Determines if a property is a direct property of the given\r\n\t      // object. Delegates to the native `Object#hasOwnProperty` method.\r\n\t      if (!(isProperty = objectProto.hasOwnProperty)) {\r\n\t        isProperty = function (property) {\r\n\t          var members = {}, constructor;\r\n\t          if ((members.__proto__ = null, members.__proto__ = {\r\n\t            // The *proto* property cannot be set multiple times in recent\r\n\t            // versions of Firefox and SeaMonkey.\r\n\t            \"toString\": 1\r\n\t          }, members).toString != getClass) {\r\n\t            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\r\n\t            // supports the mutable *proto* property.\r\n\t            isProperty = function (property) {\r\n\t              // Capture and break the object's prototype chain (see section 8.6.2\r\n\t              // of the ES 5.1 spec). The parenthesized expression prevents an\r\n\t              // unsafe transformation by the Closure Compiler.\r\n\t              var original = this.__proto__, result = property in (this.__proto__ = null, this);\r\n\t              // Restore the original prototype chain.\r\n\t              this.__proto__ = original;\r\n\t              return result;\r\n\t            };\r\n\t          } else {\r\n\t            // Capture a reference to the top-level `Object` constructor.\r\n\t            constructor = members.constructor;\r\n\t            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\r\n\t            // other environments.\r\n\t            isProperty = function (property) {\r\n\t              var parent = (this.constructor || constructor).prototype;\r\n\t              return property in this && !(property in parent && this[property] === parent[property]);\r\n\t            };\r\n\t          }\r\n\t          members = null;\r\n\t          return isProperty.call(this, property);\r\n\t        };\r\n\t      }\r\n\r\n\t      // Internal: Normalizes the `for...in` iteration algorithm across\r\n\t      // environments. Each enumerated key is yielded to a `callback` function.\r\n\t      forEach = function (object, callback) {\r\n\t        var size = 0, Properties, members, property;\r\n\r\n\t        // Tests for bugs in the current environment's `for...in` algorithm. The\r\n\t        // `valueOf` property inherits the non-enumerable flag from\r\n\t        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\r\n\t        (Properties = function () {\r\n\t          this.valueOf = 0;\r\n\t        }).prototype.valueOf = 0;\r\n\r\n\t        // Iterate over a new instance of the `Properties` class.\r\n\t        members = new Properties();\r\n\t        for (property in members) {\r\n\t          // Ignore all properties inherited from `Object.prototype`.\r\n\t          if (isProperty.call(members, property)) {\r\n\t            size++;\r\n\t          }\r\n\t        }\r\n\t        Properties = members = null;\r\n\r\n\t        // Normalize the iteration algorithm.\r\n\t        if (!size) {\r\n\t          // A list of non-enumerable properties inherited from `Object.prototype`.\r\n\t          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\r\n\t          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\r\n\t          // properties.\r\n\t          forEach = function (object, callback) {\r\n\t            var isFunction = getClass.call(object) == functionClass, property, length;\r\n\t            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\r\n\t            for (property in object) {\r\n\t              // Gecko <= 1.0 enumerates the `prototype` property of functions under\r\n\t              // certain conditions; IE does not.\r\n\t              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\r\n\t                callback(property);\r\n\t              }\r\n\t            }\r\n\t            // Manually invoke the callback for each non-enumerable property.\r\n\t            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\r\n\t          };\r\n\t        } else if (size == 2) {\r\n\t          // Safari <= 2.0.4 enumerates shadowed properties twice.\r\n\t          forEach = function (object, callback) {\r\n\t            // Create a set of iterated properties.\r\n\t            var members = {}, isFunction = getClass.call(object) == functionClass, property;\r\n\t            for (property in object) {\r\n\t              // Store each property name to prevent double enumeration. The\r\n\t              // `prototype` property of functions is not enumerated due to cross-\r\n\t              // environment inconsistencies.\r\n\t              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\r\n\t                callback(property);\r\n\t              }\r\n\t            }\r\n\t          };\r\n\t        } else {\r\n\t          // No bugs detected; use the standard `for...in` algorithm.\r\n\t          forEach = function (object, callback) {\r\n\t            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\r\n\t            for (property in object) {\r\n\t              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\r\n\t                callback(property);\r\n\t              }\r\n\t            }\r\n\t            // Manually invoke the callback for the `constructor` property due to\r\n\t            // cross-environment inconsistencies.\r\n\t            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\r\n\t              callback(property);\r\n\t            }\r\n\t          };\r\n\t        }\r\n\t        return forEach(object, callback);\r\n\t      };\r\n\r\n\t      // Public: Serializes a JavaScript `value` as a JSON string. The optional\r\n\t      // `filter` argument may specify either a function that alters how object and\r\n\t      // array members are serialized, or an array of strings and numbers that\r\n\t      // indicates which properties should be serialized. The optional `width`\r\n\t      // argument may be either a string or number that specifies the indentation\r\n\t      // level of the output.\r\n\t      if (!has(\"json-stringify\")) {\r\n\t        // Internal: A map of control characters and their escaped equivalents.\r\n\t        var Escapes = {\r\n\t          92: \"\\\\\\\\\",\r\n\t          34: '\\\\\"',\r\n\t          8: \"\\\\b\",\r\n\t          12: \"\\\\f\",\r\n\t          10: \"\\\\n\",\r\n\t          13: \"\\\\r\",\r\n\t          9: \"\\\\t\"\r\n\t        };\r\n\r\n\t        // Internal: Converts `value` into a zero-padded string such that its\r\n\t        // length is at least equal to `width`. The `width` must be <= 6.\r\n\t        var leadingZeroes = \"000000\";\r\n\t        var toPaddedString = function (width, value) {\r\n\t          // The `|| 0` expression is necessary to work around a bug in\r\n\t          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\r\n\t          return (leadingZeroes + (value || 0)).slice(-width);\r\n\t        };\r\n\r\n\t        // Internal: Double-quotes a string `value`, replacing all ASCII control\r\n\t        // characters (characters with code unit values between 0 and 31) with\r\n\t        // their escaped equivalents. This is an implementation of the\r\n\t        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\r\n\t        var unicodePrefix = \"\\\\u00\";\r\n\t        var quote = function (value) {\r\n\t          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\r\n\t          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\r\n\t          for (; index < length; index++) {\r\n\t            var charCode = value.charCodeAt(index);\r\n\t            // If the character is a control character, append its Unicode or\r\n\t            // shorthand escape sequence; otherwise, append the character as-is.\r\n\t            switch (charCode) {\r\n\t              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\r\n\t                result += Escapes[charCode];\r\n\t                break;\r\n\t              default:\r\n\t                if (charCode < 32) {\r\n\t                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\r\n\t                  break;\r\n\t                }\r\n\t                result += useCharIndex ? symbols[index] : value.charAt(index);\r\n\t            }\r\n\t          }\r\n\t          return result + '\"';\r\n\t        };\r\n\r\n\t        // Internal: Recursively serializes an object. Implements the\r\n\t        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\r\n\t        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\r\n\t          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\r\n\t          try {\r\n\t            // Necessary for host object support.\r\n\t            value = object[property];\r\n\t          } catch (exception) {}\r\n\t          if (typeof value == \"object\" && value) {\r\n\t            className = getClass.call(value);\r\n\t            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\r\n\t              if (value > -1 / 0 && value < 1 / 0) {\r\n\t                // Dates are serialized according to the `Date#toJSON` method\r\n\t                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\r\n\t                // for the ISO 8601 date time string format.\r\n\t                if (getDay) {\r\n\t                  // Manually compute the year, month, date, hours, minutes,\r\n\t                  // seconds, and milliseconds if the `getUTC*` methods are\r\n\t                  // buggy. Adapted from @Yaffle's `date-shim` project.\r\n\t                  date = floor(value / 864e5);\r\n\t                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\r\n\t                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\r\n\t                  date = 1 + date - getDay(year, month);\r\n\t                  // The `time` value specifies the time within the day (see ES\r\n\t                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\r\n\t                  // to compute `A modulo B`, as the `%` operator does not\r\n\t                  // correspond to the `modulo` operation for negative numbers.\r\n\t                  time = (value % 864e5 + 864e5) % 864e5;\r\n\t                  // The hours, minutes, seconds, and milliseconds are obtained by\r\n\t                  // decomposing the time within the day. See section 15.9.1.10.\r\n\t                  hours = floor(time / 36e5) % 24;\r\n\t                  minutes = floor(time / 6e4) % 60;\r\n\t                  seconds = floor(time / 1e3) % 60;\r\n\t                  milliseconds = time % 1e3;\r\n\t                } else {\r\n\t                  year = value.getUTCFullYear();\r\n\t                  month = value.getUTCMonth();\r\n\t                  date = value.getUTCDate();\r\n\t                  hours = value.getUTCHours();\r\n\t                  minutes = value.getUTCMinutes();\r\n\t                  seconds = value.getUTCSeconds();\r\n\t                  milliseconds = value.getUTCMilliseconds();\r\n\t                }\r\n\t                // Serialize extended years correctly.\r\n\t                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\r\n\t                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\r\n\t                  // Months, dates, hours, minutes, and seconds should have two\r\n\t                  // digits; milliseconds should have three.\r\n\t                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\r\n\t                  // Milliseconds are optional in ES 5.0, but required in 5.1.\r\n\t                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\r\n\t              } else {\r\n\t                value = null;\r\n\t              }\r\n\t            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\r\n\t              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\r\n\t              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\r\n\t              // ignores all `toJSON` methods on these objects unless they are\r\n\t              // defined directly on an instance.\r\n\t              value = value.toJSON(property);\r\n\t            }\r\n\t          }\r\n\t          if (callback) {\r\n\t            // If a replacement function was provided, call it to obtain the value\r\n\t            // for serialization.\r\n\t            value = callback.call(object, property, value);\r\n\t          }\r\n\t          if (value === null) {\r\n\t            return \"null\";\r\n\t          }\r\n\t          className = getClass.call(value);\r\n\t          if (className == booleanClass) {\r\n\t            // Booleans are represented literally.\r\n\t            return \"\" + value;\r\n\t          } else if (className == numberClass) {\r\n\t            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\r\n\t            // `\"null\"`.\r\n\t            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\r\n\t          } else if (className == stringClass) {\r\n\t            // Strings are double-quoted and escaped.\r\n\t            return quote(\"\" + value);\r\n\t          }\r\n\t          // Recursively serialize objects and arrays.\r\n\t          if (typeof value == \"object\") {\r\n\t            // Check for cyclic structures. This is a linear search; performance\r\n\t            // is inversely proportional to the number of unique nested objects.\r\n\t            for (length = stack.length; length--;) {\r\n\t              if (stack[length] === value) {\r\n\t                // Cyclic structures cannot be serialized by `JSON.stringify`.\r\n\t                throw TypeError();\r\n\t              }\r\n\t            }\r\n\t            // Add the object to the stack of traversed objects.\r\n\t            stack.push(value);\r\n\t            results = [];\r\n\t            // Save the current indentation level and indent one additional level.\r\n\t            prefix = indentation;\r\n\t            indentation += whitespace;\r\n\t            if (className == arrayClass) {\r\n\t              // Recursively serialize array elements.\r\n\t              for (index = 0, length = value.length; index < length; index++) {\r\n\t                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\r\n\t                results.push(element === undef ? \"null\" : element);\r\n\t              }\r\n\t              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\r\n\t            } else {\r\n\t              // Recursively serialize object members. Members are selected from\r\n\t              // either a user-specified list of property names, or the object\r\n\t              // itself.\r\n\t              forEach(properties || value, function (property) {\r\n\t                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\r\n\t                if (element !== undef) {\r\n\t                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\r\n\t                  // is not the empty string, let `member` {quote(property) + \":\"}\r\n\t                  // be the concatenation of `member` and the `space` character.\"\r\n\t                  // The \"`space` character\" refers to the literal space\r\n\t                  // character, not the `space` {width} argument provided to\r\n\t                  // `JSON.stringify`.\r\n\t                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\r\n\t                }\r\n\t              });\r\n\t              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\r\n\t            }\r\n\t            // Remove the object from the traversed object stack.\r\n\t            stack.pop();\r\n\t            return result;\r\n\t          }\r\n\t        };\r\n\r\n\t        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\r\n\t        exports.stringify = function (source, filter, width) {\r\n\t          var whitespace, callback, properties, className;\r\n\t          if (objectTypes[typeof filter] && filter) {\r\n\t            if ((className = getClass.call(filter)) == functionClass) {\r\n\t              callback = filter;\r\n\t            } else if (className == arrayClass) {\r\n\t              // Convert the property names array into a makeshift set.\r\n\t              properties = {};\r\n\t              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\r\n\t            }\r\n\t          }\r\n\t          if (width) {\r\n\t            if ((className = getClass.call(width)) == numberClass) {\r\n\t              // Convert the `width` to an integer and create a string containing\r\n\t              // `width` number of space characters.\r\n\t              if ((width -= width % 1) > 0) {\r\n\t                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\r\n\t              }\r\n\t            } else if (className == stringClass) {\r\n\t              whitespace = width.length <= 10 ? width : width.slice(0, 10);\r\n\t            }\r\n\t          }\r\n\t          // Opera <= 7.54u2 discards the values associated with empty string keys\r\n\t          // (`\"\"`) only if they are used directly within an object member list\r\n\t          // (e.g., `!(\"\" in { \"\": 1})`).\r\n\t          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\r\n\t        };\r\n\t      }\r\n\r\n\t      // Public: Parses a JSON source string.\r\n\t      if (!has(\"json-parse\")) {\r\n\t        var fromCharCode = String.fromCharCode;\r\n\r\n\t        // Internal: A map of escaped control characters and their unescaped\r\n\t        // equivalents.\r\n\t        var Unescapes = {\r\n\t          92: \"\\\\\",\r\n\t          34: '\"',\r\n\t          47: \"/\",\r\n\t          98: \"\\b\",\r\n\t          116: \"\\t\",\r\n\t          110: \"\\n\",\r\n\t          102: \"\\f\",\r\n\t          114: \"\\r\"\r\n\t        };\r\n\r\n\t        // Internal: Stores the parser state.\r\n\t        var Index, Source;\r\n\r\n\t        // Internal: Resets the parser state and throws a `SyntaxError`.\r\n\t        var abort = function () {\r\n\t          Index = Source = null;\r\n\t          throw SyntaxError();\r\n\t        };\r\n\r\n\t        // Internal: Returns the next token, or `\"$\"` if the parser has reached\r\n\t        // the end of the source string. A token may be a string, number, `null`\r\n\t        // literal, or Boolean literal.\r\n\t        var lex = function () {\r\n\t          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\r\n\t          while (Index < length) {\r\n\t            charCode = source.charCodeAt(Index);\r\n\t            switch (charCode) {\r\n\t              case 9: case 10: case 13: case 32:\r\n\t                // Skip whitespace tokens, including tabs, carriage returns, line\r\n\t                // feeds, and space characters.\r\n\t                Index++;\r\n\t                break;\r\n\t              case 123: case 125: case 91: case 93: case 58: case 44:\r\n\t                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\r\n\t                // the current position.\r\n\t                value = charIndexBuggy ? source.charAt(Index) : source[Index];\r\n\t                Index++;\r\n\t                return value;\r\n\t              case 34:\r\n\t                // `\"` delimits a JSON string; advance to the next character and\r\n\t                // begin parsing the string. String tokens are prefixed with the\r\n\t                // sentinel `@` character to distinguish them from punctuators and\r\n\t                // end-of-string tokens.\r\n\t                for (value = \"@\", Index++; Index < length;) {\r\n\t                  charCode = source.charCodeAt(Index);\r\n\t                  if (charCode < 32) {\r\n\t                    // Unescaped ASCII control characters (those with a code unit\r\n\t                    // less than the space character) are not permitted.\r\n\t                    abort();\r\n\t                  } else if (charCode == 92) {\r\n\t                    // A reverse solidus (`\\`) marks the beginning of an escaped\r\n\t                    // control character (including `\"`, `\\`, and `/`) or Unicode\r\n\t                    // escape sequence.\r\n\t                    charCode = source.charCodeAt(++Index);\r\n\t                    switch (charCode) {\r\n\t                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\r\n\t                        // Revive escaped control characters.\r\n\t                        value += Unescapes[charCode];\r\n\t                        Index++;\r\n\t                        break;\r\n\t                      case 117:\r\n\t                        // `\\u` marks the beginning of a Unicode escape sequence.\r\n\t                        // Advance to the first character and validate the\r\n\t                        // four-digit code point.\r\n\t                        begin = ++Index;\r\n\t                        for (position = Index + 4; Index < position; Index++) {\r\n\t                          charCode = source.charCodeAt(Index);\r\n\t                          // A valid sequence comprises four hexdigits (case-\r\n\t                          // insensitive) that form a single hexadecimal value.\r\n\t                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\r\n\t                            // Invalid Unicode escape sequence.\r\n\t                            abort();\r\n\t                          }\r\n\t                        }\r\n\t                        // Revive the escaped character.\r\n\t                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\r\n\t                        break;\r\n\t                      default:\r\n\t                        // Invalid escape sequence.\r\n\t                        abort();\r\n\t                    }\r\n\t                  } else {\r\n\t                    if (charCode == 34) {\r\n\t                      // An unescaped double-quote character marks the end of the\r\n\t                      // string.\r\n\t                      break;\r\n\t                    }\r\n\t                    charCode = source.charCodeAt(Index);\r\n\t                    begin = Index;\r\n\t                    // Optimize for the common case where a string is valid.\r\n\t                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\r\n\t                      charCode = source.charCodeAt(++Index);\r\n\t                    }\r\n\t                    // Append the string as-is.\r\n\t                    value += source.slice(begin, Index);\r\n\t                  }\r\n\t                }\r\n\t                if (source.charCodeAt(Index) == 34) {\r\n\t                  // Advance to the next character and return the revived string.\r\n\t                  Index++;\r\n\t                  return value;\r\n\t                }\r\n\t                // Unterminated string.\r\n\t                abort();\r\n\t              default:\r\n\t                // Parse numbers and literals.\r\n\t                begin = Index;\r\n\t                // Advance past the negative sign, if one is specified.\r\n\t                if (charCode == 45) {\r\n\t                  isSigned = true;\r\n\t                  charCode = source.charCodeAt(++Index);\r\n\t                }\r\n\t                // Parse an integer or floating-point value.\r\n\t                if (charCode >= 48 && charCode <= 57) {\r\n\t                  // Leading zeroes are interpreted as octal literals.\r\n\t                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\r\n\t                    // Illegal octal literal.\r\n\t                    abort();\r\n\t                  }\r\n\t                  isSigned = false;\r\n\t                  // Parse the integer component.\r\n\t                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\r\n\t                  // Floats cannot contain a leading decimal point; however, this\r\n\t                  // case is already accounted for by the parser.\r\n\t                  if (source.charCodeAt(Index) == 46) {\r\n\t                    position = ++Index;\r\n\t                    // Parse the decimal component.\r\n\t                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n\t                    if (position == Index) {\r\n\t                      // Illegal trailing decimal.\r\n\t                      abort();\r\n\t                    }\r\n\t                    Index = position;\r\n\t                  }\r\n\t                  // Parse exponents. The `e` denoting the exponent is\r\n\t                  // case-insensitive.\r\n\t                  charCode = source.charCodeAt(Index);\r\n\t                  if (charCode == 101 || charCode == 69) {\r\n\t                    charCode = source.charCodeAt(++Index);\r\n\t                    // Skip past the sign following the exponent, if one is\r\n\t                    // specified.\r\n\t                    if (charCode == 43 || charCode == 45) {\r\n\t                      Index++;\r\n\t                    }\r\n\t                    // Parse the exponential component.\r\n\t                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n\t                    if (position == Index) {\r\n\t                      // Illegal empty exponent.\r\n\t                      abort();\r\n\t                    }\r\n\t                    Index = position;\r\n\t                  }\r\n\t                  // Coerce the parsed value to a JavaScript number.\r\n\t                  return +source.slice(begin, Index);\r\n\t                }\r\n\t                // A negative sign may only precede numbers.\r\n\t                if (isSigned) {\r\n\t                  abort();\r\n\t                }\r\n\t                // `true`, `false`, and `null` literals.\r\n\t                if (source.slice(Index, Index + 4) == \"true\") {\r\n\t                  Index += 4;\r\n\t                  return true;\r\n\t                } else if (source.slice(Index, Index + 5) == \"false\") {\r\n\t                  Index += 5;\r\n\t                  return false;\r\n\t                } else if (source.slice(Index, Index + 4) == \"null\") {\r\n\t                  Index += 4;\r\n\t                  return null;\r\n\t                }\r\n\t                // Unrecognized token.\r\n\t                abort();\r\n\t            }\r\n\t          }\r\n\t          // Return the sentinel `$` character if the parser has reached the end\r\n\t          // of the source string.\r\n\t          return \"$\";\r\n\t        };\r\n\r\n\t        // Internal: Parses a JSON `value` token.\r\n\t        var get = function (value) {\r\n\t          var results, hasMembers;\r\n\t          if (value == \"$\") {\r\n\t            // Unexpected end of input.\r\n\t            abort();\r\n\t          }\r\n\t          if (typeof value == \"string\") {\r\n\t            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\r\n\t              // Remove the sentinel `@` character.\r\n\t              return value.slice(1);\r\n\t            }\r\n\t            // Parse object and array literals.\r\n\t            if (value == \"[\") {\r\n\t              // Parses a JSON array, returning a new JavaScript array.\r\n\t              results = [];\r\n\t              for (;; hasMembers || (hasMembers = true)) {\r\n\t                value = lex();\r\n\t                // A closing square bracket marks the end of the array literal.\r\n\t                if (value == \"]\") {\r\n\t                  break;\r\n\t                }\r\n\t                // If the array literal contains elements, the current token\r\n\t                // should be a comma separating the previous element from the\r\n\t                // next.\r\n\t                if (hasMembers) {\r\n\t                  if (value == \",\") {\r\n\t                    value = lex();\r\n\t                    if (value == \"]\") {\r\n\t                      // Unexpected trailing `,` in array literal.\r\n\t                      abort();\r\n\t                    }\r\n\t                  } else {\r\n\t                    // A `,` must separate each array element.\r\n\t                    abort();\r\n\t                  }\r\n\t                }\r\n\t                // Elisions and leading commas are not permitted.\r\n\t                if (value == \",\") {\r\n\t                  abort();\r\n\t                }\r\n\t                results.push(get(value));\r\n\t              }\r\n\t              return results;\r\n\t            } else if (value == \"{\") {\r\n\t              // Parses a JSON object, returning a new JavaScript object.\r\n\t              results = {};\r\n\t              for (;; hasMembers || (hasMembers = true)) {\r\n\t                value = lex();\r\n\t                // A closing curly brace marks the end of the object literal.\r\n\t                if (value == \"}\") {\r\n\t                  break;\r\n\t                }\r\n\t                // If the object literal contains members, the current token\r\n\t                // should be a comma separator.\r\n\t                if (hasMembers) {\r\n\t                  if (value == \",\") {\r\n\t                    value = lex();\r\n\t                    if (value == \"}\") {\r\n\t                      // Unexpected trailing `,` in object literal.\r\n\t                      abort();\r\n\t                    }\r\n\t                  } else {\r\n\t                    // A `,` must separate each object member.\r\n\t                    abort();\r\n\t                  }\r\n\t                }\r\n\t                // Leading commas are not permitted, object property names must be\r\n\t                // double-quoted strings, and a `:` must separate each property\r\n\t                // name and value.\r\n\t                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\r\n\t                  abort();\r\n\t                }\r\n\t                results[value.slice(1)] = get(lex());\r\n\t              }\r\n\t              return results;\r\n\t            }\r\n\t            // Unexpected token encountered.\r\n\t            abort();\r\n\t          }\r\n\t          return value;\r\n\t        };\r\n\r\n\t        // Internal: Updates a traversed object member.\r\n\t        var update = function (source, property, callback) {\r\n\t          var element = walk(source, property, callback);\r\n\t          if (element === undef) {\r\n\t            delete source[property];\r\n\t          } else {\r\n\t            source[property] = element;\r\n\t          }\r\n\t        };\r\n\r\n\t        // Internal: Recursively traverses a parsed JSON object, invoking the\r\n\t        // `callback` function for each value. This is an implementation of the\r\n\t        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\r\n\t        var walk = function (source, property, callback) {\r\n\t          var value = source[property], length;\r\n\t          if (typeof value == \"object\" && value) {\r\n\t            // `forEach` can't be used to traverse an array in Opera <= 8.54\r\n\t            // because its `Object#hasOwnProperty` implementation returns `false`\r\n\t            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\r\n\t            if (getClass.call(value) == arrayClass) {\r\n\t              for (length = value.length; length--;) {\r\n\t                update(value, length, callback);\r\n\t              }\r\n\t            } else {\r\n\t              forEach(value, function (property) {\r\n\t                update(value, property, callback);\r\n\t              });\r\n\t            }\r\n\t          }\r\n\t          return callback.call(source, property, value);\r\n\t        };\r\n\r\n\t        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\r\n\t        exports.parse = function (source, callback) {\r\n\t          var result, value;\r\n\t          Index = 0;\r\n\t          Source = \"\" + source;\r\n\t          result = get(lex());\r\n\t          // If a JSON string contains multiple tokens, it is invalid.\r\n\t          if (lex() != \"$\") {\r\n\t            abort();\r\n\t          }\r\n\t          // Reset the parser state.\r\n\t          Index = Source = null;\r\n\t          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\r\n\t        };\r\n\t      }\r\n\t    }\r\n\r\n\t    exports[\"runInContext\"] = runInContext;\r\n\t    return exports;\r\n\t  }\r\n\r\n\t  if (freeExports && !isLoader) {\r\n\t    // Export for CommonJS environments.\r\n\t    runInContext(root, freeExports);\r\n\t  } else {\r\n\t    // Export for web browsers and JavaScript engines.\r\n\t    var nativeJSON = root.JSON,\r\n\t        previousJSON = root[\"JSON3\"],\r\n\t        isRestored = false;\r\n\r\n\t    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\r\n\t      // Public: Restores the original value of the global `JSON` object and\r\n\t      // returns a reference to the `JSON3` object.\r\n\t      \"noConflict\": function () {\r\n\t        if (!isRestored) {\r\n\t          isRestored = true;\r\n\t          root.JSON = nativeJSON;\r\n\t          root[\"JSON3\"] = previousJSON;\r\n\t          nativeJSON = previousJSON = null;\r\n\t        }\r\n\t        return JSON3;\r\n\t      }\r\n\t    }));\r\n\r\n\t    root.JSON = {\r\n\t      \"parse\": JSON3.parse,\r\n\t      \"stringify\": JSON3.stringify\r\n\t    };\r\n\t  }\r\n\r\n\t  // Export for asynchronous module loaders.\r\n\t  if (isLoader) {\r\n\t    define(function () {\r\n\t      return JSON3;\r\n\t    });\r\n\t  }\r\n\t}).call(this);\r\n\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)(module), (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 12 */\r\n/***/ function(module, exports) {\r\n\r\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 13 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\t/**\r\n\t * Expose `Emitter`.\r\n\t */\r\n\r\n\tmodule.exports = Emitter;\r\n\r\n\t/**\r\n\t * Initialize a new `Emitter`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Emitter(obj) {\r\n\t  if (obj) return mixin(obj);\r\n\t};\r\n\r\n\t/**\r\n\t * Mixin the emitter properties.\r\n\t *\r\n\t * @param {Object} obj\r\n\t * @return {Object}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction mixin(obj) {\r\n\t  for (var key in Emitter.prototype) {\r\n\t    obj[key] = Emitter.prototype[key];\r\n\t  }\r\n\t  return obj;\r\n\t}\r\n\r\n\t/**\r\n\t * Listen on the given `event` with `fn`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.on =\r\n\tEmitter.prototype.addEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  (this._callbacks[event] = this._callbacks[event] || [])\r\n\t    .push(fn);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds an `event` listener that will be invoked a single\r\n\t * time then automatically removed.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.once = function(event, fn){\r\n\t  var self = this;\r\n\t  this._callbacks = this._callbacks || {};\r\n\r\n\t  function on() {\r\n\t    self.off(event, on);\r\n\t    fn.apply(this, arguments);\r\n\t  }\r\n\r\n\t  on.fn = fn;\r\n\t  this.on(event, on);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the given callback for `event` or all\r\n\t * registered callbacks.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.off =\r\n\tEmitter.prototype.removeListener =\r\n\tEmitter.prototype.removeAllListeners =\r\n\tEmitter.prototype.removeEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\r\n\t  // all\r\n\t  if (0 == arguments.length) {\r\n\t    this._callbacks = {};\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // specific event\r\n\t  var callbacks = this._callbacks[event];\r\n\t  if (!callbacks) return this;\r\n\r\n\t  // remove all handlers\r\n\t  if (1 == arguments.length) {\r\n\t    delete this._callbacks[event];\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // remove specific handler\r\n\t  var cb;\r\n\t  for (var i = 0; i < callbacks.length; i++) {\r\n\t    cb = callbacks[i];\r\n\t    if (cb === fn || cb.fn === fn) {\r\n\t      callbacks.splice(i, 1);\r\n\t      break;\r\n\t    }\r\n\t  }\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Emit `event` with the given args.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Mixed} ...\r\n\t * @return {Emitter}\r\n\t */\r\n\r\n\tEmitter.prototype.emit = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  var args = [].slice.call(arguments, 1)\r\n\t    , callbacks = this._callbacks[event];\r\n\r\n\t  if (callbacks) {\r\n\t    callbacks = callbacks.slice(0);\r\n\t    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t      callbacks[i].apply(this, args);\r\n\t    }\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Return array of callbacks for `event`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Array}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.listeners = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  return this._callbacks[event] || [];\r\n\t};\r\n\r\n\t/**\r\n\t * Check if this emitter has `event` handlers.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.hasListeners = function(event){\r\n\t  return !! this.listeners(event).length;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 14 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/*global Blob,File*/\r\n\r\n\t/**\r\n\t * Module requirements\r\n\t */\r\n\r\n\tvar isArray = __webpack_require__(15);\r\n\tvar isBuf = __webpack_require__(16);\r\n\r\n\t/**\r\n\t * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\r\n\t * Anything with blobs or files should be fed through removeBlobs before coming\r\n\t * here.\r\n\t *\r\n\t * @param {Object} packet - socket.io event packet\r\n\t * @return {Object} with deconstructed packet and list of buffers\r\n\t * @api public\r\n\t */\r\n\r\n\texports.deconstructPacket = function(packet){\r\n\t  var buffers = [];\r\n\t  var packetData = packet.data;\r\n\r\n\t  function _deconstructPacket(data) {\r\n\t    if (!data) return data;\r\n\r\n\t    if (isBuf(data)) {\r\n\t      var placeholder = { _placeholder: true, num: buffers.length };\r\n\t      buffers.push(data);\r\n\t      return placeholder;\r\n\t    } else if (isArray(data)) {\r\n\t      var newData = new Array(data.length);\r\n\t      for (var i = 0; i < data.length; i++) {\r\n\t        newData[i] = _deconstructPacket(data[i]);\r\n\t      }\r\n\t      return newData;\r\n\t    } else if ('object' == typeof data && !(data instanceof Date)) {\r\n\t      var newData = {};\r\n\t      for (var key in data) {\r\n\t        newData[key] = _deconstructPacket(data[key]);\r\n\t      }\r\n\t      return newData;\r\n\t    }\r\n\t    return data;\r\n\t  }\r\n\r\n\t  var pack = packet;\r\n\t  pack.data = _deconstructPacket(packetData);\r\n\t  pack.attachments = buffers.length; // number of binary 'attachments'\r\n\t  return {packet: pack, buffers: buffers};\r\n\t};\r\n\r\n\t/**\r\n\t * Reconstructs a binary packet from its placeholder packet and buffers\r\n\t *\r\n\t * @param {Object} packet - event packet with placeholders\r\n\t * @param {Array} buffers - binary buffers to put in placeholder positions\r\n\t * @return {Object} reconstructed packet\r\n\t * @api public\r\n\t */\r\n\r\n\texports.reconstructPacket = function(packet, buffers) {\r\n\t  var curPlaceHolder = 0;\r\n\r\n\t  function _reconstructPacket(data) {\r\n\t    if (data && data._placeholder) {\r\n\t      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\r\n\t      return buf;\r\n\t    } else if (isArray(data)) {\r\n\t      for (var i = 0; i < data.length; i++) {\r\n\t        data[i] = _reconstructPacket(data[i]);\r\n\t      }\r\n\t      return data;\r\n\t    } else if (data && 'object' == typeof data) {\r\n\t      for (var key in data) {\r\n\t        data[key] = _reconstructPacket(data[key]);\r\n\t      }\r\n\t      return data;\r\n\t    }\r\n\t    return data;\r\n\t  }\r\n\r\n\t  packet.data = _reconstructPacket(packet.data);\r\n\t  packet.attachments = undefined; // no longer useful\r\n\t  return packet;\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously removes Blobs or Files from data via\r\n\t * FileReader's readAsArrayBuffer method. Used before encoding\r\n\t * data as msgpack. Calls callback with the blobless data.\r\n\t *\r\n\t * @param {Object} data\r\n\t * @param {Function} callback\r\n\t * @api private\r\n\t */\r\n\r\n\texports.removeBlobs = function(data, callback) {\r\n\t  function _removeBlobs(obj, curKey, containingObject) {\r\n\t    if (!obj) return obj;\r\n\r\n\t    // convert any blob\r\n\t    if ((global.Blob && obj instanceof Blob) ||\r\n\t        (global.File && obj instanceof File)) {\r\n\t      pendingBlobs++;\r\n\r\n\t      // async filereader\r\n\t      var fileReader = new FileReader();\r\n\t      fileReader.onload = function() { // this.result == arraybuffer\r\n\t        if (containingObject) {\r\n\t          containingObject[curKey] = this.result;\r\n\t        }\r\n\t        else {\r\n\t          bloblessData = this.result;\r\n\t        }\r\n\r\n\t        // if nothing pending its callback time\r\n\t        if(! --pendingBlobs) {\r\n\t          callback(bloblessData);\r\n\t        }\r\n\t      };\r\n\r\n\t      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\r\n\t    } else if (isArray(obj)) { // handle array\r\n\t      for (var i = 0; i < obj.length; i++) {\r\n\t        _removeBlobs(obj[i], i, obj);\r\n\t      }\r\n\t    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\r\n\t      for (var key in obj) {\r\n\t        _removeBlobs(obj[key], key, obj);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  var pendingBlobs = 0;\r\n\t  var bloblessData = data;\r\n\t  _removeBlobs(bloblessData);\r\n\t  if (!pendingBlobs) {\r\n\t    callback(bloblessData);\r\n\t  }\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 15 */\r\n/***/ function(module, exports) {\r\n\r\n\tmodule.exports = Array.isArray || function (arr) {\r\n\t  return Object.prototype.toString.call(arr) == '[object Array]';\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 16 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {\r\n\tmodule.exports = isBuf;\r\n\r\n\t/**\r\n\t * Returns true if obj is a buffer or an arraybuffer.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction isBuf(obj) {\r\n\t  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\r\n\t         (global.ArrayBuffer && obj instanceof ArrayBuffer);\r\n\t}\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 17 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar eio = __webpack_require__(18);\r\n\tvar Socket = __webpack_require__(44);\r\n\tvar Emitter = __webpack_require__(35);\r\n\tvar parser = __webpack_require__(7);\r\n\tvar on = __webpack_require__(46);\r\n\tvar bind = __webpack_require__(47);\r\n\tvar debug = __webpack_require__(3)('socket.io-client:manager');\r\n\tvar indexOf = __webpack_require__(42);\r\n\tvar Backoff = __webpack_require__(48);\r\n\r\n\t/**\r\n\t * IE6+ hasOwnProperty\r\n\t */\r\n\r\n\tvar has = Object.prototype.hasOwnProperty;\r\n\r\n\t/**\r\n\t * Module exports\r\n\t */\r\n\r\n\tmodule.exports = Manager;\r\n\r\n\t/**\r\n\t * `Manager` constructor.\r\n\t *\r\n\t * @param {String} engine instance or engine uri/opts\r\n\t * @param {Object} options\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Manager(uri, opts) {\r\n\t  if (!(this instanceof Manager)) return new Manager(uri, opts);\r\n\t  if (uri && 'object' === (typeof uri === 'undefined' ? 'undefined' : _typeof(uri))) {\r\n\t    opts = uri;\r\n\t    uri = undefined;\r\n\t  }\r\n\t  opts = opts || {};\r\n\r\n\t  opts.path = opts.path || '/socket.io';\r\n\t  this.nsps = {};\r\n\t  this.subs = [];\r\n\t  this.opts = opts;\r\n\t  this.reconnection(opts.reconnection !== false);\r\n\t  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\r\n\t  this.reconnectionDelay(opts.reconnectionDelay || 1000);\r\n\t  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\r\n\t  this.randomizationFactor(opts.randomizationFactor || 0.5);\r\n\t  this.backoff = new Backoff({\r\n\t    min: this.reconnectionDelay(),\r\n\t    max: this.reconnectionDelayMax(),\r\n\t    jitter: this.randomizationFactor()\r\n\t  });\r\n\t  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\r\n\t  this.readyState = 'closed';\r\n\t  this.uri = uri;\r\n\t  this.connecting = [];\r\n\t  this.lastPing = null;\r\n\t  this.encoding = false;\r\n\t  this.packetBuffer = [];\r\n\t  this.encoder = new parser.Encoder();\r\n\t  this.decoder = new parser.Decoder();\r\n\t  this.autoConnect = opts.autoConnect !== false;\r\n\t  if (this.autoConnect) this.open();\r\n\t}\r\n\r\n\t/**\r\n\t * Propagate given event to sockets and emit on `this`\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.emitAll = function () {\r\n\t  this.emit.apply(this, arguments);\r\n\t  for (var nsp in this.nsps) {\r\n\t    if (has.call(this.nsps, nsp)) {\r\n\t      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Update `socket.id` of all sockets\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.updateSocketIds = function () {\r\n\t  for (var nsp in this.nsps) {\r\n\t    if (has.call(this.nsps, nsp)) {\r\n\t      this.nsps[nsp].id = this.engine.id;\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Mix in `Emitter`.\r\n\t */\r\n\r\n\tEmitter(Manager.prototype);\r\n\r\n\t/**\r\n\t * Sets the `reconnection` config.\r\n\t *\r\n\t * @param {Boolean} true/false if it should automatically reconnect\r\n\t * @return {Manager} self or value\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.reconnection = function (v) {\r\n\t  if (!arguments.length) return this._reconnection;\r\n\t  this._reconnection = !!v;\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the reconnection attempts config.\r\n\t *\r\n\t * @param {Number} max reconnection attempts before giving up\r\n\t * @return {Manager} self or value\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.reconnectionAttempts = function (v) {\r\n\t  if (!arguments.length) return this._reconnectionAttempts;\r\n\t  this._reconnectionAttempts = v;\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the delay between reconnections.\r\n\t *\r\n\t * @param {Number} delay\r\n\t * @return {Manager} self or value\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.reconnectionDelay = function (v) {\r\n\t  if (!arguments.length) return this._reconnectionDelay;\r\n\t  this._reconnectionDelay = v;\r\n\t  this.backoff && this.backoff.setMin(v);\r\n\t  return this;\r\n\t};\r\n\r\n\tManager.prototype.randomizationFactor = function (v) {\r\n\t  if (!arguments.length) return this._randomizationFactor;\r\n\t  this._randomizationFactor = v;\r\n\t  this.backoff && this.backoff.setJitter(v);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the maximum delay between reconnections.\r\n\t *\r\n\t * @param {Number} delay\r\n\t * @return {Manager} self or value\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.reconnectionDelayMax = function (v) {\r\n\t  if (!arguments.length) return this._reconnectionDelayMax;\r\n\t  this._reconnectionDelayMax = v;\r\n\t  this.backoff && this.backoff.setMax(v);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the connection timeout. `false` to disable\r\n\t *\r\n\t * @return {Manager} self or value\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.timeout = function (v) {\r\n\t  if (!arguments.length) return this._timeout;\r\n\t  this._timeout = v;\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Starts trying to reconnect if reconnection is enabled and we have not\r\n\t * started reconnecting yet\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.maybeReconnectOnOpen = function () {\r\n\t  // Only try to reconnect if it's the first time we're connecting\r\n\t  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\r\n\t    // keeps reconnection from firing twice for the same reconnection loop\r\n\t    this.reconnect();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the current transport `socket`.\r\n\t *\r\n\t * @param {Function} optional, callback\r\n\t * @return {Manager} self\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.open = Manager.prototype.connect = function (fn, opts) {\r\n\t  debug('readyState %s', this.readyState);\r\n\t  if (~this.readyState.indexOf('open')) return this;\r\n\r\n\t  debug('opening %s', this.uri);\r\n\t  this.engine = eio(this.uri, this.opts);\r\n\t  var socket = this.engine;\r\n\t  var self = this;\r\n\t  this.readyState = 'opening';\r\n\t  this.skipReconnect = false;\r\n\r\n\t  // emit `open`\r\n\t  var openSub = on(socket, 'open', function () {\r\n\t    self.onopen();\r\n\t    fn && fn();\r\n\t  });\r\n\r\n\t  // emit `connect_error`\r\n\t  var errorSub = on(socket, 'error', function (data) {\r\n\t    debug('connect_error');\r\n\t    self.cleanup();\r\n\t    self.readyState = 'closed';\r\n\t    self.emitAll('connect_error', data);\r\n\t    if (fn) {\r\n\t      var err = new Error('Connection error');\r\n\t      err.data = data;\r\n\t      fn(err);\r\n\t    } else {\r\n\t      // Only do this if there is no fn to handle the error\r\n\t      self.maybeReconnectOnOpen();\r\n\t    }\r\n\t  });\r\n\r\n\t  // emit `connect_timeout`\r\n\t  if (false !== this._timeout) {\r\n\t    var timeout = this._timeout;\r\n\t    debug('connect attempt will timeout after %d', timeout);\r\n\r\n\t    // set timer\r\n\t    var timer = setTimeout(function () {\r\n\t      debug('connect attempt timed out after %d', timeout);\r\n\t      openSub.destroy();\r\n\t      socket.close();\r\n\t      socket.emit('error', 'timeout');\r\n\t      self.emitAll('connect_timeout', timeout);\r\n\t    }, timeout);\r\n\r\n\t    this.subs.push({\r\n\t      destroy: function destroy() {\r\n\t        clearTimeout(timer);\r\n\t      }\r\n\t    });\r\n\t  }\r\n\r\n\t  this.subs.push(openSub);\r\n\t  this.subs.push(errorSub);\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon transport open.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onopen = function () {\r\n\t  debug('open');\r\n\r\n\t  // clear old subs\r\n\t  this.cleanup();\r\n\r\n\t  // mark as open\r\n\t  this.readyState = 'open';\r\n\t  this.emit('open');\r\n\r\n\t  // add new subs\r\n\t  var socket = this.engine;\r\n\t  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\r\n\t  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\r\n\t  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\r\n\t  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\r\n\t  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\r\n\t  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon a ping.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onping = function () {\r\n\t  this.lastPing = new Date();\r\n\t  this.emitAll('ping');\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon a packet.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onpong = function () {\r\n\t  this.emitAll('pong', new Date() - this.lastPing);\r\n\t};\r\n\r\n\t/**\r\n\t * Called with data.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.ondata = function (data) {\r\n\t  this.decoder.add(data);\r\n\t};\r\n\r\n\t/**\r\n\t * Called when parser fully decodes a packet.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.ondecoded = function (packet) {\r\n\t  this.emit('packet', packet);\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon socket error.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onerror = function (err) {\r\n\t  debug('error', err);\r\n\t  this.emitAll('error', err);\r\n\t};\r\n\r\n\t/**\r\n\t * Creates a new socket for the given `nsp`.\r\n\t *\r\n\t * @return {Socket}\r\n\t * @api public\r\n\t */\r\n\r\n\tManager.prototype.socket = function (nsp, opts) {\r\n\t  var socket = this.nsps[nsp];\r\n\t  if (!socket) {\r\n\t    socket = new Socket(this, nsp, opts);\r\n\t    this.nsps[nsp] = socket;\r\n\t    var self = this;\r\n\t    socket.on('connecting', onConnecting);\r\n\t    socket.on('connect', function () {\r\n\t      socket.id = self.engine.id;\r\n\t    });\r\n\r\n\t    if (this.autoConnect) {\r\n\t      // manually call here since connecting evnet is fired before listening\r\n\t      onConnecting();\r\n\t    }\r\n\t  }\r\n\r\n\t  function onConnecting() {\r\n\t    if (!~indexOf(self.connecting, socket)) {\r\n\t      self.connecting.push(socket);\r\n\t    }\r\n\t  }\r\n\r\n\t  return socket;\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon a socket close.\r\n\t *\r\n\t * @param {Socket} socket\r\n\t */\r\n\r\n\tManager.prototype.destroy = function (socket) {\r\n\t  var index = indexOf(this.connecting, socket);\r\n\t  if (~index) this.connecting.splice(index, 1);\r\n\t  if (this.connecting.length) return;\r\n\r\n\t  this.close();\r\n\t};\r\n\r\n\t/**\r\n\t * Writes a packet.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.packet = function (packet) {\r\n\t  debug('writing packet %j', packet);\r\n\t  var self = this;\r\n\t  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\r\n\r\n\t  if (!self.encoding) {\r\n\t    // encode, then write to engine with result\r\n\t    self.encoding = true;\r\n\t    this.encoder.encode(packet, function (encodedPackets) {\r\n\t      for (var i = 0; i < encodedPackets.length; i++) {\r\n\t        self.engine.write(encodedPackets[i], packet.options);\r\n\t      }\r\n\t      self.encoding = false;\r\n\t      self.processPacketQueue();\r\n\t    });\r\n\t  } else {\r\n\t    // add packet to the queue\r\n\t    self.packetBuffer.push(packet);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * If packet buffer is non-empty, begins encoding the\r\n\t * next packet in line.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.processPacketQueue = function () {\r\n\t  if (this.packetBuffer.length > 0 && !this.encoding) {\r\n\t    var pack = this.packetBuffer.shift();\r\n\t    this.packet(pack);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Clean up transport subscriptions and packet buffer.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.cleanup = function () {\r\n\t  debug('cleanup');\r\n\r\n\t  var subsLength = this.subs.length;\r\n\t  for (var i = 0; i < subsLength; i++) {\r\n\t    var sub = this.subs.shift();\r\n\t    sub.destroy();\r\n\t  }\r\n\r\n\t  this.packetBuffer = [];\r\n\t  this.encoding = false;\r\n\t  this.lastPing = null;\r\n\r\n\t  this.decoder.destroy();\r\n\t};\r\n\r\n\t/**\r\n\t * Close the current socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.close = Manager.prototype.disconnect = function () {\r\n\t  debug('disconnect');\r\n\t  this.skipReconnect = true;\r\n\t  this.reconnecting = false;\r\n\t  if ('opening' === this.readyState) {\r\n\t    // `onclose` will not fire because\r\n\t    // an open event never happened\r\n\t    this.cleanup();\r\n\t  }\r\n\t  this.backoff.reset();\r\n\t  this.readyState = 'closed';\r\n\t  if (this.engine) this.engine.close();\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon engine close.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onclose = function (reason) {\r\n\t  debug('onclose');\r\n\r\n\t  this.cleanup();\r\n\t  this.backoff.reset();\r\n\t  this.readyState = 'closed';\r\n\t  this.emit('close', reason);\r\n\r\n\t  if (this._reconnection && !this.skipReconnect) {\r\n\t    this.reconnect();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Attempt a reconnection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.reconnect = function () {\r\n\t  if (this.reconnecting || this.skipReconnect) return this;\r\n\r\n\t  var self = this;\r\n\r\n\t  if (this.backoff.attempts >= this._reconnectionAttempts) {\r\n\t    debug('reconnect failed');\r\n\t    this.backoff.reset();\r\n\t    this.emitAll('reconnect_failed');\r\n\t    this.reconnecting = false;\r\n\t  } else {\r\n\t    var delay = this.backoff.duration();\r\n\t    debug('will wait %dms before reconnect attempt', delay);\r\n\r\n\t    this.reconnecting = true;\r\n\t    var timer = setTimeout(function () {\r\n\t      if (self.skipReconnect) return;\r\n\r\n\t      debug('attempting reconnect');\r\n\t      self.emitAll('reconnect_attempt', self.backoff.attempts);\r\n\t      self.emitAll('reconnecting', self.backoff.attempts);\r\n\r\n\t      // check again for the case socket closed in above events\r\n\t      if (self.skipReconnect) return;\r\n\r\n\t      self.open(function (err) {\r\n\t        if (err) {\r\n\t          debug('reconnect attempt error');\r\n\t          self.reconnecting = false;\r\n\t          self.reconnect();\r\n\t          self.emitAll('reconnect_error', err.data);\r\n\t        } else {\r\n\t          debug('reconnect success');\r\n\t          self.onreconnect();\r\n\t        }\r\n\t      });\r\n\t    }, delay);\r\n\r\n\t    this.subs.push({\r\n\t      destroy: function destroy() {\r\n\t        clearTimeout(timer);\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon successful reconnect.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tManager.prototype.onreconnect = function () {\r\n\t  var attempt = this.backoff.attempts;\r\n\t  this.reconnecting = false;\r\n\t  this.backoff.reset();\r\n\t  this.updateSocketIds();\r\n\t  this.emitAll('reconnect', attempt);\r\n\t};\r\n\r\n/***/ },\r\n/* 18 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\tmodule.exports = __webpack_require__(19);\r\n\r\n\r\n/***/ },\r\n/* 19 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\tmodule.exports = __webpack_require__(20);\r\n\r\n\t/**\r\n\t * Exports parser\r\n\t *\r\n\t * @api public\r\n\t *\r\n\t */\r\n\tmodule.exports.parser = __webpack_require__(27);\r\n\r\n\r\n/***/ },\r\n/* 20 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar transports = __webpack_require__(21);\r\n\tvar Emitter = __webpack_require__(35);\r\n\tvar debug = __webpack_require__(3)('engine.io-client:socket');\r\n\tvar index = __webpack_require__(42);\r\n\tvar parser = __webpack_require__(27);\r\n\tvar parseuri = __webpack_require__(2);\r\n\tvar parsejson = __webpack_require__(43);\r\n\tvar parseqs = __webpack_require__(36);\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = Socket;\r\n\r\n\t/**\r\n\t * Socket constructor.\r\n\t *\r\n\t * @param {String|Object} uri or options\r\n\t * @param {Object} options\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Socket (uri, opts) {\r\n\t  if (!(this instanceof Socket)) return new Socket(uri, opts);\r\n\r\n\t  opts = opts || {};\r\n\r\n\t  if (uri && 'object' === typeof uri) {\r\n\t    opts = uri;\r\n\t    uri = null;\r\n\t  }\r\n\r\n\t  if (uri) {\r\n\t    uri = parseuri(uri);\r\n\t    opts.hostname = uri.host;\r\n\t    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\r\n\t    opts.port = uri.port;\r\n\t    if (uri.query) opts.query = uri.query;\r\n\t  } else if (opts.host) {\r\n\t    opts.hostname = parseuri(opts.host).host;\r\n\t  }\r\n\r\n\t  this.secure = null != opts.secure ? opts.secure\r\n\t    : (global.location && 'https:' === location.protocol);\r\n\r\n\t  if (opts.hostname && !opts.port) {\r\n\t    // if no port is specified manually, use the protocol default\r\n\t    opts.port = this.secure ? '443' : '80';\r\n\t  }\r\n\r\n\t  this.agent = opts.agent || false;\r\n\t  this.hostname = opts.hostname ||\r\n\t    (global.location ? location.hostname : 'localhost');\r\n\t  this.port = opts.port || (global.location && location.port\r\n\t      ? location.port\r\n\t      : (this.secure ? 443 : 80));\r\n\t  this.query = opts.query || {};\r\n\t  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\r\n\t  this.upgrade = false !== opts.upgrade;\r\n\t  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\r\n\t  this.forceJSONP = !!opts.forceJSONP;\r\n\t  this.jsonp = false !== opts.jsonp;\r\n\t  this.forceBase64 = !!opts.forceBase64;\r\n\t  this.enablesXDR = !!opts.enablesXDR;\r\n\t  this.timestampParam = opts.timestampParam || 't';\r\n\t  this.timestampRequests = opts.timestampRequests;\r\n\t  this.transports = opts.transports || ['polling', 'websocket'];\r\n\t  this.readyState = '';\r\n\t  this.writeBuffer = [];\r\n\t  this.prevBufferLen = 0;\r\n\t  this.policyPort = opts.policyPort || 843;\r\n\t  this.rememberUpgrade = opts.rememberUpgrade || false;\r\n\t  this.binaryType = null;\r\n\t  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\r\n\t  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\r\n\r\n\t  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\r\n\t  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\r\n\t    this.perMessageDeflate.threshold = 1024;\r\n\t  }\r\n\r\n\t  // SSL options for Node.js client\r\n\t  this.pfx = opts.pfx || null;\r\n\t  this.key = opts.key || null;\r\n\t  this.passphrase = opts.passphrase || null;\r\n\t  this.cert = opts.cert || null;\r\n\t  this.ca = opts.ca || null;\r\n\t  this.ciphers = opts.ciphers || null;\r\n\t  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\r\n\t  this.forceNode = !!opts.forceNode;\r\n\r\n\t  // other options for Node.js client\r\n\t  var freeGlobal = typeof global === 'object' && global;\r\n\t  if (freeGlobal.global === freeGlobal) {\r\n\t    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\r\n\t      this.extraHeaders = opts.extraHeaders;\r\n\t    }\r\n\r\n\t    if (opts.localAddress) {\r\n\t      this.localAddress = opts.localAddress;\r\n\t    }\r\n\t  }\r\n\r\n\t  // set on handshake\r\n\t  this.id = null;\r\n\t  this.upgrades = null;\r\n\t  this.pingInterval = null;\r\n\t  this.pingTimeout = null;\r\n\r\n\t  // set on heartbeat\r\n\t  this.pingIntervalTimer = null;\r\n\t  this.pingTimeoutTimer = null;\r\n\r\n\t  this.open();\r\n\t}\r\n\r\n\tSocket.priorWebsocketSuccess = false;\r\n\r\n\t/**\r\n\t * Mix in `Emitter`.\r\n\t */\r\n\r\n\tEmitter(Socket.prototype);\r\n\r\n\t/**\r\n\t * Protocol version.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.protocol = parser.protocol; // this is an int\r\n\r\n\t/**\r\n\t * Expose deps for legacy compatibility\r\n\t * and standalone browser access.\r\n\t */\r\n\r\n\tSocket.Socket = Socket;\r\n\tSocket.Transport = __webpack_require__(26);\r\n\tSocket.transports = __webpack_require__(21);\r\n\tSocket.parser = __webpack_require__(27);\r\n\r\n\t/**\r\n\t * Creates transport of the given type.\r\n\t *\r\n\t * @param {String} transport name\r\n\t * @return {Transport}\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.createTransport = function (name) {\r\n\t  debug('creating transport \"%s\"', name);\r\n\t  var query = clone(this.query);\r\n\r\n\t  // append engine.io protocol identifier\r\n\t  query.EIO = parser.protocol;\r\n\r\n\t  // transport name\r\n\t  query.transport = name;\r\n\r\n\t  // session id if we already have one\r\n\t  if (this.id) query.sid = this.id;\r\n\r\n\t  var transport = new transports[name]({\r\n\t    agent: this.agent,\r\n\t    hostname: this.hostname,\r\n\t    port: this.port,\r\n\t    secure: this.secure,\r\n\t    path: this.path,\r\n\t    query: query,\r\n\t    forceJSONP: this.forceJSONP,\r\n\t    jsonp: this.jsonp,\r\n\t    forceBase64: this.forceBase64,\r\n\t    enablesXDR: this.enablesXDR,\r\n\t    timestampRequests: this.timestampRequests,\r\n\t    timestampParam: this.timestampParam,\r\n\t    policyPort: this.policyPort,\r\n\t    socket: this,\r\n\t    pfx: this.pfx,\r\n\t    key: this.key,\r\n\t    passphrase: this.passphrase,\r\n\t    cert: this.cert,\r\n\t    ca: this.ca,\r\n\t    ciphers: this.ciphers,\r\n\t    rejectUnauthorized: this.rejectUnauthorized,\r\n\t    perMessageDeflate: this.perMessageDeflate,\r\n\t    extraHeaders: this.extraHeaders,\r\n\t    forceNode: this.forceNode,\r\n\t    localAddress: this.localAddress\r\n\t  });\r\n\r\n\t  return transport;\r\n\t};\r\n\r\n\tfunction clone (obj) {\r\n\t  var o = {};\r\n\t  for (var i in obj) {\r\n\t    if (obj.hasOwnProperty(i)) {\r\n\t      o[i] = obj[i];\r\n\t    }\r\n\t  }\r\n\t  return o;\r\n\t}\r\n\r\n\t/**\r\n\t * Initializes transport to use and starts probe.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tSocket.prototype.open = function () {\r\n\t  var transport;\r\n\t  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\r\n\t    transport = 'websocket';\r\n\t  } else if (0 === this.transports.length) {\r\n\t    // Emit error on next tick so it can be listened to\r\n\t    var self = this;\r\n\t    setTimeout(function () {\r\n\t      self.emit('error', 'No transports available');\r\n\t    }, 0);\r\n\t    return;\r\n\t  } else {\r\n\t    transport = this.transports[0];\r\n\t  }\r\n\t  this.readyState = 'opening';\r\n\r\n\t  // Retry with the next transport if the transport is disabled (jsonp: false)\r\n\t  try {\r\n\t    transport = this.createTransport(transport);\r\n\t  } catch (e) {\r\n\t    this.transports.shift();\r\n\t    this.open();\r\n\t    return;\r\n\t  }\r\n\r\n\t  transport.open();\r\n\t  this.setTransport(transport);\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the current transport. Disables the existing one (if any).\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.setTransport = function (transport) {\r\n\t  debug('setting transport %s', transport.name);\r\n\t  var self = this;\r\n\r\n\t  if (this.transport) {\r\n\t    debug('clearing existing transport %s', this.transport.name);\r\n\t    this.transport.removeAllListeners();\r\n\t  }\r\n\r\n\t  // set up transport\r\n\t  this.transport = transport;\r\n\r\n\t  // set up transport listeners\r\n\t  transport\r\n\t  .on('drain', function () {\r\n\t    self.onDrain();\r\n\t  })\r\n\t  .on('packet', function (packet) {\r\n\t    self.onPacket(packet);\r\n\t  })\r\n\t  .on('error', function (e) {\r\n\t    self.onError(e);\r\n\t  })\r\n\t  .on('close', function () {\r\n\t    self.onClose('transport close');\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Probes a transport.\r\n\t *\r\n\t * @param {String} transport name\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.probe = function (name) {\r\n\t  debug('probing transport \"%s\"', name);\r\n\t  var transport = this.createTransport(name, { probe: 1 });\r\n\t  var failed = false;\r\n\t  var self = this;\r\n\r\n\t  Socket.priorWebsocketSuccess = false;\r\n\r\n\t  function onTransportOpen () {\r\n\t    if (self.onlyBinaryUpgrades) {\r\n\t      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\r\n\t      failed = failed || upgradeLosesBinary;\r\n\t    }\r\n\t    if (failed) return;\r\n\r\n\t    debug('probe transport \"%s\" opened', name);\r\n\t    transport.send([{ type: 'ping', data: 'probe' }]);\r\n\t    transport.once('packet', function (msg) {\r\n\t      if (failed) return;\r\n\t      if ('pong' === msg.type && 'probe' === msg.data) {\r\n\t        debug('probe transport \"%s\" pong', name);\r\n\t        self.upgrading = true;\r\n\t        self.emit('upgrading', transport);\r\n\t        if (!transport) return;\r\n\t        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\r\n\r\n\t        debug('pausing current transport \"%s\"', self.transport.name);\r\n\t        self.transport.pause(function () {\r\n\t          if (failed) return;\r\n\t          if ('closed' === self.readyState) return;\r\n\t          debug('changing transport and sending upgrade packet');\r\n\r\n\t          cleanup();\r\n\r\n\t          self.setTransport(transport);\r\n\t          transport.send([{ type: 'upgrade' }]);\r\n\t          self.emit('upgrade', transport);\r\n\t          transport = null;\r\n\t          self.upgrading = false;\r\n\t          self.flush();\r\n\t        });\r\n\t      } else {\r\n\t        debug('probe transport \"%s\" failed', name);\r\n\t        var err = new Error('probe error');\r\n\t        err.transport = transport.name;\r\n\t        self.emit('upgradeError', err);\r\n\t      }\r\n\t    });\r\n\t  }\r\n\r\n\t  function freezeTransport () {\r\n\t    if (failed) return;\r\n\r\n\t    // Any callback called by transport should be ignored since now\r\n\t    failed = true;\r\n\r\n\t    cleanup();\r\n\r\n\t    transport.close();\r\n\t    transport = null;\r\n\t  }\r\n\r\n\t  // Handle any error that happens while probing\r\n\t  function onerror (err) {\r\n\t    var error = new Error('probe error: ' + err);\r\n\t    error.transport = transport.name;\r\n\r\n\t    freezeTransport();\r\n\r\n\t    debug('probe transport \"%s\" failed because of error: %s', name, err);\r\n\r\n\t    self.emit('upgradeError', error);\r\n\t  }\r\n\r\n\t  function onTransportClose () {\r\n\t    onerror('transport closed');\r\n\t  }\r\n\r\n\t  // When the socket is closed while we're probing\r\n\t  function onclose () {\r\n\t    onerror('socket closed');\r\n\t  }\r\n\r\n\t  // When the socket is upgraded while we're probing\r\n\t  function onupgrade (to) {\r\n\t    if (transport && to.name !== transport.name) {\r\n\t      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\r\n\t      freezeTransport();\r\n\t    }\r\n\t  }\r\n\r\n\t  // Remove all listeners on the transport and on self\r\n\t  function cleanup () {\r\n\t    transport.removeListener('open', onTransportOpen);\r\n\t    transport.removeListener('error', onerror);\r\n\t    transport.removeListener('close', onTransportClose);\r\n\t    self.removeListener('close', onclose);\r\n\t    self.removeListener('upgrading', onupgrade);\r\n\t  }\r\n\r\n\t  transport.once('open', onTransportOpen);\r\n\t  transport.once('error', onerror);\r\n\t  transport.once('close', onTransportClose);\r\n\r\n\t  this.once('close', onclose);\r\n\t  this.once('upgrading', onupgrade);\r\n\r\n\t  transport.open();\r\n\t};\r\n\r\n\t/**\r\n\t * Called when connection is deemed open.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.onOpen = function () {\r\n\t  debug('socket open');\r\n\t  this.readyState = 'open';\r\n\t  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\r\n\t  this.emit('open');\r\n\t  this.flush();\r\n\r\n\t  // we check for `readyState` in case an `open`\r\n\t  // listener already closed the socket\r\n\t  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\r\n\t    debug('starting upgrade probes');\r\n\t    for (var i = 0, l = this.upgrades.length; i < l; i++) {\r\n\t      this.probe(this.upgrades[i]);\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Handles a packet.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onPacket = function (packet) {\r\n\t  if ('opening' === this.readyState || 'open' === this.readyState ||\r\n\t      'closing' === this.readyState) {\r\n\t    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\r\n\r\n\t    this.emit('packet', packet);\r\n\r\n\t    // Socket is live - any packet counts\r\n\t    this.emit('heartbeat');\r\n\r\n\t    switch (packet.type) {\r\n\t      case 'open':\r\n\t        this.onHandshake(parsejson(packet.data));\r\n\t        break;\r\n\r\n\t      case 'pong':\r\n\t        this.setPing();\r\n\t        this.emit('pong');\r\n\t        break;\r\n\r\n\t      case 'error':\r\n\t        var err = new Error('server error');\r\n\t        err.code = packet.data;\r\n\t        this.onError(err);\r\n\t        break;\r\n\r\n\t      case 'message':\r\n\t        this.emit('data', packet.data);\r\n\t        this.emit('message', packet.data);\r\n\t        break;\r\n\t    }\r\n\t  } else {\r\n\t    debug('packet received with socket readyState \"%s\"', this.readyState);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon handshake completion.\r\n\t *\r\n\t * @param {Object} handshake obj\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onHandshake = function (data) {\r\n\t  this.emit('handshake', data);\r\n\t  this.id = data.sid;\r\n\t  this.transport.query.sid = data.sid;\r\n\t  this.upgrades = this.filterUpgrades(data.upgrades);\r\n\t  this.pingInterval = data.pingInterval;\r\n\t  this.pingTimeout = data.pingTimeout;\r\n\t  this.onOpen();\r\n\t  // In case open handler closes socket\r\n\t  if ('closed' === this.readyState) return;\r\n\t  this.setPing();\r\n\r\n\t  // Prolong liveness of socket on heartbeat\r\n\t  this.removeListener('heartbeat', this.onHeartbeat);\r\n\t  this.on('heartbeat', this.onHeartbeat);\r\n\t};\r\n\r\n\t/**\r\n\t * Resets ping timeout.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onHeartbeat = function (timeout) {\r\n\t  clearTimeout(this.pingTimeoutTimer);\r\n\t  var self = this;\r\n\t  self.pingTimeoutTimer = setTimeout(function () {\r\n\t    if ('closed' === self.readyState) return;\r\n\t    self.onClose('ping timeout');\r\n\t  }, timeout || (self.pingInterval + self.pingTimeout));\r\n\t};\r\n\r\n\t/**\r\n\t * Pings server every `this.pingInterval` and expects response\r\n\t * within `this.pingTimeout` or closes connection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.setPing = function () {\r\n\t  var self = this;\r\n\t  clearTimeout(self.pingIntervalTimer);\r\n\t  self.pingIntervalTimer = setTimeout(function () {\r\n\t    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\r\n\t    self.ping();\r\n\t    self.onHeartbeat(self.pingTimeout);\r\n\t  }, self.pingInterval);\r\n\t};\r\n\r\n\t/**\r\n\t* Sends a ping packet.\r\n\t*\r\n\t* @api private\r\n\t*/\r\n\r\n\tSocket.prototype.ping = function () {\r\n\t  var self = this;\r\n\t  this.sendPacket('ping', function () {\r\n\t    self.emit('ping');\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Called on `drain` event\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onDrain = function () {\r\n\t  this.writeBuffer.splice(0, this.prevBufferLen);\r\n\r\n\t  // setting prevBufferLen = 0 is very important\r\n\t  // for example, when upgrading, upgrade packet is sent over,\r\n\t  // and a nonzero prevBufferLen could cause problems on `drain`\r\n\t  this.prevBufferLen = 0;\r\n\r\n\t  if (0 === this.writeBuffer.length) {\r\n\t    this.emit('drain');\r\n\t  } else {\r\n\t    this.flush();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Flush write buffers.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.flush = function () {\r\n\t  if ('closed' !== this.readyState && this.transport.writable &&\r\n\t    !this.upgrading && this.writeBuffer.length) {\r\n\t    debug('flushing %d packets in socket', this.writeBuffer.length);\r\n\t    this.transport.send(this.writeBuffer);\r\n\t    // keep track of current length of writeBuffer\r\n\t    // splice writeBuffer and callbackBuffer on `drain`\r\n\t    this.prevBufferLen = this.writeBuffer.length;\r\n\t    this.emit('flush');\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Sends a message.\r\n\t *\r\n\t * @param {String} message.\r\n\t * @param {Function} callback function.\r\n\t * @param {Object} options.\r\n\t * @return {Socket} for chaining.\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.write =\r\n\tSocket.prototype.send = function (msg, options, fn) {\r\n\t  this.sendPacket('message', msg, options, fn);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sends a packet.\r\n\t *\r\n\t * @param {String} packet type.\r\n\t * @param {String} data.\r\n\t * @param {Object} options.\r\n\t * @param {Function} callback function.\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.sendPacket = function (type, data, options, fn) {\r\n\t  if ('function' === typeof data) {\r\n\t    fn = data;\r\n\t    data = undefined;\r\n\t  }\r\n\r\n\t  if ('function' === typeof options) {\r\n\t    fn = options;\r\n\t    options = null;\r\n\t  }\r\n\r\n\t  if ('closing' === this.readyState || 'closed' === this.readyState) {\r\n\t    return;\r\n\t  }\r\n\r\n\t  options = options || {};\r\n\t  options.compress = false !== options.compress;\r\n\r\n\t  var packet = {\r\n\t    type: type,\r\n\t    data: data,\r\n\t    options: options\r\n\t  };\r\n\t  this.emit('packetCreate', packet);\r\n\t  this.writeBuffer.push(packet);\r\n\t  if (fn) this.once('flush', fn);\r\n\t  this.flush();\r\n\t};\r\n\r\n\t/**\r\n\t * Closes the connection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.close = function () {\r\n\t  if ('opening' === this.readyState || 'open' === this.readyState) {\r\n\t    this.readyState = 'closing';\r\n\r\n\t    var self = this;\r\n\r\n\t    if (this.writeBuffer.length) {\r\n\t      this.once('drain', function () {\r\n\t        if (this.upgrading) {\r\n\t          waitForUpgrade();\r\n\t        } else {\r\n\t          close();\r\n\t        }\r\n\t      });\r\n\t    } else if (this.upgrading) {\r\n\t      waitForUpgrade();\r\n\t    } else {\r\n\t      close();\r\n\t    }\r\n\t  }\r\n\r\n\t  function close () {\r\n\t    self.onClose('forced close');\r\n\t    debug('socket closing - telling transport to close');\r\n\t    self.transport.close();\r\n\t  }\r\n\r\n\t  function cleanupAndClose () {\r\n\t    self.removeListener('upgrade', cleanupAndClose);\r\n\t    self.removeListener('upgradeError', cleanupAndClose);\r\n\t    close();\r\n\t  }\r\n\r\n\t  function waitForUpgrade () {\r\n\t    // wait for upgrade to finish since we can't send packets while pausing a transport\r\n\t    self.once('upgrade', cleanupAndClose);\r\n\t    self.once('upgradeError', cleanupAndClose);\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon transport error\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onError = function (err) {\r\n\t  debug('socket error %j', err);\r\n\t  Socket.priorWebsocketSuccess = false;\r\n\t  this.emit('error', err);\r\n\t  this.onClose('transport error', err);\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon transport close.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onClose = function (reason, desc) {\r\n\t  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\r\n\t    debug('socket close with reason: \"%s\"', reason);\r\n\t    var self = this;\r\n\r\n\t    // clear timers\r\n\t    clearTimeout(this.pingIntervalTimer);\r\n\t    clearTimeout(this.pingTimeoutTimer);\r\n\r\n\t    // stop event from firing again for transport\r\n\t    this.transport.removeAllListeners('close');\r\n\r\n\t    // ensure transport won't stay open\r\n\t    this.transport.close();\r\n\r\n\t    // ignore further transport communication\r\n\t    this.transport.removeAllListeners();\r\n\r\n\t    // set ready state\r\n\t    this.readyState = 'closed';\r\n\r\n\t    // clear session id\r\n\t    this.id = null;\r\n\r\n\t    // emit close event\r\n\t    this.emit('close', reason, desc);\r\n\r\n\t    // clean buffers after, so users can still\r\n\t    // grab the buffers on `close` event\r\n\t    self.writeBuffer = [];\r\n\t    self.prevBufferLen = 0;\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Filters upgrades, returning only those matching client transports.\r\n\t *\r\n\t * @param {Array} server upgrades\r\n\t * @api private\r\n\t *\r\n\t */\r\n\r\n\tSocket.prototype.filterUpgrades = function (upgrades) {\r\n\t  var filteredUpgrades = [];\r\n\t  for (var i = 0, j = upgrades.length; i < j; i++) {\r\n\t    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\r\n\t  }\r\n\t  return filteredUpgrades;\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 21 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Module dependencies\r\n\t */\r\n\r\n\tvar XMLHttpRequest = __webpack_require__(22);\r\n\tvar XHR = __webpack_require__(24);\r\n\tvar JSONP = __webpack_require__(39);\r\n\tvar websocket = __webpack_require__(40);\r\n\r\n\t/**\r\n\t * Export transports.\r\n\t */\r\n\r\n\texports.polling = polling;\r\n\texports.websocket = websocket;\r\n\r\n\t/**\r\n\t * Polling transport polymorphic constructor.\r\n\t * Decides on xhr vs jsonp based on feature detection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction polling (opts) {\r\n\t  var xhr;\r\n\t  var xd = false;\r\n\t  var xs = false;\r\n\t  var jsonp = false !== opts.jsonp;\r\n\r\n\t  if (global.location) {\r\n\t    var isSSL = 'https:' === location.protocol;\r\n\t    var port = location.port;\r\n\r\n\t    // some user agents have empty `location.port`\r\n\t    if (!port) {\r\n\t      port = isSSL ? 443 : 80;\r\n\t    }\r\n\r\n\t    xd = opts.hostname !== location.hostname || port !== opts.port;\r\n\t    xs = opts.secure !== isSSL;\r\n\t  }\r\n\r\n\t  opts.xdomain = xd;\r\n\t  opts.xscheme = xs;\r\n\t  xhr = new XMLHttpRequest(opts);\r\n\r\n\t  if ('open' in xhr && !opts.forceJSONP) {\r\n\t    return new XHR(opts);\r\n\t  } else {\r\n\t    if (!jsonp) throw new Error('JSONP disabled');\r\n\t    return new JSONP(opts);\r\n\t  }\r\n\t}\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 22 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {// browser shim for xmlhttprequest module\r\n\r\n\tvar hasCORS = __webpack_require__(23);\r\n\r\n\tmodule.exports = function (opts) {\r\n\t  var xdomain = opts.xdomain;\r\n\r\n\t  // scheme must be same when usign XDomainRequest\r\n\t  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\r\n\t  var xscheme = opts.xscheme;\r\n\r\n\t  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\r\n\t  // https://github.com/Automattic/engine.io-client/pull/217\r\n\t  var enablesXDR = opts.enablesXDR;\r\n\r\n\t  // XMLHttpRequest can be disabled on IE\r\n\t  try {\r\n\t    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\r\n\t      return new XMLHttpRequest();\r\n\t    }\r\n\t  } catch (e) { }\r\n\r\n\t  // Use XDomainRequest for IE8 if enablesXDR is true\r\n\t  // because loading bar keeps flashing when using jsonp-polling\r\n\t  // https://github.com/yujiosaka/socke.io-ie8-loading-example\r\n\t  try {\r\n\t    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\r\n\t      return new XDomainRequest();\r\n\t    }\r\n\t  } catch (e) { }\r\n\r\n\t  if (!xdomain) {\r\n\t    try {\r\n\t      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\r\n\t    } catch (e) { }\r\n\t  }\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 23 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\t/**\r\n\t * Module exports.\r\n\t *\r\n\t * Logic borrowed from Modernizr:\r\n\t *\r\n\t *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\r\n\t */\r\n\r\n\ttry {\r\n\t  module.exports = typeof XMLHttpRequest !== 'undefined' &&\r\n\t    'withCredentials' in new XMLHttpRequest();\r\n\t} catch (err) {\r\n\t  // if XMLHttp support is disabled in IE then it will throw\r\n\t  // when trying to create\r\n\t  module.exports = false;\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 24 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Module requirements.\r\n\t */\r\n\r\n\tvar XMLHttpRequest = __webpack_require__(22);\r\n\tvar Polling = __webpack_require__(25);\r\n\tvar Emitter = __webpack_require__(35);\r\n\tvar inherit = __webpack_require__(37);\r\n\tvar debug = __webpack_require__(3)('engine.io-client:polling-xhr');\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = XHR;\r\n\tmodule.exports.Request = Request;\r\n\r\n\t/**\r\n\t * Empty function\r\n\t */\r\n\r\n\tfunction empty () {}\r\n\r\n\t/**\r\n\t * XHR Polling constructor.\r\n\t *\r\n\t * @param {Object} opts\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction XHR (opts) {\r\n\t  Polling.call(this, opts);\r\n\t  this.requestTimeout = opts.requestTimeout;\r\n\r\n\t  if (global.location) {\r\n\t    var isSSL = 'https:' === location.protocol;\r\n\t    var port = location.port;\r\n\r\n\t    // some user agents have empty `location.port`\r\n\t    if (!port) {\r\n\t      port = isSSL ? 443 : 80;\r\n\t    }\r\n\r\n\t    this.xd = opts.hostname !== global.location.hostname ||\r\n\t      port !== opts.port;\r\n\t    this.xs = opts.secure !== isSSL;\r\n\t  } else {\r\n\t    this.extraHeaders = opts.extraHeaders;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Inherits from Polling.\r\n\t */\r\n\r\n\tinherit(XHR, Polling);\r\n\r\n\t/**\r\n\t * XHR supports binary\r\n\t */\r\n\r\n\tXHR.prototype.supportsBinary = true;\r\n\r\n\t/**\r\n\t * Creates a request.\r\n\t *\r\n\t * @param {String} method\r\n\t * @api private\r\n\t */\r\n\r\n\tXHR.prototype.request = function (opts) {\r\n\t  opts = opts || {};\r\n\t  opts.uri = this.uri();\r\n\t  opts.xd = this.xd;\r\n\t  opts.xs = this.xs;\r\n\t  opts.agent = this.agent || false;\r\n\t  opts.supportsBinary = this.supportsBinary;\r\n\t  opts.enablesXDR = this.enablesXDR;\r\n\r\n\t  // SSL options for Node.js client\r\n\t  opts.pfx = this.pfx;\r\n\t  opts.key = this.key;\r\n\t  opts.passphrase = this.passphrase;\r\n\t  opts.cert = this.cert;\r\n\t  opts.ca = this.ca;\r\n\t  opts.ciphers = this.ciphers;\r\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\r\n\t  opts.requestTimeout = this.requestTimeout;\r\n\r\n\t  // other options for Node.js client\r\n\t  opts.extraHeaders = this.extraHeaders;\r\n\r\n\t  return new Request(opts);\r\n\t};\r\n\r\n\t/**\r\n\t * Sends data.\r\n\t *\r\n\t * @param {String} data to send.\r\n\t * @param {Function} called upon flush.\r\n\t * @api private\r\n\t */\r\n\r\n\tXHR.prototype.doWrite = function (data, fn) {\r\n\t  var isBinary = typeof data !== 'string' && data !== undefined;\r\n\t  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\r\n\t  var self = this;\r\n\t  req.on('success', fn);\r\n\t  req.on('error', function (err) {\r\n\t    self.onError('xhr post error', err);\r\n\t  });\r\n\t  this.sendXhr = req;\r\n\t};\r\n\r\n\t/**\r\n\t * Starts a poll cycle.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tXHR.prototype.doPoll = function () {\r\n\t  debug('xhr poll');\r\n\t  var req = this.request();\r\n\t  var self = this;\r\n\t  req.on('data', function (data) {\r\n\t    self.onData(data);\r\n\t  });\r\n\t  req.on('error', function (err) {\r\n\t    self.onError('xhr poll error', err);\r\n\t  });\r\n\t  this.pollXhr = req;\r\n\t};\r\n\r\n\t/**\r\n\t * Request constructor\r\n\t *\r\n\t * @param {Object} options\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Request (opts) {\r\n\t  this.method = opts.method || 'GET';\r\n\t  this.uri = opts.uri;\r\n\t  this.xd = !!opts.xd;\r\n\t  this.xs = !!opts.xs;\r\n\t  this.async = false !== opts.async;\r\n\t  this.data = undefined !== opts.data ? opts.data : null;\r\n\t  this.agent = opts.agent;\r\n\t  this.isBinary = opts.isBinary;\r\n\t  this.supportsBinary = opts.supportsBinary;\r\n\t  this.enablesXDR = opts.enablesXDR;\r\n\t  this.requestTimeout = opts.requestTimeout;\r\n\r\n\t  // SSL options for Node.js client\r\n\t  this.pfx = opts.pfx;\r\n\t  this.key = opts.key;\r\n\t  this.passphrase = opts.passphrase;\r\n\t  this.cert = opts.cert;\r\n\t  this.ca = opts.ca;\r\n\t  this.ciphers = opts.ciphers;\r\n\t  this.rejectUnauthorized = opts.rejectUnauthorized;\r\n\r\n\t  // other options for Node.js client\r\n\t  this.extraHeaders = opts.extraHeaders;\r\n\r\n\t  this.create();\r\n\t}\r\n\r\n\t/**\r\n\t * Mix in `Emitter`.\r\n\t */\r\n\r\n\tEmitter(Request.prototype);\r\n\r\n\t/**\r\n\t * Creates the XHR object and sends the request.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.create = function () {\r\n\t  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\r\n\r\n\t  // SSL options for Node.js client\r\n\t  opts.pfx = this.pfx;\r\n\t  opts.key = this.key;\r\n\t  opts.passphrase = this.passphrase;\r\n\t  opts.cert = this.cert;\r\n\t  opts.ca = this.ca;\r\n\t  opts.ciphers = this.ciphers;\r\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\r\n\r\n\t  var xhr = this.xhr = new XMLHttpRequest(opts);\r\n\t  var self = this;\r\n\r\n\t  try {\r\n\t    debug('xhr open %s: %s', this.method, this.uri);\r\n\t    xhr.open(this.method, this.uri, this.async);\r\n\t    try {\r\n\t      if (this.extraHeaders) {\r\n\t        xhr.setDisableHeaderCheck(true);\r\n\t        for (var i in this.extraHeaders) {\r\n\t          if (this.extraHeaders.hasOwnProperty(i)) {\r\n\t            xhr.setRequestHeader(i, this.extraHeaders[i]);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t    } catch (e) {}\r\n\t    if (this.supportsBinary) {\r\n\t      // This has to be done after open because Firefox is stupid\r\n\t      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\r\n\t      xhr.responseType = 'arraybuffer';\r\n\t    }\r\n\r\n\t    if ('POST' === this.method) {\r\n\t      try {\r\n\t        if (this.isBinary) {\r\n\t          xhr.setRequestHeader('Content-type', 'application/octet-stream');\r\n\t        } else {\r\n\t          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\r\n\t        }\r\n\t      } catch (e) {}\r\n\t    }\r\n\r\n\t    try {\r\n\t      xhr.setRequestHeader('Accept', '*/*');\r\n\t    } catch (e) {}\r\n\r\n\t    // ie6 check\r\n\t    if ('withCredentials' in xhr) {\r\n\t      xhr.withCredentials = true;\r\n\t    }\r\n\r\n\t    if (this.requestTimeout) {\r\n\t      xhr.timeout = this.requestTimeout;\r\n\t    }\r\n\r\n\t    if (this.hasXDR()) {\r\n\t      xhr.onload = function () {\r\n\t        self.onLoad();\r\n\t      };\r\n\t      xhr.onerror = function () {\r\n\t        self.onError(xhr.responseText);\r\n\t      };\r\n\t    } else {\r\n\t      xhr.onreadystatechange = function () {\r\n\t        if (4 !== xhr.readyState) return;\r\n\t        if (200 === xhr.status || 1223 === xhr.status) {\r\n\t          self.onLoad();\r\n\t        } else {\r\n\t          // make sure the `error` event handler that's user-set\r\n\t          // does not throw in the same tick and gets caught here\r\n\t          setTimeout(function () {\r\n\t            self.onError(xhr.status);\r\n\t          }, 0);\r\n\t        }\r\n\t      };\r\n\t    }\r\n\r\n\t    debug('xhr data %s', this.data);\r\n\t    xhr.send(this.data);\r\n\t  } catch (e) {\r\n\t    // Need to defer since .create() is called directly fhrom the constructor\r\n\t    // and thus the 'error' event can only be only bound *after* this exception\r\n\t    // occurs.  Therefore, also, we cannot throw here at all.\r\n\t    setTimeout(function () {\r\n\t      self.onError(e);\r\n\t    }, 0);\r\n\t    return;\r\n\t  }\r\n\r\n\t  if (global.document) {\r\n\t    this.index = Request.requestsCount++;\r\n\t    Request.requests[this.index] = this;\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon successful response.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.onSuccess = function () {\r\n\t  this.emit('success');\r\n\t  this.cleanup();\r\n\t};\r\n\r\n\t/**\r\n\t * Called if we have data.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.onData = function (data) {\r\n\t  this.emit('data', data);\r\n\t  this.onSuccess();\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon error.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.onError = function (err) {\r\n\t  this.emit('error', err);\r\n\t  this.cleanup(true);\r\n\t};\r\n\r\n\t/**\r\n\t * Cleans up house.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.cleanup = function (fromError) {\r\n\t  if ('undefined' === typeof this.xhr || null === this.xhr) {\r\n\t    return;\r\n\t  }\r\n\t  // xmlhttprequest\r\n\t  if (this.hasXDR()) {\r\n\t    this.xhr.onload = this.xhr.onerror = empty;\r\n\t  } else {\r\n\t    this.xhr.onreadystatechange = empty;\r\n\t  }\r\n\r\n\t  if (fromError) {\r\n\t    try {\r\n\t      this.xhr.abort();\r\n\t    } catch (e) {}\r\n\t  }\r\n\r\n\t  if (global.document) {\r\n\t    delete Request.requests[this.index];\r\n\t  }\r\n\r\n\t  this.xhr = null;\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon load.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.onLoad = function () {\r\n\t  var data;\r\n\t  try {\r\n\t    var contentType;\r\n\t    try {\r\n\t      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\r\n\t    } catch (e) {}\r\n\t    if (contentType === 'application/octet-stream') {\r\n\t      data = this.xhr.response || this.xhr.responseText;\r\n\t    } else {\r\n\t      if (!this.supportsBinary) {\r\n\t        data = this.xhr.responseText;\r\n\t      } else {\r\n\t        try {\r\n\t          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\r\n\t        } catch (e) {\r\n\t          var ui8Arr = new Uint8Array(this.xhr.response);\r\n\t          var dataArray = [];\r\n\t          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\r\n\t            dataArray.push(ui8Arr[idx]);\r\n\t          }\r\n\r\n\t          data = String.fromCharCode.apply(null, dataArray);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  } catch (e) {\r\n\t    this.onError(e);\r\n\t  }\r\n\t  if (null != data) {\r\n\t    this.onData(data);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Check if it has XDomainRequest.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tRequest.prototype.hasXDR = function () {\r\n\t  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\r\n\t};\r\n\r\n\t/**\r\n\t * Aborts the request.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tRequest.prototype.abort = function () {\r\n\t  this.cleanup();\r\n\t};\r\n\r\n\t/**\r\n\t * Aborts pending requests when unloading the window. This is needed to prevent\r\n\t * memory leaks (e.g. when using IE) and to ensure that no spurious error is\r\n\t * emitted.\r\n\t */\r\n\r\n\tRequest.requestsCount = 0;\r\n\tRequest.requests = {};\r\n\r\n\tif (global.document) {\r\n\t  if (global.attachEvent) {\r\n\t    global.attachEvent('onunload', unloadHandler);\r\n\t  } else if (global.addEventListener) {\r\n\t    global.addEventListener('beforeunload', unloadHandler, false);\r\n\t  }\r\n\t}\r\n\r\n\tfunction unloadHandler () {\r\n\t  for (var i in Request.requests) {\r\n\t    if (Request.requests.hasOwnProperty(i)) {\r\n\t      Request.requests[i].abort();\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 25 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar Transport = __webpack_require__(26);\r\n\tvar parseqs = __webpack_require__(36);\r\n\tvar parser = __webpack_require__(27);\r\n\tvar inherit = __webpack_require__(37);\r\n\tvar yeast = __webpack_require__(38);\r\n\tvar debug = __webpack_require__(3)('engine.io-client:polling');\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = Polling;\r\n\r\n\t/**\r\n\t * Is XHR2 supported?\r\n\t */\r\n\r\n\tvar hasXHR2 = (function () {\r\n\t  var XMLHttpRequest = __webpack_require__(22);\r\n\t  var xhr = new XMLHttpRequest({ xdomain: false });\r\n\t  return null != xhr.responseType;\r\n\t})();\r\n\r\n\t/**\r\n\t * Polling interface.\r\n\t *\r\n\t * @param {Object} opts\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction Polling (opts) {\r\n\t  var forceBase64 = (opts && opts.forceBase64);\r\n\t  if (!hasXHR2 || forceBase64) {\r\n\t    this.supportsBinary = false;\r\n\t  }\r\n\t  Transport.call(this, opts);\r\n\t}\r\n\r\n\t/**\r\n\t * Inherits from Transport.\r\n\t */\r\n\r\n\tinherit(Polling, Transport);\r\n\r\n\t/**\r\n\t * Transport name.\r\n\t */\r\n\r\n\tPolling.prototype.name = 'polling';\r\n\r\n\t/**\r\n\t * Opens the socket (triggers polling). We write a PING message to determine\r\n\t * when the transport is open.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.doOpen = function () {\r\n\t  this.poll();\r\n\t};\r\n\r\n\t/**\r\n\t * Pauses polling.\r\n\t *\r\n\t * @param {Function} callback upon buffers are flushed and transport is paused\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.pause = function (onPause) {\r\n\t  var self = this;\r\n\r\n\t  this.readyState = 'pausing';\r\n\r\n\t  function pause () {\r\n\t    debug('paused');\r\n\t    self.readyState = 'paused';\r\n\t    onPause();\r\n\t  }\r\n\r\n\t  if (this.polling || !this.writable) {\r\n\t    var total = 0;\r\n\r\n\t    if (this.polling) {\r\n\t      debug('we are currently polling - waiting to pause');\r\n\t      total++;\r\n\t      this.once('pollComplete', function () {\r\n\t        debug('pre-pause polling complete');\r\n\t        --total || pause();\r\n\t      });\r\n\t    }\r\n\r\n\t    if (!this.writable) {\r\n\t      debug('we are currently writing - waiting to pause');\r\n\t      total++;\r\n\t      this.once('drain', function () {\r\n\t        debug('pre-pause writing complete');\r\n\t        --total || pause();\r\n\t      });\r\n\t    }\r\n\t  } else {\r\n\t    pause();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Starts polling cycle.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tPolling.prototype.poll = function () {\r\n\t  debug('polling');\r\n\t  this.polling = true;\r\n\t  this.doPoll();\r\n\t  this.emit('poll');\r\n\t};\r\n\r\n\t/**\r\n\t * Overloads onData to detect payloads.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.onData = function (data) {\r\n\t  var self = this;\r\n\t  debug('polling got data %s', data);\r\n\t  var callback = function (packet, index, total) {\r\n\t    // if its the first message we consider the transport open\r\n\t    if ('opening' === self.readyState) {\r\n\t      self.onOpen();\r\n\t    }\r\n\r\n\t    // if its a close packet, we close the ongoing requests\r\n\t    if ('close' === packet.type) {\r\n\t      self.onClose();\r\n\t      return false;\r\n\t    }\r\n\r\n\t    // otherwise bypass onData and handle the message\r\n\t    self.onPacket(packet);\r\n\t  };\r\n\r\n\t  // decode payload\r\n\t  parser.decodePayload(data, this.socket.binaryType, callback);\r\n\r\n\t  // if an event did not trigger closing\r\n\t  if ('closed' !== this.readyState) {\r\n\t    // if we got data we're not polling\r\n\t    this.polling = false;\r\n\t    this.emit('pollComplete');\r\n\r\n\t    if ('open' === this.readyState) {\r\n\t      this.poll();\r\n\t    } else {\r\n\t      debug('ignoring poll - transport state \"%s\"', this.readyState);\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * For polling, send a close packet.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.doClose = function () {\r\n\t  var self = this;\r\n\r\n\t  function close () {\r\n\t    debug('writing close packet');\r\n\t    self.write([{ type: 'close' }]);\r\n\t  }\r\n\r\n\t  if ('open' === this.readyState) {\r\n\t    debug('transport open - closing');\r\n\t    close();\r\n\t  } else {\r\n\t    // in case we're trying to close while\r\n\t    // handshaking is in progress (GH-164)\r\n\t    debug('transport not open - deferring close');\r\n\t    this.once('open', close);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Writes a packets payload.\r\n\t *\r\n\t * @param {Array} data packets\r\n\t * @param {Function} drain callback\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.write = function (packets) {\r\n\t  var self = this;\r\n\t  this.writable = false;\r\n\t  var callbackfn = function () {\r\n\t    self.writable = true;\r\n\t    self.emit('drain');\r\n\t  };\r\n\r\n\t  parser.encodePayload(packets, this.supportsBinary, function (data) {\r\n\t    self.doWrite(data, callbackfn);\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Generates uri for connection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tPolling.prototype.uri = function () {\r\n\t  var query = this.query || {};\r\n\t  var schema = this.secure ? 'https' : 'http';\r\n\t  var port = '';\r\n\r\n\t  // cache busting is forced\r\n\t  if (false !== this.timestampRequests) {\r\n\t    query[this.timestampParam] = yeast();\r\n\t  }\r\n\r\n\t  if (!this.supportsBinary && !query.sid) {\r\n\t    query.b64 = 1;\r\n\t  }\r\n\r\n\t  query = parseqs.encode(query);\r\n\r\n\t  // avoid port if default for schema\r\n\t  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\r\n\t     ('http' === schema && Number(this.port) !== 80))) {\r\n\t    port = ':' + this.port;\r\n\t  }\r\n\r\n\t  // prepend ? to query\r\n\t  if (query.length) {\r\n\t    query = '?' + query;\r\n\t  }\r\n\r\n\t  var ipv6 = this.hostname.indexOf(':') !== -1;\r\n\t  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 26 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar parser = __webpack_require__(27);\r\n\tvar Emitter = __webpack_require__(35);\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = Transport;\r\n\r\n\t/**\r\n\t * Transport abstract constructor.\r\n\t *\r\n\t * @param {Object} options.\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction Transport (opts) {\r\n\t  this.path = opts.path;\r\n\t  this.hostname = opts.hostname;\r\n\t  this.port = opts.port;\r\n\t  this.secure = opts.secure;\r\n\t  this.query = opts.query;\r\n\t  this.timestampParam = opts.timestampParam;\r\n\t  this.timestampRequests = opts.timestampRequests;\r\n\t  this.readyState = '';\r\n\t  this.agent = opts.agent || false;\r\n\t  this.socket = opts.socket;\r\n\t  this.enablesXDR = opts.enablesXDR;\r\n\r\n\t  // SSL options for Node.js client\r\n\t  this.pfx = opts.pfx;\r\n\t  this.key = opts.key;\r\n\t  this.passphrase = opts.passphrase;\r\n\t  this.cert = opts.cert;\r\n\t  this.ca = opts.ca;\r\n\t  this.ciphers = opts.ciphers;\r\n\t  this.rejectUnauthorized = opts.rejectUnauthorized;\r\n\t  this.forceNode = opts.forceNode;\r\n\r\n\t  // other options for Node.js client\r\n\t  this.extraHeaders = opts.extraHeaders;\r\n\t  this.localAddress = opts.localAddress;\r\n\t}\r\n\r\n\t/**\r\n\t * Mix in `Emitter`.\r\n\t */\r\n\r\n\tEmitter(Transport.prototype);\r\n\r\n\t/**\r\n\t * Emits an error.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Transport} for chaining\r\n\t * @api public\r\n\t */\r\n\r\n\tTransport.prototype.onError = function (msg, desc) {\r\n\t  var err = new Error(msg);\r\n\t  err.type = 'TransportError';\r\n\t  err.description = desc;\r\n\t  this.emit('error', err);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Opens the transport.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tTransport.prototype.open = function () {\r\n\t  if ('closed' === this.readyState || '' === this.readyState) {\r\n\t    this.readyState = 'opening';\r\n\t    this.doOpen();\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Closes the transport.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tTransport.prototype.close = function () {\r\n\t  if ('opening' === this.readyState || 'open' === this.readyState) {\r\n\t    this.doClose();\r\n\t    this.onClose();\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sends multiple packets.\r\n\t *\r\n\t * @param {Array} packets\r\n\t * @api private\r\n\t */\r\n\r\n\tTransport.prototype.send = function (packets) {\r\n\t  if ('open' === this.readyState) {\r\n\t    this.write(packets);\r\n\t  } else {\r\n\t    throw new Error('Transport not open');\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon open\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tTransport.prototype.onOpen = function () {\r\n\t  this.readyState = 'open';\r\n\t  this.writable = true;\r\n\t  this.emit('open');\r\n\t};\r\n\r\n\t/**\r\n\t * Called with data.\r\n\t *\r\n\t * @param {String} data\r\n\t * @api private\r\n\t */\r\n\r\n\tTransport.prototype.onData = function (data) {\r\n\t  var packet = parser.decodePacket(data, this.socket.binaryType);\r\n\t  this.onPacket(packet);\r\n\t};\r\n\r\n\t/**\r\n\t * Called with a decoded packet.\r\n\t */\r\n\r\n\tTransport.prototype.onPacket = function (packet) {\r\n\t  this.emit('packet', packet);\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon close.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tTransport.prototype.onClose = function () {\r\n\t  this.readyState = 'closed';\r\n\t  this.emit('close');\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 27 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar keys = __webpack_require__(28);\r\n\tvar hasBinary = __webpack_require__(29);\r\n\tvar sliceBuffer = __webpack_require__(30);\r\n\tvar after = __webpack_require__(31);\r\n\tvar utf8 = __webpack_require__(32);\r\n\r\n\tvar base64encoder;\r\n\tif (global && global.ArrayBuffer) {\r\n\t  base64encoder = __webpack_require__(33);\r\n\t}\r\n\r\n\t/**\r\n\t * Check if we are running an android browser. That requires us to use\r\n\t * ArrayBuffer with polling transports...\r\n\t *\r\n\t * http://ghinda.net/jpeg-blob-ajax-android/\r\n\t */\r\n\r\n\tvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\r\n\r\n\t/**\r\n\t * Check if we are running in PhantomJS.\r\n\t * Uploading a Blob with PhantomJS does not work correctly, as reported here:\r\n\t * https://github.com/ariya/phantomjs/issues/11395\r\n\t * @type boolean\r\n\t */\r\n\tvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\r\n\r\n\t/**\r\n\t * When true, avoids using Blobs to encode payloads.\r\n\t * @type boolean\r\n\t */\r\n\tvar dontSendBlobs = isAndroid || isPhantomJS;\r\n\r\n\t/**\r\n\t * Current protocol version.\r\n\t */\r\n\r\n\texports.protocol = 3;\r\n\r\n\t/**\r\n\t * Packet types.\r\n\t */\r\n\r\n\tvar packets = exports.packets = {\r\n\t    open:     0    // non-ws\r\n\t  , close:    1    // non-ws\r\n\t  , ping:     2\r\n\t  , pong:     3\r\n\t  , message:  4\r\n\t  , upgrade:  5\r\n\t  , noop:     6\r\n\t};\r\n\r\n\tvar packetslist = keys(packets);\r\n\r\n\t/**\r\n\t * Premade error packet.\r\n\t */\r\n\r\n\tvar err = { type: 'error', data: 'parser error' };\r\n\r\n\t/**\r\n\t * Create a blob api even for blob builder when vendor prefixes exist\r\n\t */\r\n\r\n\tvar Blob = __webpack_require__(34);\r\n\r\n\t/**\r\n\t * Encodes a packet.\r\n\t *\r\n\t *     <packet type id> [ <data> ]\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t *     5hello world\r\n\t *     3\r\n\t *     4\r\n\t *\r\n\t * Binary is encoded in an identical principle\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\texports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\r\n\t  if ('function' == typeof supportsBinary) {\r\n\t    callback = supportsBinary;\r\n\t    supportsBinary = false;\r\n\t  }\r\n\r\n\t  if ('function' == typeof utf8encode) {\r\n\t    callback = utf8encode;\r\n\t    utf8encode = null;\r\n\t  }\r\n\r\n\t  var data = (packet.data === undefined)\r\n\t    ? undefined\r\n\t    : packet.data.buffer || packet.data;\r\n\r\n\t  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\r\n\t    return encodeArrayBuffer(packet, supportsBinary, callback);\r\n\t  } else if (Blob && data instanceof global.Blob) {\r\n\t    return encodeBlob(packet, supportsBinary, callback);\r\n\t  }\r\n\r\n\t  // might be an object with { base64: true, data: dataAsBase64String }\r\n\t  if (data && data.base64) {\r\n\t    return encodeBase64Object(packet, callback);\r\n\t  }\r\n\r\n\t  // Sending data as a utf-8 string\r\n\t  var encoded = packets[packet.type];\r\n\r\n\t  // data fragment is optional\r\n\t  if (undefined !== packet.data) {\r\n\t    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\r\n\t  }\r\n\r\n\t  return callback('' + encoded);\r\n\r\n\t};\r\n\r\n\tfunction encodeBase64Object(packet, callback) {\r\n\t  // packet data is an object { base64: true, data: dataAsBase64String }\r\n\t  var message = 'b' + exports.packets[packet.type] + packet.data.data;\r\n\t  return callback(message);\r\n\t}\r\n\r\n\t/**\r\n\t * Encode packet helpers for binary types\r\n\t */\r\n\r\n\tfunction encodeArrayBuffer(packet, supportsBinary, callback) {\r\n\t  if (!supportsBinary) {\r\n\t    return exports.encodeBase64Packet(packet, callback);\r\n\t  }\r\n\r\n\t  var data = packet.data;\r\n\t  var contentArray = new Uint8Array(data);\r\n\t  var resultBuffer = new Uint8Array(1 + data.byteLength);\r\n\r\n\t  resultBuffer[0] = packets[packet.type];\r\n\t  for (var i = 0; i < contentArray.length; i++) {\r\n\t    resultBuffer[i+1] = contentArray[i];\r\n\t  }\r\n\r\n\t  return callback(resultBuffer.buffer);\r\n\t}\r\n\r\n\tfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\r\n\t  if (!supportsBinary) {\r\n\t    return exports.encodeBase64Packet(packet, callback);\r\n\t  }\r\n\r\n\t  var fr = new FileReader();\r\n\t  fr.onload = function() {\r\n\t    packet.data = fr.result;\r\n\t    exports.encodePacket(packet, supportsBinary, true, callback);\r\n\t  };\r\n\t  return fr.readAsArrayBuffer(packet.data);\r\n\t}\r\n\r\n\tfunction encodeBlob(packet, supportsBinary, callback) {\r\n\t  if (!supportsBinary) {\r\n\t    return exports.encodeBase64Packet(packet, callback);\r\n\t  }\r\n\r\n\t  if (dontSendBlobs) {\r\n\t    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\r\n\t  }\r\n\r\n\t  var length = new Uint8Array(1);\r\n\t  length[0] = packets[packet.type];\r\n\t  var blob = new Blob([length.buffer, packet.data]);\r\n\r\n\t  return callback(blob);\r\n\t}\r\n\r\n\t/**\r\n\t * Encodes a packet with binary data in a base64 string\r\n\t *\r\n\t * @param {Object} packet, has `type` and `data`\r\n\t * @return {String} base64 encoded message\r\n\t */\r\n\r\n\texports.encodeBase64Packet = function(packet, callback) {\r\n\t  var message = 'b' + exports.packets[packet.type];\r\n\t  if (Blob && packet.data instanceof global.Blob) {\r\n\t    var fr = new FileReader();\r\n\t    fr.onload = function() {\r\n\t      var b64 = fr.result.split(',')[1];\r\n\t      callback(message + b64);\r\n\t    };\r\n\t    return fr.readAsDataURL(packet.data);\r\n\t  }\r\n\r\n\t  var b64data;\r\n\t  try {\r\n\t    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\r\n\t  } catch (e) {\r\n\t    // iPhone Safari doesn't let you apply with typed arrays\r\n\t    var typed = new Uint8Array(packet.data);\r\n\t    var basic = new Array(typed.length);\r\n\t    for (var i = 0; i < typed.length; i++) {\r\n\t      basic[i] = typed[i];\r\n\t    }\r\n\t    b64data = String.fromCharCode.apply(null, basic);\r\n\t  }\r\n\t  message += global.btoa(b64data);\r\n\t  return callback(message);\r\n\t};\r\n\r\n\t/**\r\n\t * Decodes a packet. Changes format to Blob if requested.\r\n\t *\r\n\t * @return {Object} with `type` and `data` (if any)\r\n\t * @api private\r\n\t */\r\n\r\n\texports.decodePacket = function (data, binaryType, utf8decode) {\r\n\t  if (data === undefined) {\r\n\t    return err;\r\n\t  }\r\n\t  // String data\r\n\t  if (typeof data == 'string') {\r\n\t    if (data.charAt(0) == 'b') {\r\n\t      return exports.decodeBase64Packet(data.substr(1), binaryType);\r\n\t    }\r\n\r\n\t    if (utf8decode) {\r\n\t      data = tryDecode(data);\r\n\t      if (data === false) {\r\n\t        return err;\r\n\t      }\r\n\t    }\r\n\t    var type = data.charAt(0);\r\n\r\n\t    if (Number(type) != type || !packetslist[type]) {\r\n\t      return err;\r\n\t    }\r\n\r\n\t    if (data.length > 1) {\r\n\t      return { type: packetslist[type], data: data.substring(1) };\r\n\t    } else {\r\n\t      return { type: packetslist[type] };\r\n\t    }\r\n\t  }\r\n\r\n\t  var asArray = new Uint8Array(data);\r\n\t  var type = asArray[0];\r\n\t  var rest = sliceBuffer(data, 1);\r\n\t  if (Blob && binaryType === 'blob') {\r\n\t    rest = new Blob([rest]);\r\n\t  }\r\n\t  return { type: packetslist[type], data: rest };\r\n\t};\r\n\r\n\tfunction tryDecode(data) {\r\n\t  try {\r\n\t    data = utf8.decode(data);\r\n\t  } catch (e) {\r\n\t    return false;\r\n\t  }\r\n\t  return data;\r\n\t}\r\n\r\n\t/**\r\n\t * Decodes a packet encoded in a base64 string\r\n\t *\r\n\t * @param {String} base64 encoded message\r\n\t * @return {Object} with `type` and `data` (if any)\r\n\t */\r\n\r\n\texports.decodeBase64Packet = function(msg, binaryType) {\r\n\t  var type = packetslist[msg.charAt(0)];\r\n\t  if (!base64encoder) {\r\n\t    return { type: type, data: { base64: true, data: msg.substr(1) } };\r\n\t  }\r\n\r\n\t  var data = base64encoder.decode(msg.substr(1));\r\n\r\n\t  if (binaryType === 'blob' && Blob) {\r\n\t    data = new Blob([data]);\r\n\t  }\r\n\r\n\t  return { type: type, data: data };\r\n\t};\r\n\r\n\t/**\r\n\t * Encodes multiple messages (payload).\r\n\t *\r\n\t *     <length>:data\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t *     11:hello world2:hi\r\n\t *\r\n\t * If any contents are binary, they will be encoded as base64 strings. Base64\r\n\t * encoded strings are marked with a b before the length specifier\r\n\t *\r\n\t * @param {Array} packets\r\n\t * @api private\r\n\t */\r\n\r\n\texports.encodePayload = function (packets, supportsBinary, callback) {\r\n\t  if (typeof supportsBinary == 'function') {\r\n\t    callback = supportsBinary;\r\n\t    supportsBinary = null;\r\n\t  }\r\n\r\n\t  var isBinary = hasBinary(packets);\r\n\r\n\t  if (supportsBinary && isBinary) {\r\n\t    if (Blob && !dontSendBlobs) {\r\n\t      return exports.encodePayloadAsBlob(packets, callback);\r\n\t    }\r\n\r\n\t    return exports.encodePayloadAsArrayBuffer(packets, callback);\r\n\t  }\r\n\r\n\t  if (!packets.length) {\r\n\t    return callback('0:');\r\n\t  }\r\n\r\n\t  function setLengthHeader(message) {\r\n\t    return message.length + ':' + message;\r\n\t  }\r\n\r\n\t  function encodeOne(packet, doneCallback) {\r\n\t    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\r\n\t      doneCallback(null, setLengthHeader(message));\r\n\t    });\r\n\t  }\r\n\r\n\t  map(packets, encodeOne, function(err, results) {\r\n\t    return callback(results.join(''));\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Async array map using after\r\n\t */\r\n\r\n\tfunction map(ary, each, done) {\r\n\t  var result = new Array(ary.length);\r\n\t  var next = after(ary.length, done);\r\n\r\n\t  var eachWithIndex = function(i, el, cb) {\r\n\t    each(el, function(error, msg) {\r\n\t      result[i] = msg;\r\n\t      cb(error, result);\r\n\t    });\r\n\t  };\r\n\r\n\t  for (var i = 0; i < ary.length; i++) {\r\n\t    eachWithIndex(i, ary[i], next);\r\n\t  }\r\n\t}\r\n\r\n\t/*\r\n\t * Decodes data when a payload is maybe expected. Possible binary contents are\r\n\t * decoded from their base64 representation\r\n\t *\r\n\t * @param {String} data, callback method\r\n\t * @api public\r\n\t */\r\n\r\n\texports.decodePayload = function (data, binaryType, callback) {\r\n\t  if (typeof data != 'string') {\r\n\t    return exports.decodePayloadAsBinary(data, binaryType, callback);\r\n\t  }\r\n\r\n\t  if (typeof binaryType === 'function') {\r\n\t    callback = binaryType;\r\n\t    binaryType = null;\r\n\t  }\r\n\r\n\t  var packet;\r\n\t  if (data == '') {\r\n\t    // parser error - ignoring payload\r\n\t    return callback(err, 0, 1);\r\n\t  }\r\n\r\n\t  var length = ''\r\n\t    , n, msg;\r\n\r\n\t  for (var i = 0, l = data.length; i < l; i++) {\r\n\t    var chr = data.charAt(i);\r\n\r\n\t    if (':' != chr) {\r\n\t      length += chr;\r\n\t    } else {\r\n\t      if ('' == length || (length != (n = Number(length)))) {\r\n\t        // parser error - ignoring payload\r\n\t        return callback(err, 0, 1);\r\n\t      }\r\n\r\n\t      msg = data.substr(i + 1, n);\r\n\r\n\t      if (length != msg.length) {\r\n\t        // parser error - ignoring payload\r\n\t        return callback(err, 0, 1);\r\n\t      }\r\n\r\n\t      if (msg.length) {\r\n\t        packet = exports.decodePacket(msg, binaryType, true);\r\n\r\n\t        if (err.type == packet.type && err.data == packet.data) {\r\n\t          // parser error in individual packet - ignoring payload\r\n\t          return callback(err, 0, 1);\r\n\t        }\r\n\r\n\t        var ret = callback(packet, i + n, l);\r\n\t        if (false === ret) return;\r\n\t      }\r\n\r\n\t      // advance cursor\r\n\t      i += n;\r\n\t      length = '';\r\n\t    }\r\n\t  }\r\n\r\n\t  if (length != '') {\r\n\t    // parser error - ignoring payload\r\n\t    return callback(err, 0, 1);\r\n\t  }\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Encodes multiple messages (payload) as binary.\r\n\t *\r\n\t * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\r\n\t * 255><data>\r\n\t *\r\n\t * Example:\r\n\t * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\r\n\t *\r\n\t * @param {Array} packets\r\n\t * @return {ArrayBuffer} encoded payload\r\n\t * @api private\r\n\t */\r\n\r\n\texports.encodePayloadAsArrayBuffer = function(packets, callback) {\r\n\t  if (!packets.length) {\r\n\t    return callback(new ArrayBuffer(0));\r\n\t  }\r\n\r\n\t  function encodeOne(packet, doneCallback) {\r\n\t    exports.encodePacket(packet, true, true, function(data) {\r\n\t      return doneCallback(null, data);\r\n\t    });\r\n\t  }\r\n\r\n\t  map(packets, encodeOne, function(err, encodedPackets) {\r\n\t    var totalLength = encodedPackets.reduce(function(acc, p) {\r\n\t      var len;\r\n\t      if (typeof p === 'string'){\r\n\t        len = p.length;\r\n\t      } else {\r\n\t        len = p.byteLength;\r\n\t      }\r\n\t      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\r\n\t    }, 0);\r\n\r\n\t    var resultArray = new Uint8Array(totalLength);\r\n\r\n\t    var bufferIndex = 0;\r\n\t    encodedPackets.forEach(function(p) {\r\n\t      var isString = typeof p === 'string';\r\n\t      var ab = p;\r\n\t      if (isString) {\r\n\t        var view = new Uint8Array(p.length);\r\n\t        for (var i = 0; i < p.length; i++) {\r\n\t          view[i] = p.charCodeAt(i);\r\n\t        }\r\n\t        ab = view.buffer;\r\n\t      }\r\n\r\n\t      if (isString) { // not true binary\r\n\t        resultArray[bufferIndex++] = 0;\r\n\t      } else { // true binary\r\n\t        resultArray[bufferIndex++] = 1;\r\n\t      }\r\n\r\n\t      var lenStr = ab.byteLength.toString();\r\n\t      for (var i = 0; i < lenStr.length; i++) {\r\n\t        resultArray[bufferIndex++] = parseInt(lenStr[i]);\r\n\t      }\r\n\t      resultArray[bufferIndex++] = 255;\r\n\r\n\t      var view = new Uint8Array(ab);\r\n\t      for (var i = 0; i < view.length; i++) {\r\n\t        resultArray[bufferIndex++] = view[i];\r\n\t      }\r\n\t    });\r\n\r\n\t    return callback(resultArray.buffer);\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Encode as Blob\r\n\t */\r\n\r\n\texports.encodePayloadAsBlob = function(packets, callback) {\r\n\t  function encodeOne(packet, doneCallback) {\r\n\t    exports.encodePacket(packet, true, true, function(encoded) {\r\n\t      var binaryIdentifier = new Uint8Array(1);\r\n\t      binaryIdentifier[0] = 1;\r\n\t      if (typeof encoded === 'string') {\r\n\t        var view = new Uint8Array(encoded.length);\r\n\t        for (var i = 0; i < encoded.length; i++) {\r\n\t          view[i] = encoded.charCodeAt(i);\r\n\t        }\r\n\t        encoded = view.buffer;\r\n\t        binaryIdentifier[0] = 0;\r\n\t      }\r\n\r\n\t      var len = (encoded instanceof ArrayBuffer)\r\n\t        ? encoded.byteLength\r\n\t        : encoded.size;\r\n\r\n\t      var lenStr = len.toString();\r\n\t      var lengthAry = new Uint8Array(lenStr.length + 1);\r\n\t      for (var i = 0; i < lenStr.length; i++) {\r\n\t        lengthAry[i] = parseInt(lenStr[i]);\r\n\t      }\r\n\t      lengthAry[lenStr.length] = 255;\r\n\r\n\t      if (Blob) {\r\n\t        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\r\n\t        doneCallback(null, blob);\r\n\t      }\r\n\t    });\r\n\t  }\r\n\r\n\t  map(packets, encodeOne, function(err, results) {\r\n\t    return callback(new Blob(results));\r\n\t  });\r\n\t};\r\n\r\n\t/*\r\n\t * Decodes data when a payload is maybe expected. Strings are decoded by\r\n\t * interpreting each byte as a key code for entries marked to start with 0. See\r\n\t * description of encodePayloadAsBinary\r\n\t *\r\n\t * @param {ArrayBuffer} data, callback method\r\n\t * @api public\r\n\t */\r\n\r\n\texports.decodePayloadAsBinary = function (data, binaryType, callback) {\r\n\t  if (typeof binaryType === 'function') {\r\n\t    callback = binaryType;\r\n\t    binaryType = null;\r\n\t  }\r\n\r\n\t  var bufferTail = data;\r\n\t  var buffers = [];\r\n\r\n\t  var numberTooLong = false;\r\n\t  while (bufferTail.byteLength > 0) {\r\n\t    var tailArray = new Uint8Array(bufferTail);\r\n\t    var isString = tailArray[0] === 0;\r\n\t    var msgLength = '';\r\n\r\n\t    for (var i = 1; ; i++) {\r\n\t      if (tailArray[i] == 255) break;\r\n\r\n\t      if (msgLength.length > 310) {\r\n\t        numberTooLong = true;\r\n\t        break;\r\n\t      }\r\n\r\n\t      msgLength += tailArray[i];\r\n\t    }\r\n\r\n\t    if(numberTooLong) return callback(err, 0, 1);\r\n\r\n\t    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\r\n\t    msgLength = parseInt(msgLength);\r\n\r\n\t    var msg = sliceBuffer(bufferTail, 0, msgLength);\r\n\t    if (isString) {\r\n\t      try {\r\n\t        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\r\n\t      } catch (e) {\r\n\t        // iPhone Safari doesn't let you apply to typed arrays\r\n\t        var typed = new Uint8Array(msg);\r\n\t        msg = '';\r\n\t        for (var i = 0; i < typed.length; i++) {\r\n\t          msg += String.fromCharCode(typed[i]);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    buffers.push(msg);\r\n\t    bufferTail = sliceBuffer(bufferTail, msgLength);\r\n\t  }\r\n\r\n\t  var total = buffers.length;\r\n\t  buffers.forEach(function(buffer, i) {\r\n\t    callback(exports.decodePacket(buffer, binaryType, true), i, total);\r\n\t  });\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 28 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\t/**\r\n\t * Gets the keys for an object.\r\n\t *\r\n\t * @return {Array} keys\r\n\t * @api private\r\n\t */\r\n\r\n\tmodule.exports = Object.keys || function keys (obj){\r\n\t  var arr = [];\r\n\t  var has = Object.prototype.hasOwnProperty;\r\n\r\n\t  for (var i in obj) {\r\n\t    if (has.call(obj, i)) {\r\n\t      arr.push(i);\r\n\t    }\r\n\t  }\r\n\t  return arr;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 29 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {\r\n\t/*\r\n\t * Module requirements.\r\n\t */\r\n\r\n\tvar isArray = __webpack_require__(15);\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = hasBinary;\r\n\r\n\t/**\r\n\t * Checks for binary data.\r\n\t *\r\n\t * Right now only Buffer and ArrayBuffer are supported..\r\n\t *\r\n\t * @param {Object} anything\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction hasBinary(data) {\r\n\r\n\t  function _hasBinary(obj) {\r\n\t    if (!obj) return false;\r\n\r\n\t    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\r\n\t         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\r\n\t         (global.Blob && obj instanceof Blob) ||\r\n\t         (global.File && obj instanceof File)\r\n\t        ) {\r\n\t      return true;\r\n\t    }\r\n\r\n\t    if (isArray(obj)) {\r\n\t      for (var i = 0; i < obj.length; i++) {\r\n\t          if (_hasBinary(obj[i])) {\r\n\t              return true;\r\n\t          }\r\n\t      }\r\n\t    } else if (obj && 'object' == typeof obj) {\r\n\t      // see: https://github.com/Automattic/has-binary/pull/4\r\n\t      if (obj.toJSON && 'function' == typeof obj.toJSON) {\r\n\t        obj = obj.toJSON();\r\n\t      }\r\n\r\n\t      for (var key in obj) {\r\n\t        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\r\n\t          return true;\r\n\t        }\r\n\t      }\r\n\t    }\r\n\r\n\t    return false;\r\n\t  }\r\n\r\n\t  return _hasBinary(data);\r\n\t}\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 30 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * An abstraction for slicing an arraybuffer even when\r\n\t * ArrayBuffer.prototype.slice is not supported\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tmodule.exports = function(arraybuffer, start, end) {\r\n\t  var bytes = arraybuffer.byteLength;\r\n\t  start = start || 0;\r\n\t  end = end || bytes;\r\n\r\n\t  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\r\n\r\n\t  if (start < 0) { start += bytes; }\r\n\t  if (end < 0) { end += bytes; }\r\n\t  if (end > bytes) { end = bytes; }\r\n\r\n\t  if (start >= bytes || start >= end || bytes === 0) {\r\n\t    return new ArrayBuffer(0);\r\n\t  }\r\n\r\n\t  var abv = new Uint8Array(arraybuffer);\r\n\t  var result = new Uint8Array(end - start);\r\n\t  for (var i = start, ii = 0; i < end; i++, ii++) {\r\n\t    result[ii] = abv[i];\r\n\t  }\r\n\t  return result.buffer;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 31 */\r\n/***/ function(module, exports) {\r\n\r\n\tmodule.exports = after\r\n\r\n\tfunction after(count, callback, err_cb) {\r\n\t    var bail = false\r\n\t    err_cb = err_cb || noop\r\n\t    proxy.count = count\r\n\r\n\t    return (count === 0) ? callback() : proxy\r\n\r\n\t    function proxy(err, result) {\r\n\t        if (proxy.count <= 0) {\r\n\t            throw new Error('after called too many times')\r\n\t        }\r\n\t        --proxy.count\r\n\r\n\t        // after first error, rest are passed to err_cb\r\n\t        if (err) {\r\n\t            bail = true\r\n\t            callback(err)\r\n\t            // future error callbacks will go to error handler\r\n\t            callback = err_cb\r\n\t        } else if (proxy.count === 0 && !bail) {\r\n\t            callback(null, result)\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\tfunction noop() {}\r\n\r\n\r\n/***/ },\r\n/* 32 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/wtf8 v1.0.0 by @mathias */\r\n\t;(function(root) {\r\n\r\n\t\t// Detect free variables `exports`\r\n\t\tvar freeExports = typeof exports == 'object' && exports;\r\n\r\n\t\t// Detect free variable `module`\r\n\t\tvar freeModule = typeof module == 'object' && module &&\r\n\t\t\tmodule.exports == freeExports && module;\r\n\r\n\t\t// Detect free variable `global`, from Node.js or Browserified code,\r\n\t\t// and use it as `root`\r\n\t\tvar freeGlobal = typeof global == 'object' && global;\r\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\r\n\t\t\troot = freeGlobal;\r\n\t\t}\r\n\r\n\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\tvar stringFromCharCode = String.fromCharCode;\r\n\r\n\t\t// Taken from https://mths.be/punycode\r\n\t\tfunction ucs2decode(string) {\r\n\t\t\tvar output = [];\r\n\t\t\tvar counter = 0;\r\n\t\t\tvar length = string.length;\r\n\t\t\tvar value;\r\n\t\t\tvar extra;\r\n\t\t\twhile (counter < length) {\r\n\t\t\t\tvalue = string.charCodeAt(counter++);\r\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\r\n\t\t\t\t\t// high surrogate, and there is a next character\r\n\t\t\t\t\textra = string.charCodeAt(counter++);\r\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\r\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\r\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\r\n\t\t\t\t\t\toutput.push(value);\r\n\t\t\t\t\t\tcounter--;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn output;\r\n\t\t}\r\n\r\n\t\t// Taken from https://mths.be/punycode\r\n\t\tfunction ucs2encode(array) {\r\n\t\t\tvar length = array.length;\r\n\t\t\tvar index = -1;\r\n\t\t\tvar value;\r\n\t\t\tvar output = '';\r\n\t\t\twhile (++index < length) {\r\n\t\t\t\tvalue = array[index];\r\n\t\t\t\tif (value > 0xFFFF) {\r\n\t\t\t\t\tvalue -= 0x10000;\r\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\r\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\r\n\t\t\t\t}\r\n\t\t\t\toutput += stringFromCharCode(value);\r\n\t\t\t}\r\n\t\t\treturn output;\r\n\t\t}\r\n\r\n\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\tfunction createByte(codePoint, shift) {\r\n\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\r\n\t\t}\r\n\r\n\t\tfunction encodeCodePoint(codePoint) {\r\n\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\r\n\t\t\t\treturn stringFromCharCode(codePoint);\r\n\t\t\t}\r\n\t\t\tvar symbol = '';\r\n\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\r\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\r\n\t\t\t}\r\n\t\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\r\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\r\n\t\t\t\tsymbol += createByte(codePoint, 6);\r\n\t\t\t}\r\n\t\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\r\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\r\n\t\t\t\tsymbol += createByte(codePoint, 12);\r\n\t\t\t\tsymbol += createByte(codePoint, 6);\r\n\t\t\t}\r\n\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\r\n\t\t\treturn symbol;\r\n\t\t}\r\n\r\n\t\tfunction wtf8encode(string) {\r\n\t\t\tvar codePoints = ucs2decode(string);\r\n\t\t\tvar length = codePoints.length;\r\n\t\t\tvar index = -1;\r\n\t\t\tvar codePoint;\r\n\t\t\tvar byteString = '';\r\n\t\t\twhile (++index < length) {\r\n\t\t\t\tcodePoint = codePoints[index];\r\n\t\t\t\tbyteString += encodeCodePoint(codePoint);\r\n\t\t\t}\r\n\t\t\treturn byteString;\r\n\t\t}\r\n\r\n\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\tfunction readContinuationByte() {\r\n\t\t\tif (byteIndex >= byteCount) {\r\n\t\t\t\tthrow Error('Invalid byte index');\r\n\t\t\t}\r\n\r\n\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\r\n\t\t\tbyteIndex++;\r\n\r\n\t\t\tif ((continuationByte & 0xC0) == 0x80) {\r\n\t\t\t\treturn continuationByte & 0x3F;\r\n\t\t\t}\r\n\r\n\t\t\t// If we end up here, it’s not a continuation byte.\r\n\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t}\r\n\r\n\t\tfunction decodeSymbol() {\r\n\t\t\tvar byte1;\r\n\t\t\tvar byte2;\r\n\t\t\tvar byte3;\r\n\t\t\tvar byte4;\r\n\t\t\tvar codePoint;\r\n\r\n\t\t\tif (byteIndex > byteCount) {\r\n\t\t\t\tthrow Error('Invalid byte index');\r\n\t\t\t}\r\n\r\n\t\t\tif (byteIndex == byteCount) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Read the first byte.\r\n\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\r\n\t\t\tbyteIndex++;\r\n\r\n\t\t\t// 1-byte sequence (no continuation bytes)\r\n\t\t\tif ((byte1 & 0x80) == 0) {\r\n\t\t\t\treturn byte1;\r\n\t\t\t}\r\n\r\n\t\t\t// 2-byte sequence\r\n\t\t\tif ((byte1 & 0xE0) == 0xC0) {\r\n\t\t\t\tvar byte2 = readContinuationByte();\r\n\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\r\n\t\t\t\tif (codePoint >= 0x80) {\r\n\t\t\t\t\treturn codePoint;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 3-byte sequence (may include unpaired surrogates)\r\n\t\t\tif ((byte1 & 0xF0) == 0xE0) {\r\n\t\t\t\tbyte2 = readContinuationByte();\r\n\t\t\t\tbyte3 = readContinuationByte();\r\n\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\r\n\t\t\t\tif (codePoint >= 0x0800) {\r\n\t\t\t\t\treturn codePoint;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow Error('Invalid continuation byte');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 4-byte sequence\r\n\t\t\tif ((byte1 & 0xF8) == 0xF0) {\r\n\t\t\t\tbyte2 = readContinuationByte();\r\n\t\t\t\tbyte3 = readContinuationByte();\r\n\t\t\t\tbyte4 = readContinuationByte();\r\n\t\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\r\n\t\t\t\t\t(byte3 << 0x06) | byte4;\r\n\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\r\n\t\t\t\t\treturn codePoint;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthrow Error('Invalid WTF-8 detected');\r\n\t\t}\r\n\r\n\t\tvar byteArray;\r\n\t\tvar byteCount;\r\n\t\tvar byteIndex;\r\n\t\tfunction wtf8decode(byteString) {\r\n\t\t\tbyteArray = ucs2decode(byteString);\r\n\t\t\tbyteCount = byteArray.length;\r\n\t\t\tbyteIndex = 0;\r\n\t\t\tvar codePoints = [];\r\n\t\t\tvar tmp;\r\n\t\t\twhile ((tmp = decodeSymbol()) !== false) {\r\n\t\t\t\tcodePoints.push(tmp);\r\n\t\t\t}\r\n\t\t\treturn ucs2encode(codePoints);\r\n\t\t}\r\n\r\n\t\t/*--------------------------------------------------------------------------*/\r\n\r\n\t\tvar wtf8 = {\r\n\t\t\t'version': '1.0.0',\r\n\t\t\t'encode': wtf8encode,\r\n\t\t\t'decode': wtf8decode\r\n\t\t};\r\n\r\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\r\n\t\t// like the following:\r\n\t\tif (\r\n\t\t\ttrue\r\n\t\t) {\r\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t\t\t\treturn wtf8;\r\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\r\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\r\n\t\t\t\tfreeModule.exports = wtf8;\r\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\r\n\t\t\t\tvar object = {};\r\n\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\r\n\t\t\t\tfor (var key in wtf8) {\r\n\t\t\t\t\thasOwnProperty.call(wtf8, key) && (freeExports[key] = wtf8[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else { // in Rhino or a web browser\r\n\t\t\troot.wtf8 = wtf8;\r\n\t\t}\r\n\r\n\t}(this));\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)(module), (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 33 */\r\n/***/ function(module, exports) {\r\n\r\n\t/*\r\n\t * base64-arraybuffer\r\n\t * https://github.com/niklasvh/base64-arraybuffer\r\n\t *\r\n\t * Copyright (c) 2012 Niklas von Hertzen\r\n\t * Licensed under the MIT license.\r\n\t */\r\n\t(function(){\r\n\t  \"use strict\";\r\n\r\n\t  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n\r\n\t  // Use a lookup table to find the index.\r\n\t  var lookup = new Uint8Array(256);\r\n\t  for (var i = 0; i < chars.length; i++) {\r\n\t    lookup[chars.charCodeAt(i)] = i;\r\n\t  }\r\n\r\n\t  exports.encode = function(arraybuffer) {\r\n\t    var bytes = new Uint8Array(arraybuffer),\r\n\t    i, len = bytes.length, base64 = \"\";\r\n\r\n\t    for (i = 0; i < len; i+=3) {\r\n\t      base64 += chars[bytes[i] >> 2];\r\n\t      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\r\n\t      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\r\n\t      base64 += chars[bytes[i + 2] & 63];\r\n\t    }\r\n\r\n\t    if ((len % 3) === 2) {\r\n\t      base64 = base64.substring(0, base64.length - 1) + \"=\";\r\n\t    } else if (len % 3 === 1) {\r\n\t      base64 = base64.substring(0, base64.length - 2) + \"==\";\r\n\t    }\r\n\r\n\t    return base64;\r\n\t  };\r\n\r\n\t  exports.decode =  function(base64) {\r\n\t    var bufferLength = base64.length * 0.75,\r\n\t    len = base64.length, i, p = 0,\r\n\t    encoded1, encoded2, encoded3, encoded4;\r\n\r\n\t    if (base64[base64.length - 1] === \"=\") {\r\n\t      bufferLength--;\r\n\t      if (base64[base64.length - 2] === \"=\") {\r\n\t        bufferLength--;\r\n\t      }\r\n\t    }\r\n\r\n\t    var arraybuffer = new ArrayBuffer(bufferLength),\r\n\t    bytes = new Uint8Array(arraybuffer);\r\n\r\n\t    for (i = 0; i < len; i+=4) {\r\n\t      encoded1 = lookup[base64.charCodeAt(i)];\r\n\t      encoded2 = lookup[base64.charCodeAt(i+1)];\r\n\t      encoded3 = lookup[base64.charCodeAt(i+2)];\r\n\t      encoded4 = lookup[base64.charCodeAt(i+3)];\r\n\r\n\t      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n\t      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n\t      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n\t    }\r\n\r\n\t    return arraybuffer;\r\n\t  };\r\n\t})();\r\n\r\n\r\n/***/ },\r\n/* 34 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Create a blob builder even when vendor prefixes exist\r\n\t */\r\n\r\n\tvar BlobBuilder = global.BlobBuilder\r\n\t  || global.WebKitBlobBuilder\r\n\t  || global.MSBlobBuilder\r\n\t  || global.MozBlobBuilder;\r\n\r\n\t/**\r\n\t * Check if Blob constructor is supported\r\n\t */\r\n\r\n\tvar blobSupported = (function() {\r\n\t  try {\r\n\t    var a = new Blob(['hi']);\r\n\t    return a.size === 2;\r\n\t  } catch(e) {\r\n\t    return false;\r\n\t  }\r\n\t})();\r\n\r\n\t/**\r\n\t * Check if Blob constructor supports ArrayBufferViews\r\n\t * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n\t */\r\n\r\n\tvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n\t  try {\r\n\t    var b = new Blob([new Uint8Array([1,2])]);\r\n\t    return b.size === 2;\r\n\t  } catch(e) {\r\n\t    return false;\r\n\t  }\r\n\t})();\r\n\r\n\t/**\r\n\t * Check if BlobBuilder is supported\r\n\t */\r\n\r\n\tvar blobBuilderSupported = BlobBuilder\r\n\t  && BlobBuilder.prototype.append\r\n\t  && BlobBuilder.prototype.getBlob;\r\n\r\n\t/**\r\n\t * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n\t * Used by BlobBuilder constructor and old browsers that didn't\r\n\t * support it in the Blob constructor.\r\n\t */\r\n\r\n\tfunction mapArrayBufferViews(ary) {\r\n\t  for (var i = 0; i < ary.length; i++) {\r\n\t    var chunk = ary[i];\r\n\t    if (chunk.buffer instanceof ArrayBuffer) {\r\n\t      var buf = chunk.buffer;\r\n\r\n\t      // if this is a subarray, make a copy so we only\r\n\t      // include the subarray region from the underlying buffer\r\n\t      if (chunk.byteLength !== buf.byteLength) {\r\n\t        var copy = new Uint8Array(chunk.byteLength);\r\n\t        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n\t        buf = copy.buffer;\r\n\t      }\r\n\r\n\t      ary[i] = buf;\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\tfunction BlobBuilderConstructor(ary, options) {\r\n\t  options = options || {};\r\n\r\n\t  var bb = new BlobBuilder();\r\n\t  mapArrayBufferViews(ary);\r\n\r\n\t  for (var i = 0; i < ary.length; i++) {\r\n\t    bb.append(ary[i]);\r\n\t  }\r\n\r\n\t  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n\t};\r\n\r\n\tfunction BlobConstructor(ary, options) {\r\n\t  mapArrayBufferViews(ary);\r\n\t  return new Blob(ary, options || {});\r\n\t};\r\n\r\n\tmodule.exports = (function() {\r\n\t  if (blobSupported) {\r\n\t    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\r\n\t  } else if (blobBuilderSupported) {\r\n\t    return BlobBuilderConstructor;\r\n\t  } else {\r\n\t    return undefined;\r\n\t  }\r\n\t})();\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 35 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t\r\n\t/**\r\n\t * Expose `Emitter`.\r\n\t */\r\n\r\n\tif (true) {\r\n\t  module.exports = Emitter;\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize a new `Emitter`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Emitter(obj) {\r\n\t  if (obj) return mixin(obj);\r\n\t};\r\n\r\n\t/**\r\n\t * Mixin the emitter properties.\r\n\t *\r\n\t * @param {Object} obj\r\n\t * @return {Object}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction mixin(obj) {\r\n\t  for (var key in Emitter.prototype) {\r\n\t    obj[key] = Emitter.prototype[key];\r\n\t  }\r\n\t  return obj;\r\n\t}\r\n\r\n\t/**\r\n\t * Listen on the given `event` with `fn`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.on =\r\n\tEmitter.prototype.addEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n\t    .push(fn);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Adds an `event` listener that will be invoked a single\r\n\t * time then automatically removed.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.once = function(event, fn){\r\n\t  function on() {\r\n\t    this.off(event, on);\r\n\t    fn.apply(this, arguments);\r\n\t  }\r\n\r\n\t  on.fn = fn;\r\n\t  this.on(event, on);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the given callback for `event` or all\r\n\t * registered callbacks.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.off =\r\n\tEmitter.prototype.removeListener =\r\n\tEmitter.prototype.removeAllListeners =\r\n\tEmitter.prototype.removeEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\r\n\t  // all\r\n\t  if (0 == arguments.length) {\r\n\t    this._callbacks = {};\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // specific event\r\n\t  var callbacks = this._callbacks['$' + event];\r\n\t  if (!callbacks) return this;\r\n\r\n\t  // remove all handlers\r\n\t  if (1 == arguments.length) {\r\n\t    delete this._callbacks['$' + event];\r\n\t    return this;\r\n\t  }\r\n\r\n\t  // remove specific handler\r\n\t  var cb;\r\n\t  for (var i = 0; i < callbacks.length; i++) {\r\n\t    cb = callbacks[i];\r\n\t    if (cb === fn || cb.fn === fn) {\r\n\t      callbacks.splice(i, 1);\r\n\t      break;\r\n\t    }\r\n\t  }\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Emit `event` with the given args.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Mixed} ...\r\n\t * @return {Emitter}\r\n\t */\r\n\r\n\tEmitter.prototype.emit = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  var args = [].slice.call(arguments, 1)\r\n\t    , callbacks = this._callbacks['$' + event];\r\n\r\n\t  if (callbacks) {\r\n\t    callbacks = callbacks.slice(0);\r\n\t    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t      callbacks[i].apply(this, args);\r\n\t    }\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Return array of callbacks for `event`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Array}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.listeners = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  return this._callbacks['$' + event] || [];\r\n\t};\r\n\r\n\t/**\r\n\t * Check if this emitter has `event` handlers.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\r\n\tEmitter.prototype.hasListeners = function(event){\r\n\t  return !! this.listeners(event).length;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 36 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * Compiles a querystring\r\n\t * Returns string representation of the object\r\n\t *\r\n\t * @param {Object}\r\n\t * @api private\r\n\t */\r\n\r\n\texports.encode = function (obj) {\r\n\t  var str = '';\r\n\r\n\t  for (var i in obj) {\r\n\t    if (obj.hasOwnProperty(i)) {\r\n\t      if (str.length) str += '&';\r\n\t      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n\t    }\r\n\t  }\r\n\r\n\t  return str;\r\n\t};\r\n\r\n\t/**\r\n\t * Parses a simple querystring into an object\r\n\t *\r\n\t * @param {String} qs\r\n\t * @api private\r\n\t */\r\n\r\n\texports.decode = function(qs){\r\n\t  var qry = {};\r\n\t  var pairs = qs.split('&');\r\n\t  for (var i = 0, l = pairs.length; i < l; i++) {\r\n\t    var pair = pairs[i].split('=');\r\n\t    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n\t  }\r\n\t  return qry;\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 37 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\tmodule.exports = function(a, b){\r\n\t  var fn = function(){};\r\n\t  fn.prototype = b.prototype;\r\n\t  a.prototype = new fn;\r\n\t  a.prototype.constructor = a;\r\n\t};\r\n\r\n/***/ },\r\n/* 38 */\r\n/***/ function(module, exports) {\r\n\r\n\t'use strict';\r\n\r\n\tvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\r\n\t  , length = 64\r\n\t  , map = {}\r\n\t  , seed = 0\r\n\t  , i = 0\r\n\t  , prev;\r\n\r\n\t/**\r\n\t * Return a string representing the specified number.\r\n\t *\r\n\t * @param {Number} num The number to convert.\r\n\t * @returns {String} The string representation of the number.\r\n\t * @api public\r\n\t */\r\n\tfunction encode(num) {\r\n\t  var encoded = '';\r\n\r\n\t  do {\r\n\t    encoded = alphabet[num % length] + encoded;\r\n\t    num = Math.floor(num / length);\r\n\t  } while (num > 0);\r\n\r\n\t  return encoded;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the integer value specified by the given string.\r\n\t *\r\n\t * @param {String} str The string to convert.\r\n\t * @returns {Number} The integer value represented by the string.\r\n\t * @api public\r\n\t */\r\n\tfunction decode(str) {\r\n\t  var decoded = 0;\r\n\r\n\t  for (i = 0; i < str.length; i++) {\r\n\t    decoded = decoded * length + map[str.charAt(i)];\r\n\t  }\r\n\r\n\t  return decoded;\r\n\t}\r\n\r\n\t/**\r\n\t * Yeast: A tiny growing id generator.\r\n\t *\r\n\t * @returns {String} A unique id.\r\n\t * @api public\r\n\t */\r\n\tfunction yeast() {\r\n\t  var now = encode(+new Date());\r\n\r\n\t  if (now !== prev) return seed = 0, prev = now;\r\n\t  return now +'.'+ encode(seed++);\r\n\t}\r\n\r\n\t//\r\n\t// Map each character to its index.\r\n\t//\r\n\tfor (; i < length; i++) map[alphabet[i]] = i;\r\n\r\n\t//\r\n\t// Expose the `yeast`, `encode` and `decode` functions.\r\n\t//\r\n\tyeast.encode = encode;\r\n\tyeast.decode = decode;\r\n\tmodule.exports = yeast;\r\n\r\n\r\n/***/ },\r\n/* 39 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {\r\n\t/**\r\n\t * Module requirements.\r\n\t */\r\n\r\n\tvar Polling = __webpack_require__(25);\r\n\tvar inherit = __webpack_require__(37);\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = JSONPPolling;\r\n\r\n\t/**\r\n\t * Cached regular expressions.\r\n\t */\r\n\r\n\tvar rNewline = /\\n/g;\r\n\tvar rEscapedNewline = /\\\\n/g;\r\n\r\n\t/**\r\n\t * Global JSONP callbacks.\r\n\t */\r\n\r\n\tvar callbacks;\r\n\r\n\t/**\r\n\t * Noop.\r\n\t */\r\n\r\n\tfunction empty () { }\r\n\r\n\t/**\r\n\t * JSONP Polling constructor.\r\n\t *\r\n\t * @param {Object} opts.\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction JSONPPolling (opts) {\r\n\t  Polling.call(this, opts);\r\n\r\n\t  this.query = this.query || {};\r\n\r\n\t  // define global callbacks array if not present\r\n\t  // we do this here (lazily) to avoid unneeded global pollution\r\n\t  if (!callbacks) {\r\n\t    // we need to consider multiple engines in the same page\r\n\t    if (!global.___eio) global.___eio = [];\r\n\t    callbacks = global.___eio;\r\n\t  }\r\n\r\n\t  // callback identifier\r\n\t  this.index = callbacks.length;\r\n\r\n\t  // add callback to jsonp global\r\n\t  var self = this;\r\n\t  callbacks.push(function (msg) {\r\n\t    self.onData(msg);\r\n\t  });\r\n\r\n\t  // append to query string\r\n\t  this.query.j = this.index;\r\n\r\n\t  // prevent spurious errors from being emitted when the window is unloaded\r\n\t  if (global.document && global.addEventListener) {\r\n\t    global.addEventListener('beforeunload', function () {\r\n\t      if (self.script) self.script.onerror = empty;\r\n\t    }, false);\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Inherits from Polling.\r\n\t */\r\n\r\n\tinherit(JSONPPolling, Polling);\r\n\r\n\t/*\r\n\t * JSONP only supports binary as base64 encoded strings\r\n\t */\r\n\r\n\tJSONPPolling.prototype.supportsBinary = false;\r\n\r\n\t/**\r\n\t * Closes the socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tJSONPPolling.prototype.doClose = function () {\r\n\t  if (this.script) {\r\n\t    this.script.parentNode.removeChild(this.script);\r\n\t    this.script = null;\r\n\t  }\r\n\r\n\t  if (this.form) {\r\n\t    this.form.parentNode.removeChild(this.form);\r\n\t    this.form = null;\r\n\t    this.iframe = null;\r\n\t  }\r\n\r\n\t  Polling.prototype.doClose.call(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Starts a poll cycle.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tJSONPPolling.prototype.doPoll = function () {\r\n\t  var self = this;\r\n\t  var script = document.createElement('script');\r\n\r\n\t  if (this.script) {\r\n\t    this.script.parentNode.removeChild(this.script);\r\n\t    this.script = null;\r\n\t  }\r\n\r\n\t  script.async = true;\r\n\t  script.src = this.uri();\r\n\t  script.onerror = function (e) {\r\n\t    self.onError('jsonp poll error', e);\r\n\t  };\r\n\r\n\t  var insertAt = document.getElementsByTagName('script')[0];\r\n\t  if (insertAt) {\r\n\t    insertAt.parentNode.insertBefore(script, insertAt);\r\n\t  } else {\r\n\t    (document.head || document.body).appendChild(script);\r\n\t  }\r\n\t  this.script = script;\r\n\r\n\t  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\r\n\r\n\t  if (isUAgecko) {\r\n\t    setTimeout(function () {\r\n\t      var iframe = document.createElement('iframe');\r\n\t      document.body.appendChild(iframe);\r\n\t      document.body.removeChild(iframe);\r\n\t    }, 100);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Writes with a hidden iframe.\r\n\t *\r\n\t * @param {String} data to send\r\n\t * @param {Function} called upon flush.\r\n\t * @api private\r\n\t */\r\n\r\n\tJSONPPolling.prototype.doWrite = function (data, fn) {\r\n\t  var self = this;\r\n\r\n\t  if (!this.form) {\r\n\t    var form = document.createElement('form');\r\n\t    var area = document.createElement('textarea');\r\n\t    var id = this.iframeId = 'eio_iframe_' + this.index;\r\n\t    var iframe;\r\n\r\n\t    form.className = 'socketio';\r\n\t    form.style.position = 'absolute';\r\n\t    form.style.top = '-1000px';\r\n\t    form.style.left = '-1000px';\r\n\t    form.target = id;\r\n\t    form.method = 'POST';\r\n\t    form.setAttribute('accept-charset', 'utf-8');\r\n\t    area.name = 'd';\r\n\t    form.appendChild(area);\r\n\t    document.body.appendChild(form);\r\n\r\n\t    this.form = form;\r\n\t    this.area = area;\r\n\t  }\r\n\r\n\t  this.form.action = this.uri();\r\n\r\n\t  function complete () {\r\n\t    initIframe();\r\n\t    fn();\r\n\t  }\r\n\r\n\t  function initIframe () {\r\n\t    if (self.iframe) {\r\n\t      try {\r\n\t        self.form.removeChild(self.iframe);\r\n\t      } catch (e) {\r\n\t        self.onError('jsonp polling iframe removal error', e);\r\n\t      }\r\n\t    }\r\n\r\n\t    try {\r\n\t      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\r\n\t      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\r\n\t      iframe = document.createElement(html);\r\n\t    } catch (e) {\r\n\t      iframe = document.createElement('iframe');\r\n\t      iframe.name = self.iframeId;\r\n\t      iframe.src = 'javascript:0';\r\n\t    }\r\n\r\n\t    iframe.id = self.iframeId;\r\n\r\n\t    self.form.appendChild(iframe);\r\n\t    self.iframe = iframe;\r\n\t  }\r\n\r\n\t  initIframe();\r\n\r\n\t  // escape \\n to prevent it from being converted into \\r\\n by some UAs\r\n\t  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\r\n\t  data = data.replace(rEscapedNewline, '\\\\\\n');\r\n\t  this.area.value = data.replace(rNewline, '\\\\n');\r\n\r\n\t  try {\r\n\t    this.form.submit();\r\n\t  } catch (e) {}\r\n\r\n\t  if (this.iframe.attachEvent) {\r\n\t    this.iframe.onreadystatechange = function () {\r\n\t      if (self.iframe.readyState === 'complete') {\r\n\t        complete();\r\n\t      }\r\n\t    };\r\n\t  } else {\r\n\t    this.iframe.onload = complete;\r\n\t  }\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 40 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar Transport = __webpack_require__(26);\r\n\tvar parser = __webpack_require__(27);\r\n\tvar parseqs = __webpack_require__(36);\r\n\tvar inherit = __webpack_require__(37);\r\n\tvar yeast = __webpack_require__(38);\r\n\tvar debug = __webpack_require__(3)('engine.io-client:websocket');\r\n\tvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\r\n\tvar NodeWebSocket;\r\n\tif (typeof window === 'undefined') {\r\n\t  try {\r\n\t    NodeWebSocket = __webpack_require__(41);\r\n\t  } catch (e) { }\r\n\t}\r\n\r\n\t/**\r\n\t * Get either the `WebSocket` or `MozWebSocket` globals\r\n\t * in the browser or try to resolve WebSocket-compatible\r\n\t * interface exposed by `ws` for Node-like environment.\r\n\t */\r\n\r\n\tvar WebSocket = BrowserWebSocket;\r\n\tif (!WebSocket && typeof window === 'undefined') {\r\n\t  WebSocket = NodeWebSocket;\r\n\t}\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = WS;\r\n\r\n\t/**\r\n\t * WebSocket transport constructor.\r\n\t *\r\n\t * @api {Object} connection options\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction WS (opts) {\r\n\t  var forceBase64 = (opts && opts.forceBase64);\r\n\t  if (forceBase64) {\r\n\t    this.supportsBinary = false;\r\n\t  }\r\n\t  this.perMessageDeflate = opts.perMessageDeflate;\r\n\t  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\r\n\t  if (!this.usingBrowserWebSocket) {\r\n\t    WebSocket = NodeWebSocket;\r\n\t  }\r\n\t  Transport.call(this, opts);\r\n\t}\r\n\r\n\t/**\r\n\t * Inherits from Transport.\r\n\t */\r\n\r\n\tinherit(WS, Transport);\r\n\r\n\t/**\r\n\t * Transport name.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tWS.prototype.name = 'websocket';\r\n\r\n\t/*\r\n\t * WebSockets support binary\r\n\t */\r\n\r\n\tWS.prototype.supportsBinary = true;\r\n\r\n\t/**\r\n\t * Opens socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.doOpen = function () {\r\n\t  if (!this.check()) {\r\n\t    // let probe timeout\r\n\t    return;\r\n\t  }\r\n\r\n\t  var uri = this.uri();\r\n\t  var protocols = void (0);\r\n\t  var opts = {\r\n\t    agent: this.agent,\r\n\t    perMessageDeflate: this.perMessageDeflate\r\n\t  };\r\n\r\n\t  // SSL options for Node.js client\r\n\t  opts.pfx = this.pfx;\r\n\t  opts.key = this.key;\r\n\t  opts.passphrase = this.passphrase;\r\n\t  opts.cert = this.cert;\r\n\t  opts.ca = this.ca;\r\n\t  opts.ciphers = this.ciphers;\r\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\r\n\t  if (this.extraHeaders) {\r\n\t    opts.headers = this.extraHeaders;\r\n\t  }\r\n\t  if (this.localAddress) {\r\n\t    opts.localAddress = this.localAddress;\r\n\t  }\r\n\r\n\t  try {\r\n\t    this.ws = this.usingBrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\r\n\t  } catch (err) {\r\n\t    return this.emit('error', err);\r\n\t  }\r\n\r\n\t  if (this.ws.binaryType === undefined) {\r\n\t    this.supportsBinary = false;\r\n\t  }\r\n\r\n\t  if (this.ws.supports && this.ws.supports.binary) {\r\n\t    this.supportsBinary = true;\r\n\t    this.ws.binaryType = 'nodebuffer';\r\n\t  } else {\r\n\t    this.ws.binaryType = 'arraybuffer';\r\n\t  }\r\n\r\n\t  this.addEventListeners();\r\n\t};\r\n\r\n\t/**\r\n\t * Adds event listeners to the socket\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.addEventListeners = function () {\r\n\t  var self = this;\r\n\r\n\t  this.ws.onopen = function () {\r\n\t    self.onOpen();\r\n\t  };\r\n\t  this.ws.onclose = function () {\r\n\t    self.onClose();\r\n\t  };\r\n\t  this.ws.onmessage = function (ev) {\r\n\t    self.onData(ev.data);\r\n\t  };\r\n\t  this.ws.onerror = function (e) {\r\n\t    self.onError('websocket error', e);\r\n\t  };\r\n\t};\r\n\r\n\t/**\r\n\t * Writes data to socket.\r\n\t *\r\n\t * @param {Array} array of packets.\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.write = function (packets) {\r\n\t  var self = this;\r\n\t  this.writable = false;\r\n\r\n\t  // encodePacket efficient as it uses WS framing\r\n\t  // no need for encodePayload\r\n\t  var total = packets.length;\r\n\t  for (var i = 0, l = total; i < l; i++) {\r\n\t    (function (packet) {\r\n\t      parser.encodePacket(packet, self.supportsBinary, function (data) {\r\n\t        if (!self.usingBrowserWebSocket) {\r\n\t          // always create a new object (GH-437)\r\n\t          var opts = {};\r\n\t          if (packet.options) {\r\n\t            opts.compress = packet.options.compress;\r\n\t          }\r\n\r\n\t          if (self.perMessageDeflate) {\r\n\t            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\r\n\t            if (len < self.perMessageDeflate.threshold) {\r\n\t              opts.compress = false;\r\n\t            }\r\n\t          }\r\n\t        }\r\n\r\n\t        // Sometimes the websocket has already been closed but the browser didn't\r\n\t        // have a chance of informing us about it yet, in that case send will\r\n\t        // throw an error\r\n\t        try {\r\n\t          if (self.usingBrowserWebSocket) {\r\n\t            // TypeError is thrown when passing the second argument on Safari\r\n\t            self.ws.send(data);\r\n\t          } else {\r\n\t            self.ws.send(data, opts);\r\n\t          }\r\n\t        } catch (e) {\r\n\t          debug('websocket closed before onclose event');\r\n\t        }\r\n\r\n\t        --total || done();\r\n\t      });\r\n\t    })(packets[i]);\r\n\t  }\r\n\r\n\t  function done () {\r\n\t    self.emit('flush');\r\n\r\n\t    // fake drain\r\n\t    // defer to next tick to allow Socket to clear writeBuffer\r\n\t    setTimeout(function () {\r\n\t      self.writable = true;\r\n\t      self.emit('drain');\r\n\t    }, 0);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon close\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.onClose = function () {\r\n\t  Transport.prototype.onClose.call(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Closes socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.doClose = function () {\r\n\t  if (typeof this.ws !== 'undefined') {\r\n\t    this.ws.close();\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Generates uri for connection.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tWS.prototype.uri = function () {\r\n\t  var query = this.query || {};\r\n\t  var schema = this.secure ? 'wss' : 'ws';\r\n\t  var port = '';\r\n\r\n\t  // avoid port if default for schema\r\n\t  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\r\n\t    ('ws' === schema && Number(this.port) !== 80))) {\r\n\t    port = ':' + this.port;\r\n\t  }\r\n\r\n\t  // append timestamp to URI\r\n\t  if (this.timestampRequests) {\r\n\t    query[this.timestampParam] = yeast();\r\n\t  }\r\n\r\n\t  // communicate binary support capabilities\r\n\t  if (!this.supportsBinary) {\r\n\t    query.b64 = 1;\r\n\t  }\r\n\r\n\t  query = parseqs.encode(query);\r\n\r\n\t  // prepend ? to query\r\n\t  if (query.length) {\r\n\t    query = '?' + query;\r\n\t  }\r\n\r\n\t  var ipv6 = this.hostname.indexOf(':') !== -1;\r\n\t  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\r\n\t};\r\n\r\n\t/**\r\n\t * Feature detection for WebSocket.\r\n\t *\r\n\t * @return {Boolean} whether this transport is available.\r\n\t * @api public\r\n\t */\r\n\r\n\tWS.prototype.check = function () {\r\n\t  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\r\n\t};\r\n\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 41 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* (ignored) */\r\n\r\n/***/ },\r\n/* 42 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\tvar indexOf = [].indexOf;\r\n\r\n\tmodule.exports = function(arr, obj){\r\n\t  if (indexOf) return arr.indexOf(obj);\r\n\t  for (var i = 0; i < arr.length; ++i) {\r\n\t    if (arr[i] === obj) return i;\r\n\t  }\r\n\t  return -1;\r\n\t};\r\n\r\n/***/ },\r\n/* 43 */\r\n/***/ function(module, exports) {\r\n\r\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * JSON parse.\r\n\t *\r\n\t * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n\t * @api private\r\n\t */\r\n\r\n\tvar rvalidchars = /^[\\],:{}\\s]*$/;\r\n\tvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\n\tvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\n\tvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\n\tvar rtrimLeft = /^\\s+/;\r\n\tvar rtrimRight = /\\s+$/;\r\n\r\n\tmodule.exports = function parsejson(data) {\r\n\t  if ('string' != typeof data || !data) {\r\n\t    return null;\r\n\t  }\r\n\r\n\t  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n\t  // Attempt to parse using the native JSON parser first\r\n\t  if (global.JSON && JSON.parse) {\r\n\t    return JSON.parse(data);\r\n\t  }\r\n\r\n\t  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n\t      .replace(rvalidtokens, ']')\r\n\t      .replace(rvalidbraces, ''))) {\r\n\t    return (new Function('return ' + data))();\r\n\t  }\r\n\t};\r\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\r\n\r\n/***/ },\r\n/* 44 */\r\n/***/ function(module, exports, __webpack_require__) {\r\n\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Module dependencies.\r\n\t */\r\n\r\n\tvar parser = __webpack_require__(7);\r\n\tvar Emitter = __webpack_require__(35);\r\n\tvar toArray = __webpack_require__(45);\r\n\tvar on = __webpack_require__(46);\r\n\tvar bind = __webpack_require__(47);\r\n\tvar debug = __webpack_require__(3)('socket.io-client:socket');\r\n\tvar hasBin = __webpack_require__(29);\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = exports = Socket;\r\n\r\n\t/**\r\n\t * Internal events (blacklisted).\r\n\t * These events can't be emitted by the user.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tvar events = {\r\n\t  connect: 1,\r\n\t  connect_error: 1,\r\n\t  connect_timeout: 1,\r\n\t  connecting: 1,\r\n\t  disconnect: 1,\r\n\t  error: 1,\r\n\t  reconnect: 1,\r\n\t  reconnect_attempt: 1,\r\n\t  reconnect_failed: 1,\r\n\t  reconnect_error: 1,\r\n\t  reconnecting: 1,\r\n\t  ping: 1,\r\n\t  pong: 1\r\n\t};\r\n\r\n\t/**\r\n\t * Shortcut to `Emitter#emit`.\r\n\t */\r\n\r\n\tvar emit = Emitter.prototype.emit;\r\n\r\n\t/**\r\n\t * `Socket` constructor.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Socket(io, nsp, opts) {\r\n\t  this.io = io;\r\n\t  this.nsp = nsp;\r\n\t  this.json = this; // compat\r\n\t  this.ids = 0;\r\n\t  this.acks = {};\r\n\t  this.receiveBuffer = [];\r\n\t  this.sendBuffer = [];\r\n\t  this.connected = false;\r\n\t  this.disconnected = true;\r\n\t  if (opts && opts.query) {\r\n\t    this.query = opts.query;\r\n\t  }\r\n\t  if (this.io.autoConnect) this.open();\r\n\t}\r\n\r\n\t/**\r\n\t * Mix in `Emitter`.\r\n\t */\r\n\r\n\tEmitter(Socket.prototype);\r\n\r\n\t/**\r\n\t * Subscribe to open, close and packet events\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.subEvents = function () {\r\n\t  if (this.subs) return;\r\n\r\n\t  var io = this.io;\r\n\t  this.subs = [on(io, 'open', bind(this, 'onopen')), on(io, 'packet', bind(this, 'onpacket')), on(io, 'close', bind(this, 'onclose'))];\r\n\t};\r\n\r\n\t/**\r\n\t * \"Opens\" the socket.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.open = Socket.prototype.connect = function () {\r\n\t  if (this.connected) return this;\r\n\r\n\t  this.subEvents();\r\n\t  this.io.open(); // ensure open\r\n\t  if ('open' === this.io.readyState) this.onopen();\r\n\t  this.emit('connecting');\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sends a `message` event.\r\n\t *\r\n\t * @return {Socket} self\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.send = function () {\r\n\t  var args = toArray(arguments);\r\n\t  args.unshift('message');\r\n\t  this.emit.apply(this, args);\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Override `emit`.\r\n\t * If the event is in `events`, it's emitted normally.\r\n\t *\r\n\t * @param {String} event name\r\n\t * @return {Socket} self\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.emit = function (ev) {\r\n\t  if (events.hasOwnProperty(ev)) {\r\n\t    emit.apply(this, arguments);\r\n\t    return this;\r\n\t  }\r\n\r\n\t  var args = toArray(arguments);\r\n\t  var parserType = parser.EVENT; // default\r\n\t  if (hasBin(args)) {\r\n\t    parserType = parser.BINARY_EVENT;\r\n\t  } // binary\r\n\t  var packet = { type: parserType, data: args };\r\n\r\n\t  packet.options = {};\r\n\t  packet.options.compress = !this.flags || false !== this.flags.compress;\r\n\r\n\t  // event ack callback\r\n\t  if ('function' === typeof args[args.length - 1]) {\r\n\t    debug('emitting packet with ack id %d', this.ids);\r\n\t    this.acks[this.ids] = args.pop();\r\n\t    packet.id = this.ids++;\r\n\t  }\r\n\r\n\t  if (this.connected) {\r\n\t    this.packet(packet);\r\n\t  } else {\r\n\t    this.sendBuffer.push(packet);\r\n\t  }\r\n\r\n\t  delete this.flags;\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sends a packet.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.packet = function (packet) {\r\n\t  packet.nsp = this.nsp;\r\n\t  this.io.packet(packet);\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon engine `open`.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onopen = function () {\r\n\t  debug('transport is open - connecting');\r\n\r\n\t  // write connect packet if necessary\r\n\t  if ('/' !== this.nsp) {\r\n\t    if (this.query) {\r\n\t      this.packet({ type: parser.CONNECT, query: this.query });\r\n\t    } else {\r\n\t      this.packet({ type: parser.CONNECT });\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon engine `close`.\r\n\t *\r\n\t * @param {String} reason\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onclose = function (reason) {\r\n\t  debug('close (%s)', reason);\r\n\t  this.connected = false;\r\n\t  this.disconnected = true;\r\n\t  delete this.id;\r\n\t  this.emit('disconnect', reason);\r\n\t};\r\n\r\n\t/**\r\n\t * Called with socket packet.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onpacket = function (packet) {\r\n\t  if (packet.nsp !== this.nsp) return;\r\n\r\n\t  switch (packet.type) {\r\n\t    case parser.CONNECT:\r\n\t      this.onconnect();\r\n\t      break;\r\n\r\n\t    case parser.EVENT:\r\n\t      this.onevent(packet);\r\n\t      break;\r\n\r\n\t    case parser.BINARY_EVENT:\r\n\t      this.onevent(packet);\r\n\t      break;\r\n\r\n\t    case parser.ACK:\r\n\t      this.onack(packet);\r\n\t      break;\r\n\r\n\t    case parser.BINARY_ACK:\r\n\t      this.onack(packet);\r\n\t      break;\r\n\r\n\t    case parser.DISCONNECT:\r\n\t      this.ondisconnect();\r\n\t      break;\r\n\r\n\t    case parser.ERROR:\r\n\t      this.emit('error', packet.data);\r\n\t      break;\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon a server event.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onevent = function (packet) {\r\n\t  var args = packet.data || [];\r\n\t  debug('emitting event %j', args);\r\n\r\n\t  if (null != packet.id) {\r\n\t    debug('attaching ack callback to event');\r\n\t    args.push(this.ack(packet.id));\r\n\t  }\r\n\r\n\t  if (this.connected) {\r\n\t    emit.apply(this, args);\r\n\t  } else {\r\n\t    this.receiveBuffer.push(args);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Produces an ack callback to emit with an event.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.ack = function (id) {\r\n\t  var self = this;\r\n\t  var sent = false;\r\n\t  return function () {\r\n\t    // prevent double callbacks\r\n\t    if (sent) return;\r\n\t    sent = true;\r\n\t    var args = toArray(arguments);\r\n\t    debug('sending ack %j', args);\r\n\r\n\t    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\r\n\t    self.packet({\r\n\t      type: type,\r\n\t      id: id,\r\n\t      data: args\r\n\t    });\r\n\t  };\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon a server acknowlegement.\r\n\t *\r\n\t * @param {Object} packet\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onack = function (packet) {\r\n\t  var ack = this.acks[packet.id];\r\n\t  if ('function' === typeof ack) {\r\n\t    debug('calling ack %s with %j', packet.id, packet.data);\r\n\t    ack.apply(this, packet.data);\r\n\t    delete this.acks[packet.id];\r\n\t  } else {\r\n\t    debug('bad ack %s', packet.id);\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon server connect.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.onconnect = function () {\r\n\t  this.connected = true;\r\n\t  this.disconnected = false;\r\n\t  this.emit('connect');\r\n\t  this.emitBuffered();\r\n\t};\r\n\r\n\t/**\r\n\t * Emit buffered events (received and emitted).\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.emitBuffered = function () {\r\n\t  var i;\r\n\t  for (i = 0; i < this.receiveBuffer.length; i++) {\r\n\t    emit.apply(this, this.receiveBuffer[i]);\r\n\t  }\r\n\t  this.receiveBuffer = [];\r\n\r\n\t  for (i = 0; i < this.sendBuffer.length; i++) {\r\n\t    this.packet(this.sendBuffer[i]);\r\n\t  }\r\n\t  this.sendBuffer = [];\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon server disconnect.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tSocket.prototype.ondisconnect = function () {\r\n\t  debug('server disconnect (%s)', this.nsp);\r\n\t  this.destroy();\r\n\t  this.onclose('io server disconnect');\r\n\t};\r\n\r\n\t/**\r\n\t * Called upon forced client/server side disconnections,\r\n\t * this method ensures the manager stops tracking us and\r\n\t * that reconnections don't get triggered for this.\r\n\t *\r\n\t * @api private.\r\n\t */\r\n\r\n\tSocket.prototype.destroy = function () {\r\n\t  if (this.subs) {\r\n\t    // clean subscriptions to avoid reconnections\r\n\t    for (var i = 0; i < this.subs.length; i++) {\r\n\t      this.subs[i].destroy();\r\n\t    }\r\n\t    this.subs = null;\r\n\t  }\r\n\r\n\t  this.io.destroy(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Disconnects the socket manually.\r\n\t *\r\n\t * @return {Socket} self\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.close = Socket.prototype.disconnect = function () {\r\n\t  if (this.connected) {\r\n\t    debug('performing disconnect (%s)', this.nsp);\r\n\t    this.packet({ type: parser.DISCONNECT });\r\n\t  }\r\n\r\n\t  // remove socket from pool\r\n\t  this.destroy();\r\n\r\n\t  if (this.connected) {\r\n\t    // fire events\r\n\t    this.onclose('io client disconnect');\r\n\t  }\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the compress flag.\r\n\t *\r\n\t * @param {Boolean} if `true`, compresses the sending data\r\n\t * @return {Socket} self\r\n\t * @api public\r\n\t */\r\n\r\n\tSocket.prototype.compress = function (compress) {\r\n\t  this.flags = this.flags || {};\r\n\t  this.flags.compress = compress;\r\n\t  return this;\r\n\t};\r\n\r\n/***/ },\r\n/* 45 */\r\n/***/ function(module, exports) {\r\n\r\n\tmodule.exports = toArray\r\n\r\n\tfunction toArray(list, index) {\r\n\t    var array = []\r\n\r\n\t    index = index || 0\r\n\r\n\t    for (var i = index || 0; i < list.length; i++) {\r\n\t        array[i - index] = list[i]\r\n\t    }\r\n\r\n\t    return array\r\n\t}\r\n\r\n\r\n/***/ },\r\n/* 46 */\r\n/***/ function(module, exports) {\r\n\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Module exports.\r\n\t */\r\n\r\n\tmodule.exports = on;\r\n\r\n\t/**\r\n\t * Helper for subscriptions.\r\n\t *\r\n\t * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\r\n\t * @param {String} event name\r\n\t * @param {Function} callback\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction on(obj, ev, fn) {\r\n\t  obj.on(ev, fn);\r\n\t  return {\r\n\t    destroy: function destroy() {\r\n\t      obj.removeListener(ev, fn);\r\n\t    }\r\n\t  };\r\n\t\t}\r\n\r\n/***/ },\r\n/* 47 */\r\n/***/ function(module, exports) {\r\n\r\n\t/**\r\n\t * Slice reference.\r\n\t */\r\n\r\n\tvar slice = [].slice;\r\n\r\n\t/**\r\n\t * Bind `obj` to `fn`.\r\n\t *\r\n\t * @param {Object} obj\r\n\t * @param {Function|String} fn or string\r\n\t * @return {Function}\r\n\t * @api public\r\n\t */\r\n\r\n\tmodule.exports = function(obj, fn){\r\n\t  if ('string' == typeof fn) fn = obj[fn];\r\n\t  if ('function' != typeof fn) throw new Error('bind() requires a function');\r\n\t  var args = slice.call(arguments, 2);\r\n\t  return function(){\r\n\t    return fn.apply(obj, args.concat(slice.call(arguments)));\r\n\t  }\r\n\t};\r\n\r\n\r\n/***/ },\r\n/* 48 */\r\n/***/ function(module, exports) {\r\n\r\n\t\r\n\t/**\r\n\t * Expose `Backoff`.\r\n\t */\r\n\r\n\tmodule.exports = Backoff;\r\n\r\n\t/**\r\n\t * Initialize backoff timer with `opts`.\r\n\t *\r\n\t * - `min` initial timeout in milliseconds [100]\r\n\t * - `max` max timeout [10000]\r\n\t * - `jitter` [0]\r\n\t * - `factor` [2]\r\n\t *\r\n\t * @param {Object} opts\r\n\t * @api public\r\n\t */\r\n\r\n\tfunction Backoff(opts) {\r\n\t  opts = opts || {};\r\n\t  this.ms = opts.min || 100;\r\n\t  this.max = opts.max || 10000;\r\n\t  this.factor = opts.factor || 2;\r\n\t  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\r\n\t  this.attempts = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the backoff duration.\r\n\t *\r\n\t * @return {Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tBackoff.prototype.duration = function(){\r\n\t  var ms = this.ms * Math.pow(this.factor, this.attempts++);\r\n\t  if (this.jitter) {\r\n\t    var rand =  Math.random();\r\n\t    var deviation = Math.floor(rand * this.jitter * ms);\r\n\t    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\r\n\t  }\r\n\t  return Math.min(ms, this.max) | 0;\r\n\t};\r\n\r\n\t/**\r\n\t * Reset the number of attempts.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tBackoff.prototype.reset = function(){\r\n\t  this.attempts = 0;\r\n\t};\r\n\r\n\t/**\r\n\t * Set the minimum duration\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tBackoff.prototype.setMin = function(min){\r\n\t  this.ms = min;\r\n\t};\r\n\r\n\t/**\r\n\t * Set the maximum duration\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tBackoff.prototype.setMax = function(max){\r\n\t  this.max = max;\r\n\t};\r\n\r\n\t/**\r\n\t * Set the jitter\r\n\t *\r\n\t * @api public\r\n\t */\r\n\r\n\tBackoff.prototype.setJitter = function(jitter){\r\n\t  this.jitter = jitter;\r\n\t};\r\n\r\n\r\n\r\n/***/ }\r\n/******/ ])\r\n});\r\n;\r\n//# sourceMappingURL=socket.io.js.map"]}